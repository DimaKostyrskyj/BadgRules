<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">

    <!-- Cache Control –¥–ª—è Opera GX –∏ –¥—Ä—É–≥–∏—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="version" content="1.2.0">
    <meta name="last-modified" content="2025-12-18T20:56:03.473Z">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Universal Access & SEO -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    
    <!-- No Geo-blocking -->
    <meta name="geo.region" content="WORLD">
    <meta name="geo.placename" content="Global">
    
    <!-- Cache Control for better availability -->
    
    
    <!-- Content Security Policy - Simplified for blocked regions -->
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    
    <title>BadgRules - –ù–µ–π—Ä–æ—Å–µ—Ç—å –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º GTA 5 RP</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;600;700&family=Manrope:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="images/logo.ico">
    <link rel="shortcut icon" type="image/x-icon" href="images/logo.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="images/logo.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="images/logo.ico">
    <link rel="apple-touch-icon" sizes="180x180" href="images/logo.ico">
    <style>
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           üõ°Ô∏è LOADING PROTECTION - –ó–∞—â–∏—Ç–∞ –æ—Ç —á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        
        /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∑—è—Ç—Å—è —Å—Ç–∏–ª–∏ */
        body {
            background: #000 !important;
            margin: 0;
            padding: 0;
        }
        
        /* –≠–∫—Ä–∞–Ω –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
        #initialLoader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at 50% 50%, 
                rgba(10, 20, 35, 1) 0%,
                rgba(5, 10, 20, 1) 50%,
                rgba(0, 0, 0, 1) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 999999;
            color: white;
        }
        
        #initialLoader .loader-content {
            text-align: center;
        }
        
        #initialLoader .loader-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(96, 165, 250, 0.2);
            border-top-color: #60a5fa;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        #initialLoader .loader-text {
            font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 18px;
            font-weight: 600;
            color: #60a5fa;
            margin-bottom: 10px;
        }
        
        #initialLoader .loader-subtext {
            font-family: 'Manrope', -apple-system, BlinkMacSystemFont, sans-serif;
            font-size: 14px;
            color: #a0a0a0;
        }
        
        #initialLoader .loader-error {
            display: none;
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            max-width: 500px;
        }
        
        #initialLoader .loader-error.active {
            display: block;
        }
        
        #initialLoader .error-title {
            color: #ef4444;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        #initialLoader .error-message {
            color: #fca5a5;
            font-size: 14px;
            line-height: 1.6;
        }
        
        #initialLoader .retry-button {
            background: #60a5fa;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }
        
        #initialLoader .retry-button:hover {
            background: #3b82f6;
            transform: translateY(-2px);
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Background Colors */
            --primary-bg: #000000;
            --secondary-bg: #0a0a0a;
            --card-bg: #141414;
            
            /* Accent Colors - Futuristic Palette */
            --accent-primary: #60a5fa;      /* Purple */
            --accent-secondary: #3b82f6;    /* Pink */
            --accent-success: #10b981;      /* Green */
            --accent-warning: #fbbf24;      /* Gold */
            --accent-color: #f5f5f5;        /* Legacy support */
            
            /* Text Colors */
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --text-muted: #666666;
            
            /* Border & Effects */
            --border-color: #2a2a2a;
            --border-glow: rgba(96, 165, 250, 0.3);
            --shadow: rgba(0, 0, 0, 0.5);
            --glow: rgba(96, 165, 250, 0.2);
            
            /* GTA Colors */
            --gta5rp-color: #e74c3c;
            --majestic-color: #9b59b6;
        }

        body {
            font-family: 'Manrope', sans-serif;
            background: radial-gradient(ellipse at 50% 50%, 
                rgba(10, 20, 35, 1) 0%,
                rgba(5, 10, 20, 1) 50%,
                rgba(0, 0, 0, 1) 100%);
            color: var(--text-primary);
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 50% 50%,
                rgba(20, 50, 100, 0.04) 0%,
                rgba(15, 40, 80, 0.02) 40%,
                transparent 70%
            );
            pointer-events: none;
            z-index: 0;
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           üåä –ì–û–õ–£–ë–û–ï –ì–õ–û–ë–ê–õ–¨–ù–û–ï –°–í–ï–ß–ï–ù–ò–ï –ù–ê –í–ï–°–¨ –°–ê–ô–¢
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .global-gradient-mesh {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
            overflow: hidden;
            display: block; /* –í–ö–õ–Æ–ß–ï–ù–û */
        }

        /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∏–Ω–∏–π —Å–ª–æ–π –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω - –±–æ–ª–µ–µ —Ç–µ–º–Ω—ã–π */
        .global-gradient-mesh::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 50% 50%,
                rgba(60, 110, 180, 0.04) 0%,
                rgba(50, 100, 170, 0.03) 20%,
                rgba(40, 90, 160, 0.02) 40%,
                rgba(30, 80, 150, 0.01) 60%,
                transparent 80%
            );
            animation: globalBlueRotate 30s linear infinite;
        }

        @keyframes globalBlueRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–µ –≥–æ–ª—É–±–æ-—Å–µ—Ä–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ –æ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ */
        .global-blue-ambient {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(ellipse at 70% 45%,
                rgba(60, 100, 160, 0.06) 0%,
                rgba(50, 90, 150, 0.04) 25%,
                rgba(40, 80, 140, 0.03) 45%,
                rgba(30, 70, 130, 0.02) 65%,
                rgba(20, 60, 120, 0.01) 80%,
                transparent 100%
            );
            opacity: 0.8;
            filter: blur(100px);
        }

        .global-mesh-gradient {
            display: none; /* –°–ö–†–´–¢–û */
        }

        .global-gradient-1 {
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, var(--accent-primary), transparent);
            top: -300px;
            left: -300px;
        }

        .global-gradient-2 {
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, var(--accent-secondary), transparent);
            top: 20%;
            right: -200px;
            animation-delay: -8s;
        }

        .global-gradient-3 {
            width: 700px;
            height: 700px;
            background: radial-gradient(circle, var(--accent-primary), transparent);
            bottom: -250px;
            left: 40%;
            animation-delay: -16s;
        }

        .global-gradient-4 {
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, var(--accent-success), transparent);
            top: 50%;
            left: -150px;
            animation-delay: -12s;
        }

        @keyframes globalMeshFloat {
            0%, 100% { transform: translate(0, 0) rotate(0deg) scale(1); }
            25% { transform: translate(80px, -60px) rotate(90deg) scale(1.1); }
            50% { transform: translate(-40px, 80px) rotate(180deg) scale(0.9); }
            75% { transform: translate(60px, 40px) rotate(270deg) scale(1.05); }
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           –ù–û–í–´–ô –§–û–ù - –ü–ï–†–°–û–ù–ê–ñ –ò –°–í–ï–¢–Ø–©–ò–ô–°–Ø –ö–†–£–ì –ö–ê–ö –ù–ê –§–û–¢–û
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        
        /* –í–ò–î–ò–ú–´–ô –°–í–ï–¢–Ø–©–ò–ô–°–Ø –ö–†–£–ì –ó–ê –ü–ï–†–°–û–ù–ê–ñ–ï–ú - –¢–û–ß–ù–ê–Ø –ö–û–ü–ò–Ø */
        .hero-background-circle {
            position: fixed;
            top: 35%;
            right: 12%;
            transform: translate(0, -50%);
            width: 850px;
            height: 850px;
            z-index: 1;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–∏–Ω–∏–π –∫—Ä—É–≥ —Å –ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–º —Å–≤–µ—á–µ–Ω–∏–µ–º */
        .hero-background-circle::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center,
                rgba(70, 120, 200, 0.08) 0%,
                rgba(70, 120, 200, 0.06) 30%,
                rgba(60, 110, 190, 0.04) 50%,
                rgba(50, 100, 180, 0.02) 70%,
                transparent 100%
            );
            border-radius: 50%;
            border: 3px solid rgba(70, 120, 200, 0.3);
            box-shadow: 
                inset 0 0 100px rgba(70, 120, 200, 0.12),
                inset 0 0 50px rgba(60, 110, 190, 0.08),
                0 0 60px rgba(70, 120, 200, 0.2),
                0 0 120px rgba(60, 110, 190, 0.15);
        }

        /* –í–Ω–µ—à–Ω–µ–µ —Å–∏–Ω–µ–µ —Å–≤–µ—á–µ–Ω–∏–µ –æ—Ç –∫—Ä—É–≥–∞ - –±–æ–ª–µ–µ —Ç–µ–º–Ω–æ–µ */
        .hero-background-circle::after {
            content: '';
            position: absolute;
            width: 250%;
            height: 250%;
            background: radial-gradient(circle at center,
                rgba(70, 120, 200, 0.10) 0%,
                rgba(60, 110, 190, 0.08) 15%,
                rgba(50, 100, 180, 0.06) 25%,
                rgba(45, 95, 170, 0.04) 40%,
                rgba(40, 90, 160, 0.03) 55%,
                rgba(35, 80, 150, 0.02) 70%,
                rgba(30, 70, 140, 0.01) 85%,
                transparent 100%
            );
            border-radius: 50%;
            filter: blur(150px);
        }

        /* Canvas –¥–ª—è –º–æ–ª–Ω–∏–π - –°–ö–†–´–¢–û */
        .lightning-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            display: none; /* –°–ö–†–´–¢–û */
        }

        .hero-character-badger {
            position: fixed;
            top: 60%;
            right: 10%;
            transform: translateY(-50%);
            width: 650px;
            height: 100vh;
            max-height: 900px;
            z-index: 2;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }

        /* –ì–û–õ–£–ë–û-–°–ï–†–û–ï –°–í–ï–ß–ï–ù–ò–ï –û–¢ –ü–ï–†–°–û–ù–ê–ñ–ê –ò –ö–†–£–ì–ê */
        .hero-character-badger::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 1000px;
            height: 1000px;
            background: radial-gradient(circle at center,
                rgba(140, 170, 200, 0.15) 0%,
                rgba(130, 165, 200, 0.12) 10%,
                rgba(120, 160, 200, 0.09) 20%,
                rgba(110, 155, 200, 0.07) 30%,
                rgba(100, 150, 200, 0.05) 45%,
                rgba(90, 145, 200, 0.03) 60%,
                rgba(80, 140, 200, 0.015) 75%,
                transparent 100%
            );
            border-radius: 50%;
            z-index: -1;
            pointer-events: none;
            filter: blur(90px);
            animation: pulseGentleGlow 5s ease-in-out infinite;
        }

        @keyframes pulseGentleGlow {
            0%, 100% {
                opacity: 0.6;
                transform: translate(-50%, -50%) scale(1);
            }
            50% {
                opacity: 0.85;
                transform: translate(-50%, -50%) scale(1.03);
            }
        }

        .hero-character-badger img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            object-position: center;
            /* –£–ë–†–ê–ù–û –ë–ï–õ–û–ï –°–í–ï–ß–ï–ù–ò–ï - –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ —Ç–µ–Ω—å —Å–Ω–∏–∑—É */
            filter: drop-shadow(0 120px 200px rgba(0, 0, 0, 0.95));
            image-rendering: -webkit-optimize-contrast;
            image-rendering: high-quality;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            transform: translateZ(0);
            position: relative;
            z-index: 2;
        }

        /* –û–¥–Ω–æ –∫—Ä—ã–ª–æ —Ç–æ—á–Ω–æ –∑–∞ —Å–ø–∏–Ω–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ */
        .angel-wings {
            display: none; /* WINGS HIDDEN */
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .wing {
            position: absolute;
            top: 50%;
            left: -20%;  /* –ß—É—Ç—å –ª–µ–≤–µ–µ (–±—ã–ª–æ 50%) */
            transform: translate(-50%, -50%);
        }

        .wing img {
            width: 2000px;  /* –ë–æ–ª—å—à–µ (–±—ã–ª–æ 900px) */
            height: auto;
            object-fit: contain;
            filter: drop-shadow(0 10px 30px rgba(0, 0, 0, 0.3));
        }

        @media (max-width: 1600px) {
            .wing img {
                width: 1000px;  /* –ë—ã–ª–æ 800px */
            }
            .hero-background-circle {
                width: 750px;
                height: 750px;
                right: 10%;
            }
        }

        @media (max-width: 1400px) {
            .wing img {
                width: 900px;  /* –ë—ã–ª–æ 700px */
            }
            .hero-background-circle {
                width: 680px;
                height: 680px;
                right: 8%;
            }
        }

        @media (max-width: 1200px) {
            .wing img {
                width: 800px;  /* –ë—ã–ª–æ 600px */
            }
            .hero-background-circle {
                width: 600px;
                height: 600px;
                right: 6%;
            }
        }

        @media (max-width: 968px) {
            .wing img {
                width: 650px;  /* –ë—ã–ª–æ 500px */
            }
            .hero-background-circle {
                width: 520px;
                height: 520px;
                right: 4%;
            }
        }

        @media (max-width: 640px) {
            .wing img {
                width: 500px;  /* –ë—ã–ª–æ 400px */
            }
            .hero-background-circle {
                width: 450px;
                height: 450px;
                opacity: 0.65;
            }
        }

        @media (max-width: 1600px) {
            .hero-character-badger {
                width: 600px;
                max-height: 800px;
                right: 8%;
            }
            .hero-character-badger::before {
                width: 700px;
                height: 700px;
            }
        }

        @media (max-width: 1400px) {
            .hero-character-badger {
                width: 550px;
                max-height: 700px;
                right: 6%;
            }
            .hero-character-badger::before {
                width: 650px;
                height: 650px;
            }
        }

        @media (max-width: 1200px) {
            .hero-character-badger {
                width: 500px;
                max-height: 600px;
                right: 4%;
            }
            .hero-character-badger::before {
                width: 600px;
                height: 600px;
            }
        }

        @media (max-width: 968px) {
            .hero-character-badger {
                width: 400px;
                max-height: 500px;
                right: 0;
                opacity: 0.8;
            }
            .hero-character-badger::before {
                width: 500px;
                height: 500px;
                opacity: 0.6;
            }
        }

        @media (max-width: 640px) {
            .hero-character-badger {
                width: 320px;
                max-height: 400px;
                right: -30px;
                opacity: 0.7;
            }
            .hero-character-badger::before {
                width: 400px;
                height: 400px;
                opacity: 0.5;
            }
        }

        @media (max-width: 1600px) {
            .hero-background-circle {
                width: 650px;
                height: 650px;
            }
        }

        @media (max-width: 1400px) {
            .hero-background-circle {
                width: 600px;
                height: 600px;
            }
        }

        @media (max-width: 1200px) {
            .hero-background-circle {
                width: 500px;
                height: 500px;
            }
        }

        @media (max-width: 968px) {
            .hero-background-circle {
                width: 450px;
                height: 450px;
                top: 30%;
                right: -80px;
                opacity: 0.4;
            }
            .hero-character-badger {
                width: 60vw;
                right: 40%;
                opacity: 0.6;
            }
        }

        @media (max-width: 640px) {
            .hero-background-circle {
                width: 350px;
                height: 350px;
                top: 25%;
                right: -100px;
                opacity: 0.3;
            }
            .hero-character-badger {
                width: 70vw;
                right: 30%;
                opacity: 0.5;
            }
        }

        .global-particles-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            display: none; /* –°–ö–†–´–¢–û - –£–ë–†–ê–ù–´ –ß–ê–°–¢–ò–¶–´ */
        }

        .main-content {
            position: relative;
            z-index: 10;
        }

        /* Override all glassmorphism elements */
        .login-container,
        .project-card,
        .server-card,
        .message-content,
        .chat-input-box,
        .profile-dropdown,
        .modal-content,
        .settings-section {
            background: rgba(20, 20, 20, 0.7) !important;
            backdrop-filter: blur(20px) !important;
            -webkit-backdrop-filter: blur(20px) !important;
            border: 1px solid var(--border-color) !important;
        }

        /* Hover effects for interactive elements */
        .project-card:hover,
        .server-card:hover,
        .message-content:hover,
        .dropdown-item:hover {
            background: rgba(20, 20, 20, 0.85) !important;
            border-color: var(--border-glow) !important;
            box-shadow: 0 8px 32px var(--glow) !important;
            transform: translateY(-2px);
        }

        /* Logo glow */
        .logo-img,
        .logo-btn-img {
            filter: drop-shadow(0 0 30px rgba(96, 165, 250, 0.6)) !important;
            animation: logoFloat 3s ease-in-out infinite;
        }

        @keyframes logoFloat {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }

        /* Avatar gradients */
        .user-avatar,
        .message.bot .message-avatar {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)) !important;
        }

        /* Button gradients */
        .discord-login-btn,
        .login-btn,
        .send-btn,
        .btn-primary {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary)) !important;
            border: none !important;
            transition: all 0.3s ease !important;
        }

        .discord-login-btn:hover,
        .login-btn:hover,
        .send-btn:hover:not(:disabled),
        .btn-primary:hover {
            box-shadow: 0 8px 32px rgba(96, 165, 250, 0.5) !important;
            transform: scale(1.05) !important;
        }

        /* Input focus states */
        input:focus,
        textarea:focus,
        select:focus {
            outline: none !important;
            border-color: var(--border-glow) !important;
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.15) !important;
        }

        /* Selected states */
        .project-card.selected,
        .server-card.selected {
            border-color: var(--accent-primary) !important;
            box-shadow: 0 8px 32px rgba(96, 165, 250, 0.4) !important;
        }

        /* Dropdown enhancements */
        .dropdown-server-info {
            background: rgba(96, 165, 250, 0.1) !important;
            border: 1px solid rgba(96, 165, 250, 0.3) !important;
        }

        .dropdown-item:hover {
            background: rgba(96, 165, 250, 0.15) !important;
        }

        /* Message animations */
        .message {
            animation: messageSlideIn 0.5s ease-out;
        }

        @keyframes messageSlideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Status badge near avatar */
        .subscription-status-badge {
            display: none !important;
        }

        .subscription-status-badge.free {
            display: none !important;
        }

        .subscription-status-badge.pro {
            display: none !important;
        }

        .subscription-status-badge.lifetime {
            display: none !important;
        }

        @keyframes badgePulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        .subscription-status-icon {
            font-size: 0.75rem;
            filter: drop-shadow(0 0 3px currentColor);
        }

        /* Mini badge on avatar - HIDDEN */
        .sub-badge-mini {
            display: none !important;
        }

        .sub-badge-mini.free {
            display: none !important;
        }

        .sub-badge-mini.pro {
            display: none !important;
        }

        .sub-badge-mini.lifetime {
            display: none !important;
        }

        .sub-badge-wrapper {
            position: relative;
            display: inline-block;
        }

        /* Z-index hierarchy */
        .global-gradient-mesh { z-index: 0 !important; }
        .global-particles-canvas { z-index: 1 !important; }
        .main-content { z-index: 10 !important; }
        .login-overlay { z-index: 1000 !important; }
        .user-profile-badge { z-index: 1001 !important; }
            display: flex !important;
            opacity: 1 !important;
            visibility: visible !important;
            display: flex !important;
            opacity: 1 !important;
            visibility: visible !important;
        .profile-dropdown { z-index: 1002 !important; }

        /* Reduce background grid opacity */
        .background-grid {
            opacity: 0.02 !important;
        }

        /* Login Screen */
        .login-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-bg);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.5s ease-out;
        }

        .login-overlay.hidden {
            display: none;
        }

        .login-container {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 3rem;
            max-width: 540px;
            width: 90%;
            box-shadow: 0 20px 60px var(--shadow);
            animation: scaleIn 0.6s ease-out;
        }

        .login-logo {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .login-logo-img {
            width: 80px;
            height: 80px;
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3));
            animation: float 3s ease-in-out infinite;
        }

        .login-logo h2 {
            font-size: 2rem;
            font-weight: 800;
            letter-spacing: -0.02em;
            background: linear-gradient(135deg, #ffffff 0%, #a0a0a0 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
        }

        .login-content {
            text-align: center;
        }

        .login-content h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .login-subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 2rem;
            line-height: 1.5;
        }

        .discord-login-button {
            width: 100%;
            background: #5865F2;
            color: white;
            border: none;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Manrope', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
        }

        .discord-login-button:hover {
            background: #4752C4;
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(88, 101, 242, 0.4);
        }

        .discord-login-button:active {
            transform: translateY(0);
        }

        .discord-icon {
            width: 24px;
            height: 24px;
        }

        .login-divider {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .login-divider::before,
        .login-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border-color);
        }

        .login-divider span {
            padding: 0 1rem;
        }

        .guest-button {
            width: 100%;
            background: transparent;
            color: var(--text-primary);
            border: 1px solid var(--border-color);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Manrope', sans-serif;
        }

        .guest-button:hover {
            border-color: var(--accent-color);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.1);
        }

        .guest-button:active {
            transform: translateY(0);
        }

        .login-footer {
            margin-top: 1.5rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .login-footer a {
            color: var(--accent-color);
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .login-footer a:hover {
            opacity: 0.7;
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* PROJECT & SERVER SELECTION STYLES                                */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        /* Login Steps */
        .login-step {
            display: none;
        }

        .login-step.active {
            display: block;
        }

        /* Step Indicator */
        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .step-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--border-color);
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: #fff;
            width: 24px;
            border-radius: 4px;
        }

        .step-dot.completed {
            background: #22c55e;
        }

        /* Project Cards */
        .project-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .project-card {
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .project-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .project-card.gta5rp::before {
            background: linear-gradient(90deg, #e74c3c, #c0392b);
        }

        .project-card.majestic::before {
            background: linear-gradient(90deg, #9b59b6, #8e44ad);
        }

        .project-card:hover {
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-4px);
        }

        .project-card:hover::before {
            opacity: 1;
        }

        .project-card.selected {
            border-color: #fff;
            background: rgba(255, 255, 255, 0.08);
        }

        .project-card.selected::before {
            opacity: 1;
        }

        .project-card.gta5rp.selected {
            border-color: var(--gta5rp-color);
            box-shadow: 0 0 20px rgba(231, 76, 60, 0.3);
        }

        .project-card.majestic.selected {
            border-color: var(--majestic-color);
            box-shadow: 0 0 20px rgba(155, 89, 182, 0.3);
        }

        .project-icon {
            font-size: 2.5rem;
            margin-bottom: 0.75rem;
        }

        .project-name {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
        }

        .project-desc {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .project-check {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: #22c55e;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .project-card.selected .project-check {
            display: flex;
        }

        .project-check svg {
            width: 14px;
            height: 14px;
            stroke: white;
            stroke-width: 3;
        }

        .project-forum-link {
            display: block;
            font-size: 0.7rem;
            color: var(--text-secondary);
            text-decoration: none;
            margin-top: 0.5rem;
            opacity: 0.7;
            transition: all 0.2s ease;
        }

        .project-forum-link:hover {
            opacity: 1;
            color: var(--text-primary);
        }

        /* Server Selection */
        .server-selector {
            max-height: 280px;
            overflow-y: auto;
            margin-bottom: 1.5rem;
            padding-right: 0.5rem;
        }

        .server-selector::-webkit-scrollbar {
            width: 6px;
        }

        .server-selector::-webkit-scrollbar-track {
            background: var(--border-color);
            border-radius: 3px;
        }

        .server-selector::-webkit-scrollbar-thumb {
            background: var(--text-secondary);
            border-radius: 3px;
        }

        .server-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
        }

        .server-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 0.85rem 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .server-card:hover {
            border-color: rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.06);
        }

        .server-card.selected {
            border-color: #fff;
            background: rgba(255, 255, 255, 0.1);
        }

        .server-card.gta5rp.selected {
            border-color: var(--gta5rp-color);
            background: rgba(231, 76, 60, 0.15);
        }

        .server-card.majestic.selected {
            border-color: var(--majestic-color);
            background: rgba(155, 89, 182, 0.15);
        }

        .server-number {
            width: 28px;
            height: 28px;
            border-radius: 8px;
            background: var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            font-family: 'JetBrains Mono', monospace;
            flex-shrink: 0;
        }

        .server-card.selected .server-number {
            background: rgba(255, 255, 255, 0.2);
        }

        .server-emoji {
            font-size: 1.1rem;
        }

        .server-info {
            flex: 1;
            min-width: 0;
        }

        .server-name {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .server-players {
            font-size: 0.7rem;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
        }

        .server-bonus {
            font-size: 0.65rem;
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
            padding: 0.1rem 0.4rem;
            border-radius: 4px;
            margin-left: 0.3rem;
            font-weight: 600;
        }

        /* Step Navigation Buttons */
        .step-navigation {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .nav-btn {
            flex: 1;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Manrope', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .nav-btn.back {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .nav-btn.back:hover {
            border-color: var(--text-secondary);
            color: var(--text-primary);
        }

        .nav-btn.next {
            background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
            border: none;
            color: #1a1a1a;
        }

        .nav-btn.next:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
        }

        .nav-btn.next:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn svg {
            width: 18px;
            height: 18px;
        }

        /* Selected Info Display */
        .selected-info {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .selected-info-icon {
            font-size: 2rem;
        }

        .selected-info-text {
            flex: 1;
        }

        .selected-info-project {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .selected-info-server {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .change-selection {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Manrope', sans-serif;
        }

        .change-selection:hover {
            border-color: var(--text-secondary);
            color: var(--text-primary);
        }

        /* User Server Badge */
        .user-server-badge {
            font-size: 0.65rem;
            padding: 0.15rem 0.5rem;
            border-radius: 4px;
            font-weight: 600;
        }

        .user-server-badge.gta5rp {
            background: rgba(231, 76, 60, 0.2);
            color: #e74c3c;
        }

        .user-server-badge.majestic {
            background: rgba(155, 89, 182, 0.2);
            color: #9b59b6;
        }

        /* Dropdown Server Info */
        .dropdown-server-info {
            padding: 0.85rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, rgba(96, 165, 250, 0.05), rgba(59, 130, 246, 0.05));
            border: 1px solid rgba(96, 165, 250, 0.15);
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .dropdown-server-info:hover {
            background: linear-gradient(135deg, rgba(96, 165, 250, 0.08), rgba(59, 130, 246, 0.08));
            border-color: rgba(96, 165, 250, 0.25);
        }

        .dropdown-server-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            color: var(--text-secondary);
            margin-bottom: 0.35rem;
            font-weight: 600;
        }

        .dropdown-server-value {
            font-size: 0.95rem;
            font-weight: 700;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 0.6rem;
        }

        .dropdown-server-value span {
            filter: drop-shadow(0 0 4px currentColor);
        }

        @media (max-width: 500px) {
            .project-selector {
                grid-template-columns: 1fr;
            }

            .server-grid {
                grid-template-columns: 1fr;
            }

            .step-navigation {
                flex-direction: column;
            }

            .nav-btn.back {
                order: 2;
            }

            .nav-btn.next {
                order: 1;
            }
        }

        /* User Profile Badge */
        .user-profile-badge {
            display: flex !important;
            opacity: 1 !important;
            visibility: visible !important;
            position: absolute;
            top: 50%;
            right: 2rem;
            transform: translateY(-50%);
            display: flex;
            flex-direction: row-reverse;
            align-items: center;
            gap: 1rem;
            background: transparent;
            border: none;
            border-radius: 16px;
            padding: 0.75rem;
            z-index: 100;
            animation: fadeInDown 0.5s ease-out;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            user-select: none;
        }

        .user-profile-badge:hover {
            background: transparent;
            transform: translateY(-50%) translateY(-2px);
        }

        .user-profile-badge:active {
            transform: translateY(-50%) scale(0.98);
        }

        .user-profile-badge.hidden {
            display: flex !important; /* ALWAYS VISIBLE */
            opacity: 1 !important;
        }

        .user-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: linear-gradient(135deg, #a78bfa 0%, #ec4899 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            overflow: hidden;
            position: relative;
            box-shadow: 0 4px 20px rgba(96, 165, 250, 0.3);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid rgba(100, 100, 100, 0.4);
            flex-shrink: 0;
        }

        /* –°—Ç–∞—Ç—É—Å –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ —Ü–≤–µ—Ç —Ä–∞–º–∫–∏ */
        .user-avatar.subscription-free {
            border: 3px solid rgba(120, 120, 120, 0.5);
            box-shadow: 0 4px 20px rgba(120, 120, 120, 0.2);
        }

        .user-avatar.subscription-pro {
            border: 3px solid #a78bfa;
            box-shadow: 0 4px 20px rgba(96, 165, 250, 0.6), 0 0 0 2px rgba(96, 165, 250, 0.3);
        }

        .user-avatar.subscription-lifetime {
            border: 3px solid #fbbf24;
            box-shadow: 0 4px 20px rgba(251, 191, 36, 0.6), 0 0 0 2px rgba(251, 191, 36, 0.3);
        }

        .user-profile-badge:hover .user-avatar {
            transform: scale(1.08);
        }

        .user-profile-badge:hover .user-avatar.subscription-pro {
            box-shadow: 0 8px 32px rgba(96, 165, 250, 0.7), 0 0 0 2px rgba(96, 165, 250, 0.5);
            border-color: #c4b5fd;
        }

        .user-profile-badge:hover .user-avatar.subscription-lifetime {
            box-shadow: 0 8px 32px rgba(251, 191, 36, 0.7), 0 0 0 2px rgba(251, 191, 36, 0.5);
            border-color: #fcd34d;
        }

        .user-profile-badge:hover .user-avatar.subscription-free {
            box-shadow: 0 8px 32px rgba(120, 120, 120, 0.3);
            border-color: rgba(140, 140, 140, 0.6);
        }

        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }

        /* Subscription Badge –æ–∫–æ–ª–æ –∞–≤–∞—Ç–∞—Ä–∫–∏ */
        .sub-badge-wrapper {
            position: relative;
            display: inline-block;
            flex-shrink: 0;
        }

        .sub-badge-mini {
            display: none !important;
        }

        .sub-badge-mini.free {
            display: none !important;
        }

        .sub-badge-mini.pro {
            display: none !important;
        }

        .sub-badge-mini.lifetime {
            display: none !important;
        }

        .user-info {
            display: flex;
            flex-direction: column;
            gap: 0.3rem;
            min-width: 0;
            align-items: flex-end;
        }

        .user-name {
            font-weight: 700;
            font-size: 1rem;
            letter-spacing: -0.01em;
            color: var(--text-primary);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            text-align: right;
        }

        .user-status {
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-secondary);
            display: flex;
            flex-direction: row-reverse;
            align-items: center;
            gap: 0.4rem;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .user-status::before {
            display: none;
        }

        .user-server-badge {
            display: inline-flex;
            flex-direction: row-reverse;
            align-items: center;
            gap: 0.3rem;
        }

        .user-server-badge::before {
            content: '';
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--accent-success);
            box-shadow: 0 0 8px var(--accent-success);
            animation: statusPulse 2s ease-in-out infinite;
        }

        @keyframes statusPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .dropdown-arrow {
            color: var(--text-secondary);
            transition: all 0.3s ease;
            flex-shrink: 0;
            font-size: 1rem;
        }

        .user-profile-badge:hover .dropdown-arrow {
            color: var(--accent-primary);
            transform: translateY(2px);
        }

        /* Profile Dropdown Menu */
        .profile-dropdown {
            position: fixed;
            top: 6rem;
            right: 2rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 0.4rem;
            min-width: 200px;
            z-index: 99;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.6);
            animation: dropdownSlide 0.2s ease-out;
            opacity: 1;
            transform: translateY(0);
        }

        .profile-dropdown.hidden {
            display: none;
        }

        @keyframes dropdownSlide {
            from {
                opacity: 0;
                transform: translateY(-8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .dropdown-item {
            width: 100%;
            display: flex;
            align-items: center;
            gap: 0.65rem;
            padding: 0.6rem 0.85rem;
            background: transparent;
            border: none;
            border-radius: 6px;
            color: var(--text-primary);
            font-size: 0.875rem;
            font-family: 'Manrope', sans-serif;
            cursor: pointer;
            transition: all 0.15s ease;
            text-align: left;
        }

        .dropdown-item:hover {
            background: rgba(255, 255, 255, 0.06);
            color: var(--accent-color);
        }

        .dropdown-item.logout-item:hover {
            background: rgba(239, 68, 68, 0.12);
            color: #ef4444;
        }

        .dropdown-icon {
            width: 18px;
            height: 18px;
            flex-shrink: 0;
        }

        .dropdown-divider {
            height: 1px;
            background: var(--border-color);
            margin: 0.35rem 0;
        }

        .logout-button {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            transition: color 0.3s ease;
        }

        .logout-button:hover {
            color: var(--accent-color);
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   üíé REVOLUTIONARY SUBSCRIPTION DESIGN
   –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ –Ω–æ–≤—ã–π, —Ñ—É—Ç—É—Ä–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω —Å particles –∏ 3D —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

.subscription-section {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000000;
    z-index: 9999;
    overflow-y: auto;
    animation: sectionFadeIn 0.5s ease-out;
}

/* –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—á–Ω–æ–µ —Å–∏–Ω–µ–µ —Å–≤–µ—á–µ–Ω–∏–µ */
.subscription-section::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at 50% 30%,
        rgba(60, 110, 180, 0.15) 0%,
        rgba(50, 100, 170, 0.10) 30%,
        rgba(40, 90, 160, 0.05) 50%,
        transparent 70%
    );
    pointer-events: none;
    z-index: -1;
}

.subscription-section.hidden {
    display: none;
}

@keyframes sectionFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

/* Particles Canvas */
.particles-canvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
    display: none; /* –û–¢–ö–õ–Æ–ß–ï–ù–û */
}

/* Gradient Mesh Background */
.gradient-mesh {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    overflow: hidden;
    z-index: 1;
    pointer-events: none;
}

.mesh-gradient {
    position: absolute;
    border-radius: 50%;
    filter: blur(150px);
    opacity: 0.4;
    /* animation: meshFloat 20s ease-in-out infinite; */ /* –û–¢–ö–õ–Æ–ß–ï–ù–û */
}

.gradient-1 {
    width: 700px;
    height: 700px;
    background: radial-gradient(circle, rgba(60, 110, 180, 0.12) 0%, transparent 70%);
    top: 10%;
    left: 10%;
}

.gradient-2 {
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(50, 100, 170, 0.10) 0%, transparent 70%);
    bottom: 10%;
    right: 10%;
}

.gradient-3 {
    width: 650px;
    height: 650px;
    background: radial-gradient(circle, rgba(55, 105, 175, 0.08) 0%, transparent 70%);
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

.gradient-4 {
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, rgba(45, 95, 165, 0.06) 0%, transparent 70%);
    top: 20%;
    right: 20%;
}

/* –ê–Ω–∏–º–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ */
/*
@keyframes meshFloat {
    0%, 100% { transform: translate(0, 0) rotate(0deg); }
    33% { transform: translate(100px, -100px) rotate(120deg); }
    66% { transform: translate(-50px, 100px) rotate(240deg); }
}
*/

/* Close Button */
.sub-close-btn {
    position: fixed;
    top: 2rem;
    right: 2rem;
    width: 48px;
    height: 48px;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 10000;
}

.sub-close-btn:hover {
    background: rgba(255, 255, 255, 0.1);
    border-color: rgba(255, 255, 255, 0.3);
    transform: rotate(90deg) scale(1.1);
    box-shadow: 0 0 20px rgba(255, 255, 255, 0.2);
}

.sub-close-btn svg {
    color: #ffffff;
}

/* Container */
.sub-container {
    position: relative;
    max-width: 1400px;
    margin: 0 auto;
    padding: 4rem 2rem;
    z-index: 10;
}

/* Header */
.sub-header {
    text-align: center;
    margin-bottom: 4rem;
    animation: headerSlideUp 0.8s ease-out;
}

@keyframes headerSlideUp {
    from {
        opacity: 0;
        transform: translateY(40px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.sub-header-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: rgba(99, 102, 241, 0.1);
    border: 1px solid rgba(99, 102, 241, 0.3);
    border-radius: 50px;
    font-size: 0.75rem;
    font-weight: 700;
    color: #818cf8;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 2rem;
}

.badge-dot {
    width: 6px;
    height: 6px;
    background: #818cf8;
    border-radius: 50%;
    animation: badgePulse 2s ease-in-out infinite;
}

@keyframes badgePulse {
    0%, 100% {
        opacity: 1;
        transform: scale(1);
    }
    50% {
        opacity: 0.5;
        transform: scale(1.5);
    }
}

.sub-title {
    font-size: 4rem;
    font-weight: 900;
    line-height: 1.1;
    margin-bottom: 1rem;
    color: #ffffff;
}

.title-word {
    display: inline-block;
    animation: wordReveal 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    animation-delay: calc(var(--index) * 0.1s);
    opacity: 0;
    transform: translateY(20px);
}

@keyframes wordReveal {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.title-highlight {
    color: #ffffff;
    /* –ì—Ä–∞–¥–∏–µ–Ω—Ç –æ—Ç–∫–ª—é—á–µ–Ω */
    /*
    background: linear-gradient(135deg, #6366f1 0%, #ec4899 50%, #8b5cf6 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 200% auto;
    animation: gradientShift 3s ease-in-out infinite;
    */
}

/*
@keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}
*/

.sub-subtitle {
    font-size: 1.25rem;
    color: rgba(255, 255, 255, 0.6);
    margin-bottom: 2rem;
}

/* Status Card */
.sub-status {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem 1.5rem;
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50px;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* –¶–≤–µ—Ç–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Å—Ç–∞—Ç—É—Å–∞ */
.sub-status.status-free {
    border-color: rgba(120, 120, 120, 0.3);
}

.sub-status.status-free .status-value {
    color: #aaa;
}

.sub-status.status-free .status-badge {
    background: linear-gradient(135deg, rgba(100, 100, 100, 0.15), rgba(80, 80, 80, 0.15));
}

.sub-status.status-pro {
    border-color: rgba(96, 165, 250, 0.5);
    background: linear-gradient(135deg, rgba(96, 165, 250, 0.05), rgba(59, 130, 246, 0.05));
    box-shadow: 0 0 30px rgba(96, 165, 250, 0.2);
}

.sub-status.status-pro .status-value {
    color: #c4b5fd;
}

.sub-status.status-pro .status-badge {
    background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3));
}

.sub-status.status-pro .status-glow {
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(96, 165, 250, 0.2) 50%, 
        transparent 100%);
}

.sub-status.status-lifetime {
    border-color: rgba(251, 191, 36, 0.5);
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.05), rgba(245, 158, 11, 0.05));
    box-shadow: 0 0 30px rgba(251, 191, 36, 0.2);
}

.sub-status.status-lifetime .status-value {
    color: #fcd34d;
}

.sub-status.status-lifetime .status-badge {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.3), rgba(245, 158, 11, 0.3));
}

.sub-status.status-lifetime .status-glow {
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(251, 191, 36, 0.2) 50%, 
        transparent 100%);
}

.status-glow {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(99, 102, 241, 0.1) 50%, 
        transparent 100%);
    animation: statusGlowMove 3s ease-in-out infinite;
}

@keyframes statusGlowMove {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

.status-content {
    position: relative;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.status-content svg {
    color: rgba(255, 255, 255, 0.6);
}

.status-text {
    display: flex;
    flex-direction: column;
}

.status-label {
    font-size: 0.75rem;
    color: rgba(255, 255, 255, 0.5);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.status-value {
    font-size: 1rem;
    font-weight: 700;
    color: #ffffff;
}

.status-badge {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 50%;
    font-size: 1.2rem;
}

/* Pricing Toggle */
.pricing-toggle {
    position: relative;
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    padding: 0.5rem;
    background: rgba(255, 255, 255, 0.05);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50px;
    margin: 0 auto 3rem;
    max-width: 300px;
}

.toggle-btn {
    position: relative;
    padding: 0.75rem 2rem;
    background: transparent;
    border: none;
    border-radius: 50px;
    font-size: 0.95rem;
    font-weight: 600;
    color: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 2;
}

.toggle-btn.active {
    color: #ffffff;
}

.toggle-indicator {
    position: absolute;
    top: 0.5rem;
    left: 0.5rem;
    width: calc(50% - 0.5rem);
    height: calc(100% - 1rem);
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    border-radius: 50px;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
}

/* Cards Grid */
.sub-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 2rem;
    margin-bottom: 4rem;
}

/* Pricing Card */
.sub-pricingcard {
    position: relative;
    padding: 2.5rem;
    background: rgba(15, 15, 20, 0.6);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    overflow: hidden;
    animation: cardSlideUp 0.8s ease-out backwards;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
}

.sub-pricingcard:nth-child(1) { animation-delay: 0.1s; }
.sub-pricingcard:nth-child(2) { animation-delay: 0.2s; }
.sub-pricingcard:nth-child(3) { animation-delay: 0.3s; }
.sub-pricingcard:nth-child(4) { animation-delay: 0.4s; }
.sub-pricingcard:nth-child(5) { animation-delay: 0.5s; }

/* –í–µ—Ä—Ö–Ω—è—è –ª–∏–Ω–∏—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
.sub-pricingcard::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 3px;
    background: linear-gradient(90deg, 
        transparent 0%,
        rgba(70, 120, 200, 0.6) 50%,
        transparent 100%);
    opacity: 0;
    transition: opacity 0.4s ease;
}

.sub-pricingcard:hover::before {
    opacity: 1;
}

/* Compact Cards */
.sub-pricingcard.compact {
    padding: 1.75rem;
}

.sub-pricingcard.compact .card-header {
    margin-bottom: 1.25rem;
    text-align: center;
}

.sub-pricingcard.compact .card-name {
    font-size: 1.25rem;
    margin-bottom: 0.25rem;
}

.sub-pricingcard.compact .card-desc {
    font-size: 0.85rem;
}

.sub-pricingcard.compact .card-price {
    margin-bottom: 1.5rem;
}

/* Discount Badge */
.discount-badge {
    position: absolute;
    top: 1rem;
    right: 1rem;
    padding: 0.35rem 0.75rem;
    background: linear-gradient(135deg, 
        rgba(70, 120, 200, 0.8), 
        rgba(60, 110, 190, 0.8));
    border-radius: 20px;
    font-size: 0.75rem;
    font-weight: 700;
    color: white;
    z-index: 2;
    border: 1px solid rgba(70, 120, 200, 0.3);
}

@keyframes cardSlideUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.sub-pricingcard:hover {
    transform: translateY(-8px);
    border-color: rgba(70, 120, 200, 0.3);
    box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.5),
        0 0 0 1px rgba(70, 120, 200, 0.2);
}

.sub-pricingcard.featured {
    background: rgba(20, 25, 35, 0.7);
    border-color: rgba(70, 120, 200, 0.3);
    box-shadow: 0 0 60px rgba(99, 102, 241, 0.2);
}

/* Card Glow */
.card-glow {
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.4s ease;
    pointer-events: none;
}

.sub-pricingcard:hover .card-glow {
    opacity: 1;
}

.card-glow.pro {
    background: radial-gradient(circle, rgba(99, 102, 241, 0.2) 0%, transparent 70%);
}

.card-glow.lifetime {
    background: radial-gradient(circle, rgba(251, 191, 36, 0.2) 0%, transparent 70%);
}

/* Card Shine */
.card-shine {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(255, 255, 255, 0.1) 50%, 
        transparent 100%);
    animation: cardShine 3s ease-in-out infinite;
}

@keyframes cardShine {
    0% { left: -100%; }
    50%, 100% { left: 100%; }
}

/* Card Badge */
.card-badge {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #6366f1, #8b5cf6);
    border-radius: 50px;
    font-size: 0.7rem;
    font-weight: 800;
    color: #ffffff;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
}

.card-badge svg {
    width: 12px;
    height: 12px;
}

.card-badge.lifetime {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    box-shadow: 0 4px 20px rgba(251, 191, 36, 0.4);
}

/* Card Header */
.card-header {
    margin-bottom: 2rem;
}

.card-icon {
    width: 64px;
    height: 64px;
    margin-bottom: 1rem;
    position: relative;
}

.icon-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    transition: all 0.3s ease;
}

.sub-pricingcard:hover .icon-wrapper {
    transform: rotateY(180deg);
    background: rgba(255, 255, 255, 0.08);
}

.card-icon.pro .icon-wrapper {
    background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
    border-color: rgba(99, 102, 241, 0.3);
}

.card-icon.lifetime .icon-wrapper {
    background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(245, 158, 11, 0.1));
    border-color: rgba(251, 191, 36, 0.3);
}

.icon-wrapper svg {
    color: rgba(255, 255, 255, 0.8);
}

.card-name {
    font-size: 1.75rem;
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 0.5rem;
}

.card-desc {
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.5);
}

/* Card Price */
.card-price {
    margin-bottom: 2rem;
}

.price-tag {
    display: inline-block;
    padding: 0.35rem 0.75rem;
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.3);
    border-radius: 8px;
    font-size: 0.75rem;
    font-weight: 700;
    color: #10b981;
    text-transform: uppercase;
    margin-bottom: 0.75rem;
}

.price-tag.lifetime {
    background: rgba(251, 191, 36, 0.1);
    border-color: rgba(251, 191, 36, 0.3);
    color: #fbbf24;
}

.price-wrapper {
    display: flex;
    align-items: baseline;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.price-currency {
    font-size: 1.5rem;
    font-weight: 700;
    color: rgba(255, 255, 255, 0.6);
}

.price-amount {
    font-size: 3.5rem;
    font-weight: 900;
    background: linear-gradient(135deg, #ffffff 0%, rgba(255, 255, 255, 0.6) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1;
}

.price-period {
    font-size: 1.1rem;
    color: rgba(255, 255, 255, 0.4);
}

.price-subtext {
    font-size: 0.9rem;
    color: rgba(255, 255, 255, 0.5);
}

/* Card Features */
.card-features {
    list-style: none;
    padding: 0;
    margin: 0 0 2rem 0;
}

.feature-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 0;
    font-size: 0.95rem;
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.feature-item:last-child {
    border-bottom: none;
}

.feature-icon {
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(16, 185, 129, 0.1);
    border-radius: 50%;
    font-size: 0.75rem;
    font-weight: 800;
    color: #10b981;
    flex-shrink: 0;
}

.feature-icon.pro {
    background: rgba(99, 102, 241, 0.1);
    color: #818cf8;
}

.feature-icon.lifetime {
    background: rgba(251, 191, 36, 0.1);
    color: #fbbf24;
}

/* Card Button */
.card-btn {
    position: relative;
    width: 100%;
    padding: 1.25rem;
    background: rgba(70, 120, 200, 0.1);
    border: 1px solid rgba(70, 120, 200, 0.3);
    border-radius: 12px;
    font-size: 1rem;
    font-weight: 700;
    color: #ffffff;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.card-btn:hover {
    background: rgba(70, 120, 200, 0.2);
    border-color: rgba(70, 120, 200, 0.5);
    transform: translateY(-2px);
    box-shadow: 
        0 10px 30px rgba(0, 0, 0, 0.3),
        0 0 20px rgba(70, 120, 200, 0.2);
}

.btn-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: rgba(70, 120, 200, 0.3);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.6s, height 0.6s;
}

.card-btn:hover .btn-glow {
    width: 400px;
    height: 400px;
}

.btn-text {
    position: relative;
    z-index: 2;
}

.btn-icon {
    position: relative;
    z-index: 2;
    margin-left: 0.5rem;
    transition: transform 0.3s ease;
}

.card-btn:hover .btn-icon {
    transform: translateX(4px);
}

.card-btn.pro {
    background: linear-gradient(135deg, 
        rgba(70, 120, 200, 0.3), 
        rgba(60, 110, 190, 0.3));
    border-color: rgba(70, 120, 200, 0.5);
}

.card-btn.lifetime {
    background: linear-gradient(135deg, 
        rgba(200, 160, 60, 0.3), 
        rgba(180, 140, 50, 0.3));
    border-color: rgba(200, 160, 60, 0.5);
}

/* Comparison Section */
.comparison-section {
    margin-bottom: 3rem;
    animation: cardSlideUp 0.8s ease-out 0.4s backwards;
}

.comparison-title {
    text-align: center;
    font-size: 2rem;
    font-weight: 800;
    color: #ffffff;
    margin-bottom: 2rem;
}

.comparison-table {
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    overflow: hidden;
}

.comparison-row {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr;
    gap: 1rem;
    padding: 1rem 1.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.comparison-row:last-child {
    border-bottom: none;
}

.comparison-row.header {
    background: rgba(255, 255, 255, 0.05);
    font-weight: 700;
}

.comparison-cell {
    display: flex;
    align-items: center;
    justify-content: center;
    color: rgba(255, 255, 255, 0.8);
    font-size: 0.95rem;
}

.comparison-cell.feature {
    justify-content: flex-start;
    color: #ffffff;
}

.comparison-cell.highlight {
    color: #818cf8;
    font-weight: 700;
}

/* Trust Section */
.trust-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.02);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 16px;
    animation: cardSlideUp 0.8s ease-out 0.5s backwards;
}

.trust-item {
    display: flex;
    align-items: flex-start;
    gap: 1rem;
}

.trust-icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 12px;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.trust-text {
    flex: 1;
}

.trust-title {
    font-size: 1rem;
    font-weight: 700;
    color: #ffffff;
    margin-bottom: 0.25rem;
}

.trust-desc {
    font-size: 0.85rem;
    color: rgba(255, 255, 255, 0.6);
}

/* Mobile Responsive */
@media (max-width: 968px) {
    .sub-container {
        padding: 3rem 1.5rem;
    }

    .sub-title {
        font-size: 2.5rem;
    }

    .sub-cards-grid {
        grid-template-columns: 1fr;
    }

    .comparison-row {
        grid-template-columns: 1.5fr 1fr 1fr 1fr;
        font-size: 0.85rem;
    }

    .trust-section {
        grid-template-columns: 1fr;
    }
}

@media (max-width: 640px) {
    .sub-title {
        font-size: 2rem;
    }

    .price-amount {
        font-size: 2.5rem;
    }

    .sub-close-btn {
        width: 40px;
        height: 40px;
    }
}
        /* Discord Bot Action Buttons */
        /* Bot Settings Modal */
        .settings-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(8px);
            z-index: 1001;
            display: none;
            align-items: center;
            justify-content: center;
            animation: fadeIn 0.3s ease-out;
        }

        .settings-modal.active {
            display: flex;
        }

        .settings-content {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 2.5rem;
            max-width: 700px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.6);
            animation: scaleIn 0.4s ease-out;
        }

        .settings-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .settings-header h2 {
            font-size: 1.75rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .close-modal {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            width: 36px;
            height: 36px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .close-modal:hover {
            border-color: var(--accent-color);
            color: var(--accent-color);
            transform: rotate(90deg);
        }

        .setting-group {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .setting-title {
            font-size: 1.05rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .setting-description {
            color: var(--text-secondary);
            font-size: 0.875rem;
            margin-bottom: 1rem;
            line-height: 1.5;
        }

        .setting-control {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .toggle-switch {
            position: relative;
            width: 52px;
            height: 28px;
            background: var(--border-color);
            border-radius: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .toggle-switch.active {
            background: linear-gradient(135deg, #5865F2 0%, #4752C4 100%);
        }

        .toggle-slider {
            position: absolute;
            top: 3px;
            left: 3px;
            width: 22px;
            height: 22px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
        }

        .toggle-switch.active .toggle-slider {
            left: 27px;
        }

        .input-field {
            flex: 1;
            background: var(--primary-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.75rem 1rem;
            border-radius: 10px;
            font-size: 0.95rem;
            font-family: 'Manrope', sans-serif;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: #5865F2;
            box-shadow: 0 0 0 3px rgba(88, 101, 242, 0.1);
        }

        .select-input {
            flex: 1;
            background: var(--primary-bg);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 0.75rem 1rem;
            border-radius: 10px;
            font-size: 0.95rem;
            font-family: 'Manrope', sans-serif;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .select-input:focus {
            outline: none;
            border-color: #5865F2;
            box-shadow: 0 0 0 3px rgba(88, 101, 242, 0.1);
        }

        .save-settings-btn {
            width: 100%;
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            border: none;
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Manrope', sans-serif;
            margin-top: 1rem;
            box-shadow: 0 6px 20px rgba(74, 222, 128, 0.3);
        }

        .save-settings-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(74, 222, 128, 0.4);
        }

        .save-settings-btn:active {
            transform: translateY(0);
        }

        .settings-status {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            font-weight: 500;
            display: none;
        }

        /* Animated Background */
        .background-grid {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
            background-size: 50px 50px;
            background-position: 0 0;
            z-index: 0;
            animation: gridMove 20s linear infinite;
        }

        @keyframes gridMove {
            0% {
                background-position: 0 0;
            }

            100% {
                background-position: 50px 50px;
            }
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* TOP LEFT LOGO WITH NEON ANIMATION                                */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           –ù–û–í–ê–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø - –ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–´–ï –ö–ù–û–ü–ö–ò (–ö–ê–ö –ù–ê –§–û–¢–û LOUVRE)
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .top-logo {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 150;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            padding: 0;
            background: transparent;
            backdrop-filter: none;
            height: 64px;
            border-bottom: none;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .top-logo.hidden {
            transform: translateY(-100%);
            opacity: 0;
        }

        /* Logo Part - —Å–ª–µ–≤–∞ */
        .logo-main {
            position: absolute;
            left: 2rem;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem;
            background: transparent;
            border: none;
            transition: all 0.3s ease;
        }

        .logo-btn-img {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .logo-btn-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        /* –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é - —Å–∫—Ä—ã—Ç–∞ */
        .menu-toggle-btn {
            display: none;
        }

        /* –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */
        .logo-dropdown {
            position: static;
            display: flex;
            align-items: center;
            gap: 0;
            background: transparent;
            border: none;
            padding: 0;
            opacity: 1;
            visibility: visible;
            transform: none;
            box-shadow: none;
            min-width: auto;
        }

        .logo-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: none;
        }

        .logo-menu-item {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            padding: 0 2.5rem;
            height: 64px;
            border-radius: 0;
            cursor: pointer;
            transition: all 0.2s ease;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.85rem;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            background: transparent;
            border: none;
            position: relative;
        }

        .logo-menu-item:hover {
            background: transparent;
            color: #ffffff;
        }

        .logo-menu-item.active {
            background: transparent;
            color: #ffffff;
        }

        .logo-menu-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 2px;
            background: #ffffff;
        }

        .logo-menu-item svg {
            display: none;
        }

        .logo-menu-item span {
            font-size: 0.85rem;
        }

        @media (max-width: 968px) {
            .logo-menu-item {
                padding: 0 1.5rem;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 768px) {
            .top-logo {
                flex-direction: column;
                height: auto;
                align-items: flex-start;
            }

            .logo-main {
                position: static;
                transform: none;
                padding: 1rem 1.5rem;
            }

            .logo-dropdown {
                width: 100%;
                flex-direction: column;
                align-items: stretch;
            }

            .logo-menu-item {
                padding: 1rem 1.5rem;
                height: auto;
                border-right: none;
                border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            }

            .logo-menu-item:first-child {
                border-left: none;
            }
        }

        .logo-menu-divider {
            height: 1px;
            background: var(--border-color);
            margin: 0.35rem 0;
        }

        /* Remove old header */
        header {
            display: none;
        }

        /* Main Container */
        .container {
            position: relative;
            z-index: 5;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 1.5rem;
            padding-top: 100px;
            padding-bottom: 50px;
            min-height: 100vh;
            box-sizing: border-box;
            overflow: visible;
        }

        /* When chat is active, add padding for input */
        .container:has(#chatSection.active) {
            padding-bottom: 160px;
        }

        /* Chat Interface - New Layout */
        .chat-container {
            background: transparent;
            border: none;
            border-radius: 0;
            overflow: visible;
            box-shadow: none;
            animation: fadeIn 0.5s ease-out;
        }

        .chat-header {
            display: none;
        }

        .chat-messages {
            overflow: visible;
            padding: 2rem 0;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* Fixed Input Container */
        .chat-input-container {
            background: transparent !important;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1rem 2rem 1.5rem;
            z-index: 100;
            display: none;
            /* Hidden by default, shown only in chat */
        }

        .chat-input-inner {
            max-width: 800px;
            margin: 0 auto;
        }

/* ... existing code ... */

/* Modern Input Box */
.chat-input-box {
    background: transparent;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    backdrop-filter: none;
}

.chat-input-box::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 20px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3), rgba(96, 165, 250, 0.3));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
}

.chat-input-box:focus-within::before {
    opacity: 1;
}

.chat-input-box:hover {
    border-color: rgba(255, 255, 255, 0.15);
}

.chat-input-box:focus-within {
    border-color: transparent;
    box-shadow: 0 0 30px rgba(96, 165, 250, 0.15), 0 10px 40px rgba(0, 0, 0, 0.2);
}

/* Input Area - Main */
.chat-input-main {
    padding: 1.25rem 1.5rem;
    min-height: 60px;
    border-radius: 20px 20px 0 0;
    background: transparent;
}

.chat-input {
    width: 100%;
    background: transparent;
    border: none;
    padding: 0;
    color: var(--text-primary);
    font-family: 'Manrope', sans-serif;
    font-size: 1rem;
    line-height: 1.6;
    resize: none;
}

.chat-input:focus {
    outline: none;
}

.chat-input::placeholder {
    color: var(--text-muted);
    transition: color 0.3s ease;
}

.chat-input:focus::placeholder {
    color: var(--text-secondary);
}

/* Bottom Bar */
.chat-input-bottom {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.75rem 1.25rem;
    border-top: 1px solid rgba(255, 255, 255, 0.05);
    background: transparent;
    border-radius: 0 0 20px 20px;
}

/* ... existing code ... */

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* NEW AI MODEL SELECTOR - Clean & Beautiful                        */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .ai-selector {
            position: relative;
            z-index: 200;
        }

        .ai-selector-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.7rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .ai-selector-btn:hover {
            background: rgba(255, 255, 255, 0.06);
            border-color: rgba(255, 255, 255, 0.12);
        }

        .ai-selector-btn.open {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.15);
        }

        .ai-selector-text {
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .ai-selector-arrow {
            color: var(--text-secondary);
            transition: transform 0.25s ease;
            margin-left: 0.15rem;
        }

        .ai-selector-btn.open .ai-selector-arrow {
            transform: rotate(180deg);
        }

        /* Dropdown Menu - Opens to the LEFT */
        .ai-dropdown {
            position: absolute;
            bottom: 0;
            right: calc(100% + 25px);
            width: 240px;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 0.5rem;
            opacity: 0;
            visibility: hidden;
            transform: translateX(10px);
            transform-origin: right center;
            transition: all 0.2s cubic-bezier(0.16, 1, 0.3, 1);
            box-shadow: -20px 0 50px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(255, 255, 255, 0.05) inset;
        }

        .ai-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }

        .ai-dropdown-label {
            padding: 0.5rem 0.75rem 0.4rem;
            font-size: 0.65rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-secondary);
        }

        /* Model Options */
        .ai-option {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.65rem 0.75rem;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.15s ease;
            margin-bottom: 0.25rem;
        }

        .ai-option:last-child {
            margin-bottom: 0;
        }

        .ai-option:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .ai-option.selected {
            background: rgba(255, 255, 255, 0.08);
        }

        .ai-option-content {
            flex: 1;
            min-width: 0;
        }

        .ai-option-name {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .ai-option-check {
            width: 18px;
            height: 18px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }

        .ai-option.selected .ai-option-check {
            background: var(--text-primary);
            border-color: var(--text-primary);
        }

        .ai-option-check svg {
            width: 10px;
            height: 10px;
            stroke: var(--primary-bg);
            stroke-width: 3;
            opacity: 0;
            transform: scale(0.5);
            transition: all 0.2s ease;
        }

        .ai-option.selected .ai-option-check svg {
            opacity: 1;
            transform: scale(1);
        }

        /* Send Button */
        .send-button {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.4rem 0.75rem;
            background: transparent;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Manrope', sans-serif;
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .send-button:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.05);
        }

        .send-button:hover svg {
            transform: translateX(2px);
        }

        .send-button svg {
            transition: transform 0.2s ease;
        }

        .send-button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* Keyboard Shortcut Hint */
        .shortcut-hint {
            font-size: 0.7rem;
            color: var(--text-secondary);
            opacity: 0.5;
            margin-left: 0.5rem;
        }

        .shortcut-hint kbd {
            background: rgba(255, 255, 255, 0.1);
            padding: 0.15rem 0.35rem;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.65rem;
        }

        .message {
            display: flex;
            gap: 1rem;
            animation: messageSlideIn 0.4s ease-out;
        }

        @keyframes messageSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            flex-shrink: 0;
        }

        .message.bot .message-avatar {
            background: linear-gradient(135deg, #f5f5f5 0%, #a0a0a0 100%);
            color: var(--primary-bg);
        }

        .message.user .message-avatar {
            background: var(--border-color);
            color: var(--text-primary);
        }

        .message-content {
            flex: 1;
            line-height: 1.6;
        }

        .message-text {
            background: transparent;
            padding: 0;
            border-radius: 0;
            border: none;
        }

        .message.user .message-text {
            background: transparent;
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* üìú –ö–†–ê–°–ò–í–û–ï –§–û–†–ú–ê–¢–ò–†–û–í–ê–ù–ò–ï –û–¢–í–ï–¢–û–í –ë–û–¢–ê */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .rule-card {
            background: transparent;
            border: 1px solid rgba(96, 165, 250, 0.2);
            border-radius: 16px;
            padding: 1.25rem 0;
            margin-bottom: 1rem;
        }

        .rule-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .rule-icon {
            font-size: 1.5rem;
        }

        .rule-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .rule-badge {
            background: rgba(88, 101, 242, 0.3);
            color: #a8b4ff;
            padding: 0.25rem 0.6rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: auto;
        }

        .rule-definition {
            background: transparent;
            border-left: 3px solid var(--accent-primary);
            padding: 0.5rem 0 0.5rem 1rem;
            border-radius: 0;
            margin-bottom: 1rem;
            font-size: 0.95rem;
            color: var(--text-primary);
            line-height: 1.6;
        }

        .rule-section {
            margin-bottom: 1rem;
        }

        .rule-section-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .rule-section-title svg {
            width: 14px;
            height: 14px;
        }

        .punishment-box {
            background: linear-gradient(135deg, rgba(237, 66, 69, 0.15) 0%, rgba(237, 66, 69, 0.05) 100%);
            border: 1px solid rgba(237, 66, 69, 0.3);
            border-radius: 10px;
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .punishment-icon {
            font-size: 1.25rem;
        }

        .punishment-text {
            color: #ff9999;
            font-weight: 500;
            font-size: 0.9rem;
        }

        .examples-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .examples-list li {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 8px;
            padding: 0.6rem 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .examples-list li:last-child {
            margin-bottom: 0;
        }

        .examples-list li::before {
            content: '‚Ä¢';
            color: #5865F2;
            font-weight: bold;
        }

        .notes-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .notes-list li {
            background: rgba(250, 166, 26, 0.1);
            border-left: 3px solid #faa61a;
            padding: 0.6rem 1rem;
            margin-bottom: 0.5rem;
            border-radius: 0 8px 8px 0;
            font-size: 0.85rem;
            color: #ffd699;
        }

        .notes-list li:last-child {
            margin-bottom: 0;
        }

        .rule-source {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1rem;
            padding-top: 0.75rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .rule-source a {
            color: #5865F2;
            text-decoration: none;
        }

        .rule-source a:hover {
            text-decoration: underline;
        }

        /* Help Card - –∫–æ–≥–¥–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ */
        .help-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.25rem;
        }

        .help-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.25rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 1rem;
            color: var(--text-primary);
        }

        .help-section {
            margin-bottom: 1.25rem;
        }

        .help-section-title {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .terms-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
        }

        @media (max-width: 500px) {
            .terms-grid {
                grid-template-columns: 1fr;
            }
        }

        .term-item {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 10px;
            padding: 0.6rem 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            font-size: 0.85rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .term-item:hover {
            background: rgba(88, 101, 242, 0.15);
            border-color: rgba(88, 101, 242, 0.4);
            color: var(--text-primary);
            transform: translateX(4px);
        }

        .term-abbr {
            background: linear-gradient(135deg, #5865F2 0%, #4752C4 100%);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 6px;
            font-weight: 700;
            font-size: 0.75rem;
            min-width: 40px;
            text-align: center;
        }

        .topics-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .topic-tag {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 0.4rem 0.9rem;
            font-size: 0.85rem;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .topic-tag:hover {
            background: rgba(88, 101, 242, 0.2);
            border-color: rgba(88, 101, 242, 0.4);
            color: var(--text-primary);
        }

        .help-tip {
            background: rgba(250, 166, 26, 0.1);
            border-left: 3px solid #faa61a;
            padding: 0.75rem 1rem;
            border-radius: 0 8px 8px 0;
            font-size: 0.85rem;
            color: #ffd699;
        }

        /* HTML –∫–æ–Ω—Ç–µ–Ω—Ç –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö */
        .message-text.html-content {
            background: transparent;
            border: none;
            padding: 0;
        }

        /* –ú—É–ª—å—Ç–∏-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã */
        .multi-results {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .mini-rule-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem;
            transition: all 0.2s ease;
        }

        .mini-rule-card:hover {
            border-color: rgba(88, 101, 242, 0.5);
            background: rgba(88, 101, 242, 0.05);
        }

        .mini-rule-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .mini-rule-title {
            font-weight: 600;
            color: var(--text-primary);
        }

        .mini-rule-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .mini-rule-punishment {
            font-size: 0.8rem;
            color: #ff9999;
        }

        /* –ù–µ –Ω–∞–π–¥–µ–Ω–æ - —Å–ø–∏—Å–æ–∫ —Ç–µ—Ä–º–∏–Ω–æ–≤ */
        .terms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .term-chip {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.5rem 0.75rem;
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-align: center;
            transition: all 0.2s ease;
        }

        .term-chip:hover {
            border-color: #5865F2;
            color: var(--text-primary);
            background: rgba(88, 101, 242, 0.1);
        }

        .term-chip strong {
            color: var(--text-primary);
        }

        .message-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
            font-family: 'JetBrains Mono', monospace;
        }

        /* Welcome Screen - New Minimalist Design */
        .welcome-screen {
            text-align: left;
            padding: 3rem 0;
            opacity: 1;
            transition: opacity 0.3s ease-out;
            max-width: 750px;
        }

        .welcome-screen.hidden {
            display: none;
        }

        .welcome-icon {
            width: 56px;
            height: 56px;
            margin-bottom: 1.5rem;
            opacity: 0.9;
            filter: brightness(1.1);
            display: none; /* –°–ö–†–´–¢–û */
        }

        .welcome-screen h3 {
            font-size: 1.75rem;
            margin-bottom: 0.75rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .welcome-main-title {
            font-size: 3.5rem !important;
            font-weight: 600 !important;
            line-height: 1.15 !important;
            margin-bottom: 2rem !important;
            color: #ffffff !important;
            letter-spacing: -0.02em !important;
            max-width: 700px;
        }

        .welcome-subtitle-question {
            color: rgba(255, 255, 255, 0.7) !important;
            font-size: 1.1rem !important;
            margin-bottom: 1.5rem !important;
            font-weight: 400 !important;
        }

        .welcome-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 0.35rem;
        }

        .welcome-subtitle a {
            color: var(--text-primary);
            text-decoration: underline;
            text-decoration-color: rgba(255, 255, 255, 0.3);
            text-underline-offset: 2px;
        }

        .welcome-subtitle a:hover {
            text-decoration-color: var(--text-primary);
        }

        /* Quick Questions - Pill Style */
        .quick-questions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }

        .quick-question {
            background: transparent;
            border: 1px solid var(--border-color);
            padding: 0.6rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: left;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .quick-question:hover {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.03);
        }

        .quick-question-title {
            font-weight: 500;
            font-size: 0.9rem;
            color: var(--text-primary);
        }

        .quick-question-desc {
            display: none;
        }

        /* Recent Dialogs Section */
        .recent-dialogs {
            margin-top: 2.5rem;
        }

        .recent-dialogs-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.85rem;
            cursor: pointer;
            margin-bottom: 0.75rem;
            transition: color 0.2s ease;
        }

        .recent-dialogs-header:hover {
            color: var(--text-primary);
        }

        .recent-dialogs-header svg {
            transition: transform 0.2s ease;
        }

        .recent-dialogs-header.open svg {
            transform: rotate(180deg);
        }

        /* Compact Model Selector - Near Input */
        .model-selector-compact {
            position: relative;
        }

        .model-trigger-compact {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.6rem 0.75rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .model-trigger-compact:hover {
            border-color: rgba(138, 43, 226, 0.5);
            background: rgba(138, 43, 226, 0.05);
        }

        .model-trigger-compact.active {
            border-color: rgba(138, 43, 226, 0.6);
        }

        .model-icon-compact {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .model-name-compact {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .model-arrow-compact {
            color: var(--text-secondary);
            transition: transform 0.2s ease;
            flex-shrink: 0;
        }

        .model-trigger-compact.active .model-arrow-compact {
            transform: rotate(180deg);
        }

        .model-dropdown-compact {
            position: absolute;
            bottom: calc(100% + 8px);
            left: 0;
            min-width: 220px;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            opacity: 0;
            visibility: hidden;
            transform: translateY(10px);
            transition: all 0.2s ease;
            z-index: 1000;
            box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.5);
        }

        .model-dropdown-compact.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .model-dropdown-header {
            padding: 0.6rem 0.85rem;
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.2);
        }

        .model-option-compact {
            display: flex;
            align-items: center;
            gap: 0.65rem;
            padding: 0.65rem 0.85rem;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .model-option-compact:hover {
            background: rgba(138, 43, 226, 0.1);
        }

        .model-option-compact.active {
            background: rgba(138, 43, 226, 0.15);
        }

        .model-option-compact.disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .model-option-compact.disabled:hover {
            background: transparent;
        }

        .model-opt-icon {
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .model-opt-info {
            display: flex;
            flex-direction: column;
            gap: 0.1rem;
        }

        .model-opt-name {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .model-opt-desc {
            font-size: 0.7rem;
            color: var(--text-secondary);
        }

        .model-divider-compact {
            height: 1px;
            background: var(--border-color);
            margin: 0.25rem 0;
        }

        .model-footer-compact {
            padding: 0.5rem 0.85rem;
            background: rgba(0, 0, 0, 0.15);
            text-align: center;
        }

        .model-footer-compact a {
            font-size: 0.7rem;
            color: #ffffff;
            text-decoration: none;
        }

        .model-footer-compact a:hover {
            text-decoration: underline;
        }

        /* Minimalist Profile Styles - Informative */
        .profile-minimal {
            max-width: 600px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        .profile-user-card {
            display: flex;
            align-items: center;
            gap: 1.25rem;
            padding: 1.5rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            margin-bottom: 1rem;
        }

        .profile-avatar-minimal {
            width: 72px;
            height: 72px;
            border-radius: 50%;
            background: linear-gradient(135deg, #5865F2 0%, #4752C4 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.75rem;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
            background-size: cover;
            background-position: center;
            border: 3px solid rgba(120, 120, 120, 0.4);
            box-shadow: 0 4px 20px rgba(100, 100, 100, 0.2);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* –¶–≤–µ—Ç–Ω—ã–µ —Ä–∞–º–∫–∏ –ø–æ —Å—Ç–∞—Ç—É—Å—É –ø–æ–¥–ø–∏—Å–∫–∏ */
        .profile-avatar-minimal.subscription-free {
            border: 3px solid rgba(120, 120, 120, 0.5);
            box-shadow: 0 4px 20px rgba(120, 120, 120, 0.2);
        }

        .profile-avatar-minimal.subscription-pro {
            border: 3px solid #a78bfa;
            box-shadow: 0 4px 24px rgba(96, 165, 250, 0.6), 0 0 0 2px rgba(96, 165, 250, 0.3);
        }

        .profile-avatar-minimal.subscription-lifetime {
            border: 3px solid #fbbf24;
            box-shadow: 0 4px 24px rgba(251, 191, 36, 0.6), 0 0 0 2px rgba(251, 191, 36, 0.3);
        }

        .profile-user-info {
            flex: 1;
            min-width: 0;
        }

        .profile-name-minimal {
            font-size: 1.35rem;
            font-weight: 700;
            margin: 0 0 0.15rem 0;
            color: var(--text-primary);
        }

        .profile-tag-minimal {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
        }

        /* –ë–µ–π–¥–∂ —Ä–æ–ª–∏ –∫–æ–º–∞–Ω–¥—ã */
        .profile-role-badge {
            display: inline-block;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-left: 0.5rem;
        }

        .profile-role-badge.hidden {
            display: none;
        }

        .profile-role-badge.owner {
            background: linear-gradient(135deg, #ffd700 0%, #ffaa00 100%);
            color: #1a1a1a;
            box-shadow: 0 2px 10px rgba(255, 215, 0, 0.4);
        }

        .profile-role-badge.admin {
            background: linear-gradient(135deg, #ed4245 0%, #c73e3a 100%);
            color: white;
            box-shadow: 0 2px 10px rgba(237, 66, 69, 0.4);
        }

        .profile-role-badge.moderator {
            background: linear-gradient(135deg, #5865f2 0%, #4752c4 100%);
            color: white;
            box-shadow: 0 2px 10px rgba(88, 101, 242, 0.4);
        }

        .profile-role-badge.helper {
            background: linear-gradient(135deg, #3ba55d 0%, #2d8049 100%);
            color: white;
            box-shadow: 0 2px 10px rgba(59, 165, 93, 0.4);
        }

        .profile-role-badge.team {
            background: linear-gradient(135deg, #9b59b6 0%, #8e44ad 100%);
            color: white;
            box-shadow: 0 2px 10px rgba(155, 89, 182, 0.4);
        }

        /* VIP –Ω–æ–º–µ—Ä–∞ (1-10) */
        .profile-tag-minimal.vip {
            background: linear-gradient(135deg, #ffd700 0%, #ffaa00 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .profile-status-minimal {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            margin-top: 0.4rem;
            font-size: 0.8rem;
            color: #3ba55d;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .status-dot.online {
            background: #3ba55d;
            box-shadow: 0 0 8px rgba(59, 165, 93, 0.6);
        }

        /* Stats Grid */
        .profile-stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem 0.5rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
        }

        .stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            line-height: 1;
        }

        .stat-title {
            font-size: 0.65rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.03em;
            margin-top: 0.35rem;
        }

        /* Info List */
        .profile-info-list {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .info-row {
            display: flex;
            align-items: center;
            padding: 0.85rem 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .info-row:last-child {
            border-bottom: none;
        }

        .info-row svg {
            width: 16px;
            height: 16px;
            color: var(--text-secondary);
            flex-shrink: 0;
            margin-right: 0.75rem;
        }

        .info-row .label {
            flex: 1;
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .info-row .value {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        .info-row .value.success {
            color: #4ade80;
        }

        .info-row .value.warning {
            color: #fbbf24;
        }

        /* Quick Actions - Single Button */
        .profile-quick-actions {
            display: flex;
            justify-content: center;
            margin-top: 1rem;
        }

        .quick-action-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.85rem 2rem;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Manrope', sans-serif;
            border: none;
        }

        .quick-action-btn.primary {
            background: linear-gradient(135deg, #5865F2, #4752C4);
            color: white;
        }

        .quick-action-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(88, 101, 242, 0.4);
        }

        .quick-action-btn.secondary {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .quick-action-btn.secondary:hover {
            border-color: var(--text-secondary);
            color: var(--text-primary);
        }

        .quick-action-btn.danger {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        .quick-action-btn.danger:hover {
            border-color: #ef4444;
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        /* üõ°Ô∏è ADMIN PANEL STYLES                                          */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .admin-panel-section {
            background: var(--secondary-bg);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .admin-panel-section.hidden {
            display: none;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .admin-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 700;
            font-size: 1.1rem;
            color: #ef4444;
        }

        .admin-close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 1.25rem;
            cursor: pointer;
            padding: 0.25rem;
        }

        .admin-card {
            background: var(--tertiary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1rem;
        }

        .admin-card.danger {
            border-color: rgba(239, 68, 68, 0.3);
        }

        .admin-card h4 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .admin-form {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
        }

        .form-group label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .admin-input {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            color: var(--text-primary);
            font-size: 0.9rem;
            transition: border-color 0.3s;
            font-family: 'Manrope', sans-serif;
        }

        .admin-input:focus {
            outline: none;
            border-color: var(--border-light);
        }

        .admin-input::placeholder {
            color: var(--text-muted);
        }

        .admin-plan-select {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .admin-plan-btn {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            color: var(--text-secondary);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Manrope', sans-serif;
        }

        .admin-plan-btn:hover {
            border-color: var(--border-light);
        }

        .admin-plan-btn.active {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.2));
            border-color: rgba(251, 191, 36, 0.4);
            color: #fbbf24;
        }

        .admin-grant-btn {
            background: linear-gradient(135deg, #4ade80, #22c55e);
            border: none;
            color: #000;
            padding: 0.85rem 1.5rem;
            border-radius: 10px;
            font-weight: 700;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Manrope', sans-serif;
        }

        .admin-grant-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(74, 222, 128, 0.3);
        }

        .admin-revoke-btn {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border: none;
            color: white;
            padding: 0.75rem 1.25rem;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Manrope', sans-serif;
        }

        .admin-revoke-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(239, 68, 68, 0.3);
        }

        .grants-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .grants-empty {
            text-align: center;
            color: var(--text-muted);
            padding: 1rem;
            font-size: 0.85rem;
        }

        .grant-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background: var(--secondary-bg);
            border-radius: 8px;
            margin-bottom: 0.5rem;
        }

        .grant-item-user {
            font-size: 0.85rem;
            color: var(--text-primary);
            font-family: monospace;
        }

        .grant-item-plan {
            font-size: 0.75rem;
            color: #4ade80;
        }

        .grant-item-date {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        .admin-toggle-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.15));
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 12px;
            padding: 0.85rem 1.5rem;
            color: #ef4444;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 1.5rem;
            font-family: 'Manrope', sans-serif;
        }

        .admin-toggle-btn:hover {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.25), rgba(220, 38, 38, 0.25));
        }

        .admin-toggle-btn.hidden {
            display: none;
        }

        @media (max-width: 600px) {
            .sub-status-glass {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .status-main {
                flex-direction: column;
            }

            .admin-plan-select {
                justify-content: center;
            }
        }

        .payment-modal-new {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 24px;
            width: 100%;
            max-width: 440px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalSlideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes modalSlideUp {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .modal-close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border: none;
            color: var(--text-secondary);
            width: 36px;
            height: 36px;
            border-radius: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            z-index: 10;
        }

        .modal-close-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .modal-header-new {
            text-align: center;
            padding: 2rem 2rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-logo {
            position: relative;
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
        }

        .modal-logo-glow {
            position: absolute;
            inset: -6px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border-radius: 24px;
            filter: blur(20px);
            opacity: 0.4;
            z-index: -1;
            animation: glowPulse 2s ease-in-out infinite;
        }

        @keyframes glowPulse {

            0%,
            100% {
                opacity: 0.4;
                transform: scale(1);
            }

            50% {
                opacity: 0.6;
                transform: scale(1.05);
            }
        }

        .modal-logo-text {
            font-size: 1.75rem;
            font-weight: 900;
            color: #000;
        }

        .modal-header-new h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.35rem;
        }

        .modal-plan-name {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Order Summary */
        .order-summary {
            padding: 1.5rem 2rem 2rem;
        }

        .summary-card {
            background: var(--tertiary-bg);
            border-radius: 16px;
            padding: 1.25rem;
            margin-bottom: 1.5rem;
        }

        .summary-card .summary-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.6rem 0;
        }

        .summary-card .summary-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .summary-card .summary-label svg {
            opacity: 0.6;
        }

        .summary-card .summary-value {
            font-weight: 600;
            color: var(--text-primary);
        }

        .summary-card .summary-divider {
            height: 1px;
            background: var(--border-color);
            margin: 0.5rem 0;
        }

        .summary-card .summary-row.total {
            padding-top: 0.75rem;
        }

        .summary-card .summary-row.total .summary-label {
            font-weight: 700;
            color: var(--text-primary);
        }

        .summary-total {
            text-align: right;
        }

        .total-usd {
            display: block;
            font-size: 1.35rem;
            font-weight: 800;
            color: var(--text-primary);
        }

        .total-rub {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* PayPal Button New */
        .paypal-btn-new {
            width: 100%;
            position: relative;
            padding: 1rem 1.5rem;
            background: linear-gradient(135deg, #003087, #009cde);
            border: none;
            border-radius: 14px;
            cursor: pointer;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .paypal-btn-bg {
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }

        .paypal-btn-new:hover .paypal-btn-bg {
            transform: translateX(100%);
        }

        .paypal-btn-content {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            color: white;
            font-weight: 700;
            font-size: 1rem;
            font-family: 'Manrope', sans-serif;
        }

        .paypal-btn-new:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 156, 222, 0.3);
        }

        .payment-info-note {
            display: flex;
            gap: 0.75rem;
            align-items: flex-start;
            background: rgba(251, 191, 36, 0.08);
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .payment-info-note svg {
            color: #fbbf24;
            flex-shrink: 0;
            margin-top: 0.1rem;
        }

        .payment-info-note p {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.5;
            margin: 0;
        }

        .secure-badge {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .secure-badge svg {
            color: #4ade80;
        }

        /* Success State */
        .success-state {
            padding: 2.5rem 2rem;
            text-align: center;
        }

        .success-animation {
            position: relative;
            width: 100px;
            height: 100px;
            margin: 0 auto 1.5rem;
        }

        .success-circle {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(74, 222, 128, 0.2), rgba(34, 197, 94, 0.2));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: successPop 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes successPop {
            0% {
                transform: scale(0);
            }

            50% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        .success-circle svg {
            color: #4ade80;
            animation: checkDraw 0.5s ease 0.3s backwards;
        }

        @keyframes checkDraw {
            from {
                stroke-dashoffset: 50;
                opacity: 0;
            }

            to {
                stroke-dashoffset: 0;
                opacity: 1;
            }
        }

        .success-particles span {
            position: absolute;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: particleExplode 0.8s ease forwards;
        }

        .success-particles span:nth-child(1) {
            background: #fbbf24;
            top: 50%;
            left: 50%;
            --angle: 0deg;
        }

        .success-particles span:nth-child(2) {
            background: #4ade80;
            top: 50%;
            left: 50%;
            --angle: 60deg;
        }

        .success-particles span:nth-child(3) {
            background: #a855f7;
            top: 50%;
            left: 50%;
            --angle: 120deg;
        }

        .success-particles span:nth-child(4) {
            background: #f43f5e;
            top: 50%;
            left: 50%;
            --angle: 180deg;
        }

        .success-particles span:nth-child(5) {
            background: #3b82f6;
            top: 50%;
            left: 50%;
            --angle: 240deg;
        }

        .success-particles span:nth-child(6) {
            background: #10b981;
            top: 50%;
            left: 50%;
            --angle: 300deg;
        }

        @keyframes particleExplode {
            0% {
                transform: translate(-50%, -50%) rotate(var(--angle)) translateY(0) scale(1);
                opacity: 1;
            }

            100% {
                transform: translate(-50%, -50%) rotate(var(--angle)) translateY(-60px) scale(0);
                opacity: 0;
            }
        }

        .success-state h3 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .success-state p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 0.25rem;
        }

        .success-date {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 1.5rem !important;
        }

        .success-btn {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            border: none;
            color: #000;
            padding: 0.9rem 2rem;
            border-radius: 12px;
            font-weight: 700;
            font-size: 0.95rem;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            font-family: 'Manrope', sans-serif;
        }

        .success-btn:hover {
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(251, 191, 36, 0.3);
        }

        /* Processing Overlay */
        .processing-overlay {
            position: absolute;
            inset: 0;
            background: rgba(17, 17, 17, 0.97);
            border-radius: 24px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .processing-overlay.hidden {
            display: none;
        }

        .processing-spinner {
            position: relative;
            width: 60px;
            height: 60px;
            margin-bottom: 1.25rem;
        }

        .spinner-ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border: 3px solid transparent;
            border-radius: 50%;
            animation: spinnerRotate 1.5s linear infinite;
        }

        .spinner-ring:nth-child(1) {
            border-top-color: #fbbf24;
            animation-delay: 0s;
        }

        .spinner-ring:nth-child(2) {
            border-right-color: #a855f7;
            animation-delay: 0.15s;
            width: 80%;
            height: 80%;
            top: 10%;
            left: 10%;
        }

        .spinner-ring:nth-child(3) {
            border-bottom-color: #4ade80;
            animation-delay: 0.3s;
            width: 60%;
            height: 60%;
            top: 20%;
            left: 20%;
        }

        @keyframes spinnerRotate {
            to {
                transform: rotate(360deg);
            }
        }

        .processing-overlay p {
            color: var(--text-primary);
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .processing-hint {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        @media (max-width: 600px) {
            .sub-status-card {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }

            .sub-status-left {
                flex-direction: column;
            }

            .order-summary {
                padding: 1.25rem;
            }

            .modal-header-new {
                padding: 1.5rem 1.25rem 1.25rem;
            }
        }

        .plan-card {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .plan-card:hover {
            border-color: var(--border-light);
            transform: translateY(-4px);
        }

        .plan-card.popular {
            border-color: rgba(168, 85, 247, 0.4);
            background: linear-gradient(135deg, var(--secondary-bg), rgba(168, 85, 247, 0.05));
        }

        .plan-card.popular:hover {
            border-color: rgba(168, 85, 247, 0.6);
            box-shadow: 0 10px 30px rgba(168, 85, 247, 0.15);
        }

        .plan-popular-badge {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: white;
            font-size: 0.7rem;
            font-weight: 700;
            padding: 0.3rem 0.75rem;
            border-radius: 20px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .plan-header {
            text-align: center;
            margin-bottom: 1.25rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .plan-name {
            display: block;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .plan-price {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--text-primary);
        }

        .plan-price small {
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-secondary);
        }

        .plan-features {
            list-style: none;
            padding: 0;
            margin: 0 0 1.25rem 0;
        }

        .plan-features li {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.6rem;
        }

        .plan-features li svg {
            color: #4ade80;
            flex-shrink: 0;
        }

        .plan-btn {
            width: 100%;
            padding: 0.75rem;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Manrope', sans-serif;
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .plan-btn:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--border-light);
        }

        .plan-btn.primary {
            background: var(--text-primary);
            border: none;
            color: var(--primary-bg);
        }

        .plan-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.15);
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* üí≥ PAYMENT MODAL STYLES                                          */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .payment-modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            animation: fadeIn 0.3s ease;
        }

        .payment-modal-overlay.hidden {
            display: none;
        }

        .payment-modal {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: scaleIn 0.3s ease;
        }

        .payment-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.2s ease;
            z-index: 10;
        }

        .payment-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .payment-header {
            text-align: center;
            padding: 2rem 2rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }

        .payment-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
        }

        .payment-icon svg {
            color: var(--text-primary);
        }

        .payment-header h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .payment-plan-name {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        /* Payment Steps */
        .payment-steps {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1.25rem 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .payment-step {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            opacity: 0.4;
            transition: all 0.3s ease;
        }

        .payment-step.active {
            opacity: 1;
        }

        .payment-step.completed {
            opacity: 1;
        }

        .payment-step.completed .step-number {
            background: #4ade80;
            border-color: #4ade80;
        }

        .step-number {
            width: 28px;
            height: 28px;
            border: 2px solid var(--border-light);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .payment-step.active .step-number {
            background: var(--text-primary);
            border-color: var(--text-primary);
            color: var(--primary-bg);
        }

        .step-name {
            font-size: 0.8rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .payment-step.active .step-name {
            color: var(--text-primary);
        }

        .payment-step-line {
            width: 30px;
            height: 2px;
            background: var(--border-color);
        }

        /* Payment Content */
        .payment-content {
            padding: 1.5rem 2rem 2rem;
        }

        .payment-content.hidden {
            display: none;
        }

        /* Payment Methods */
        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .payment-method {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.25rem;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .payment-method:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--border-light);
        }

        .payment-method.selected {
            background: rgba(255, 255, 255, 0.08);
            border-color: var(--text-primary);
        }

        .method-icon {
            width: 44px;
            height: 44px;
            background: var(--tertiary-bg);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .method-icon svg {
            color: var(--text-secondary);
        }

        .payment-method.selected .method-icon svg {
            color: var(--text-primary);
        }

        .method-info {
            flex: 1;
        }

        .method-name {
            display: block;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        .method-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .method-check {
            width: 24px;
            height: 24px;
            border: 2px solid var(--border-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .method-check svg {
            opacity: 0;
            color: var(--primary-bg);
        }

        .payment-method.selected .method-check {
            background: var(--text-primary);
            border-color: var(--text-primary);
        }

        .payment-method.selected .method-check svg {
            opacity: 1;
        }

        /* Payment Forms */
        .payment-form {
            margin-bottom: 1.5rem;
        }

        .payment-form.hidden {
            display: none;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .form-group input {
            width: 100%;
            padding: 0.9rem 1rem;
            background: var(--tertiary-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'JetBrains Mono', monospace;
            transition: all 0.2s ease;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--text-primary);
            background: var(--secondary-bg);
        }

        .form-group input::placeholder {
            color: var(--text-muted);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .card-input-wrapper {
            position: relative;
        }

        .card-brands {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            gap: 0.5rem;
        }

        .card-brand {
            font-size: 0.65rem;
            font-weight: 700;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            opacity: 0.3;
        }

        .card-brand.visa {
            background: #1a1f71;
            color: white;
        }

        .card-brand.mc {
            background: #eb001b;
            color: white;
        }

        .card-brand.mir {
            background: #4db45e;
            color: white;
        }

        /* SBP Form */
        .sbp-qr-container {
            text-align: center;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        .sbp-qr {
            margin-bottom: 1rem;
        }

        .sbp-instruction {
            color: #333;
            font-size: 0.9rem;
            margin-bottom: 0.75rem;
        }

        .sbp-banks {
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .sbp-banks span {
            font-size: 0.75rem;
            color: #666;
            padding: 0.3rem 0.6rem;
            background: #f0f0f0;
            border-radius: 6px;
        }

        /* Redirect Notice */
        .redirect-notice {
            text-align: center;
            padding: 2rem;
        }

        .redirect-notice svg {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .redirect-notice p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Crypto Form */
        .crypto-selector {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.25rem;
        }

        .crypto-option {
            flex: 1;
            padding: 0.75rem;
            background: var(--tertiary-bg);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Manrope', sans-serif;
        }

        .crypto-option:hover {
            border-color: var(--border-light);
        }

        .crypto-option.selected {
            background: var(--text-primary);
            border-color: var(--text-primary);
            color: var(--primary-bg);
        }

        .crypto-address-container {
            background: var(--tertiary-bg);
            border-radius: 12px;
            padding: 1.25rem;
        }

        .crypto-address-container label {
            display: block;
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }

        .crypto-address {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--secondary-bg);
            padding: 0.75rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        .crypto-address span {
            flex: 1;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: var(--text-primary);
            word-break: break-all;
        }

        .copy-btn {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
        }

        .crypto-amount {
            text-align: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .crypto-amount strong {
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
        }

        /* Payment Summary */
        .payment-summary {
            background: var(--tertiary-bg);
            border-radius: 12px;
            padding: 1rem 1.25rem;
            margin-bottom: 1.5rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .summary-row.total {
            border-top: 1px solid var(--border-color);
            margin-top: 0.5rem;
            padding-top: 0.75rem;
            font-weight: 700;
            color: var(--text-primary);
            font-size: 1rem;
        }

        /* Payment Buttons */
        .payment-buttons {
            display: flex;
            gap: 1rem;
        }

        .payment-btn {
            flex: 1;
            padding: 1rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Manrope', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .payment-btn.primary {
            background: var(--text-primary);
            border: none;
            color: var(--primary-bg);
        }

        .payment-btn.primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(255, 255, 255, 0.15);
        }

        .payment-btn.secondary {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .payment-btn.secondary:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--border-light);
        }

        /* Payment Success */
        .payment-success {
            text-align: center;
            padding: 1rem 0;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: rgba(74, 222, 128, 0.15);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }

        .success-icon svg {
            color: #4ade80;
        }

        .payment-success h3 {
            font-size: 1.25rem;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .payment-success p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 0.25rem;
        }

        .success-expires {
            font-size: 0.85rem !important;
            color: var(--text-muted) !important;
            margin-bottom: 1.5rem !important;
        }

        /* Payment Processing */
        .payment-processing {
            position: absolute;
            inset: 0;
            background: rgba(17, 17, 17, 0.95);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 20px;
            z-index: 100;
        }

        .payment-processing.hidden {
            display: none;
        }

        .processing-spinner {
            width: 48px;
            height: 48px;
            border: 3px solid var(--border-color);
            border-top-color: var(--text-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .payment-processing p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        @media (max-width: 600px) {
            .profile-minimal {
                padding: 1rem;
            }

            .profile-stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .profile-quick-actions {
                grid-template-columns: 1fr;
            }

            .payment-steps {
                padding: 1rem;
                gap: 0.25rem;
            }

            .step-name {
                display: none;
            }

            .payment-content {
                padding: 1.25rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }


        /* Loading Animation */
        .typing-indicator {
            display: flex;
            gap: 0.4rem;
            padding: 1rem 0;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--text-secondary);
            border-radius: 50%;
            animation: typingBounce 1.4s infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingBounce {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-10px);
            }
        }

        /* Responsive - Settings Modal */
        @media (max-width: 1024px) {
            .settings-content {
                padding: 1.5rem;
                max-height: 90vh;
            }

            .settings-header h2 {
                font-size: 1.4rem;
            }

            .setting-group {
                padding: 1rem;
            }

            .setting-control {
                flex-wrap: wrap;
            }
        }


        /* Navigation Menu - HIDDEN, using top logo instead */
        .main-nav {
            display: none;
        }

        .nav-container {
            display: none;
        }

        .nav-button {
            display: none;
        }

        /* Section Management */
        .section {
            display: none;
            animation: sectionFadeIn 0.4s ease-out;
        }

        .section.active {
            display: block;
        }

        @keyframes sectionFadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Profile Section - Enhanced Design */
        .profile-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Profile Header - Premium Design */
        .profile-header {
            position: relative;
            margin-bottom: 2rem;
            border-radius: 24px;
            overflow: hidden;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
        }

        .profile-header-bg {
            height: 180px;
            background:
                radial-gradient(ellipse at 20% 50%, rgba(88, 101, 242, 0.4) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 50%, rgba(114, 137, 218, 0.3) 0%, transparent 50%),
                radial-gradient(ellipse at 50% 100%, rgba(67, 84, 199, 0.5) 0%, transparent 50%),
                linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            position: relative;
            overflow: hidden;
        }

        .profile-header-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background:
                url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.03;
            pointer-events: none;
        }

        .profile-header-bg::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px;
            animation: profileStars 60s linear infinite;
        }

        @keyframes profileStars {
            0% {
                transform: translate(0, 0);
            }

            100% {
                transform: translate(50px, 50px);
            }
        }

        .profile-header-content {
            padding: 0 2.5rem 2.5rem;
            margin-top: -70px;
            display: flex;
            align-items: flex-end;
            gap: 2rem;
            position: relative;
            z-index: 2;
        }

        .profile-avatar-large {
            position: relative;
            flex-shrink: 0;
        }

        .profile-avatar-img {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: 5px solid var(--primary-bg);
            background: linear-gradient(135deg, #5865F2 0%, #7289da 50%, #4752C4 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            font-weight: 800;
            color: white;
            background-size: cover;
            background-position: center;
            box-shadow:
                0 10px 40px rgba(88, 101, 242, 0.4),
                0 0 0 4px rgba(88, 101, 242, 0.2);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .profile-avatar-large:hover .profile-avatar-img {
            transform: scale(1.05);
            box-shadow:
                0 15px 50px rgba(88, 101, 242, 0.5),
                0 0 0 6px rgba(88, 101, 242, 0.3);
        }

        .profile-avatar-large::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border-radius: 50%;
            background: conic-gradient(from 0deg, #5865F2, #7289da, #4752C4, #5865F2);
            z-index: -1;
            opacity: 0.5;
            animation: avatarGlow 4s linear infinite;
        }

        @keyframes avatarGlow {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        .profile-status-indicator {
            position: absolute;
            bottom: 12px;
            right: 12px;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #3ba55d;
            border: 5px solid var(--primary-bg);
            box-shadow: 0 0 20px rgba(59, 165, 93, 0.6);
            animation: statusPulse 2s ease-in-out infinite;
        }

        @keyframes statusPulse {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(59, 165, 93, 0.6);
            }

            50% {
                box-shadow: 0 0 30px rgba(59, 165, 93, 0.9);
            }
        }

        .profile-header-info {
            flex: 1;
            padding-bottom: 1rem;
        }

        .profile-username {
            font-size: 2.2rem;
            font-weight: 800;
            margin: 0;
            color: var(--text-primary);
            letter-spacing: -0.02em;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .profile-discriminator {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin: 0.3rem 0 1rem;
            font-family: 'JetBrains Mono', monospace;
            opacity: 0.8;
        }

        .profile-badges {
            display: flex;
            gap: 0.6rem;
            flex-wrap: wrap;
        }

        .profile-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(88, 101, 242, 0.15);
            border: 1px solid rgba(88, 101, 242, 0.4);
            border-radius: 20px;
            font-size: 0.85rem;
            color: #7289da;
            font-weight: 600;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .profile-badge:hover {
            background: rgba(88, 101, 242, 0.25);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(88, 101, 242, 0.3);
        }

        .profile-badge svg {
            width: 16px;
            height: 16px;
        }

        .profile-badge.verified {
            background: rgba(59, 165, 93, 0.15);
            border-color: rgba(59, 165, 93, 0.4);
            color: #3ba55d;
        }

        .profile-badge.premium {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 193, 7, 0.15));
            border-color: rgba(255, 215, 0, 0.4);
            color: #ffc107;
        }

        /* Profile Stats - Glass Morphism Design */
        .profile-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.25rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 1200px) {
            .profile-stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 600px) {
            .profile-stats {
                grid-template-columns: 1fr;
            }
        }

        .profile-stat-card {
            background: linear-gradient(135deg, rgba(30, 30, 46, 0.9), rgba(20, 20, 35, 0.95));
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 1.75rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 0.75rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .profile-stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, transparent, rgba(88, 101, 242, 0.8), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .profile-stat-card:hover::before {
            opacity: 1;
        }

        .profile-stat-card:hover {
            border-color: rgba(88, 101, 242, 0.4);
            transform: translateY(-8px);
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.4),
                0 0 40px rgba(88, 101, 242, 0.15);
        }

        .profile-stat-card:nth-child(1):hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 40px rgba(99, 179, 237, 0.2);
        }

        .profile-stat-card:nth-child(2):hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 40px rgba(236, 201, 75, 0.2);
        }

        .profile-stat-card:nth-child(3):hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 40px rgba(72, 187, 120, 0.2);
        }

        .profile-stat-card:nth-child(4):hover {
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4), 0 0 40px rgba(237, 100, 166, 0.2);
        }

        .stat-icon {
            font-size: 2.8rem;
            flex-shrink: 0;
            filter: none;
            transition: transform 0.3s ease;
        }

        .profile-stat-card:hover .stat-icon {
            transform: scale(1.15);
        }

        .stat-content {
            flex: 1;
        }

        .stat-value {
            font-size: 2.4rem;
            font-weight: 800;
            color: var(--text-primary);
            line-height: 1;
            margin-bottom: 0.4rem;
            letter-spacing: -0.02em;
            font-family: 'JetBrains Mono', monospace;
        }

        .stat-label {
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-weight: 500;
        }

        /* Status Indicator */
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 0.5rem;
        }

        .status-indicator.online {
            background: #3ba55d;
            box-shadow: 0 0 12px rgba(59, 165, 93, 0.7);
            animation: statusBlink 2s ease-in-out infinite;
        }

        @keyframes statusBlink {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.7;
            }
        }

        .profile-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        /* Profile Cards - Modern Glass Design */
        .profile-card {
            background: linear-gradient(145deg, rgba(30, 30, 46, 0.95), rgba(20, 20, 35, 0.98));
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .profile-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.03), transparent);
            transition: left 0.5s ease;
        }

        .profile-card:hover::before {
            left: 100%;
        }

        .profile-card:hover {
            border-color: rgba(88, 101, 242, 0.4);
            transform: translateY(-6px);
            box-shadow:
                0 20px 50px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(88, 101, 242, 0.1);
        }

        .profile-card h3 {
            font-size: 1.15rem;
            margin-bottom: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-primary);
            font-weight: 700;
        }

        .profile-card-icon {
            width: 28px;
            height: 28px;
            opacity: 0.8;
            padding: 5px;
            background: rgba(88, 101, 242, 0.15);
            border-radius: 8px;
            color: #7289da;
        }

        .profile-info {
            display: flex;
            flex-direction: column;
            gap: 0.85rem;
        }

        .profile-info-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.25rem;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            font-size: 0.95rem;
            border: 1px solid rgba(255, 255, 255, 0.03);
            transition: all 0.3s ease;
        }

        .profile-info-item:hover {
            background: rgba(88, 101, 242, 0.1);
            border-color: rgba(88, 101, 242, 0.2);
        }

        .profile-info-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        .profile-info-value {
            font-weight: 700;
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
        }

        /* Profile Actions */
        .profile-actions {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            flex-wrap: wrap;
        }

        .profile-action-btn {
            flex: 1;
            min-width: 200px;
            padding: 1rem 1.5rem;
            border-radius: 14px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            font-family: 'Manrope', sans-serif;
        }

        .profile-action-btn.primary {
            background: linear-gradient(135deg, #5865F2, #4752C4);
            border: none;
            color: white;
        }

        .profile-action-btn.primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(88, 101, 242, 0.4);
        }

        .profile-action-btn.secondary {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text-primary);
        }

        .profile-action-btn.secondary:hover {
            border-color: rgba(239, 68, 68, 0.5);
            color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        /* Activity Chart Placeholder */
        .activity-chart {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 1rem;
        }

        .activity-bars {
            display: flex;
            gap: 6px;
            align-items: flex-end;
            height: 80px;
        }

        .activity-bar {
            flex: 1;
            background: linear-gradient(to top, #5865F2, #7289da);
            border-radius: 4px 4px 0 0;
            min-height: 8px;
            transition: all 0.3s ease;
        }

        .activity-bar:hover {
            opacity: 0.8;
        }

        .activity-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.75rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Complaints Section */
        .complaint-form {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* ROLLBACK SECTION - New Design                                    */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .rollback-container {
            max-width: 700px;
            margin: 0 auto;
        }

        .rollback-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .rollback-header h2 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .rollback-subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Type Selector */
        .rollback-type-selector {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .type-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 0.5rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .type-option:hover {
            border-color: rgba(255, 255, 255, 0.2);
            background: rgba(255, 255, 255, 0.03);
        }

        .type-option.active {
            border-color: rgba(255, 255, 255, 0.5);
            background: rgba(255, 255, 255, 0.1);
        }

        .type-option svg {
            width: 24px;
            height: 24px;
            color: var(--text-secondary);
        }

        .type-option.active svg {
            color: #ffffff;
        }

        .type-option span {
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--text-secondary);
            text-align: center;
        }

        .type-option.active span {
            color: var(--text-primary);
        }

        /* File Upload Area */
        .file-upload-area {
            border: 2px dashed var(--border-color);
            border-radius: 16px;
            padding: 3rem 2rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.01);
        }

        .file-upload-area:hover {
            border-color: rgba(255, 255, 255, 0.4);
            background: rgba(255, 255, 255, 0.03);
        }

        .file-upload-area.dragover {
            border-color: #ffffff;
            background: rgba(255, 255, 255, 0.08);
        }

        .upload-icon {
            margin-bottom: 1rem;
        }

        .upload-icon svg {
            width: 48px;
            height: 48px;
            color: var(--text-secondary);
        }

        .file-upload-area:hover .upload-icon svg {
            color: #ffffff;
        }

        .upload-text {
            display: flex;
            flex-direction: column;
            gap: 0.35rem;
        }

        .upload-title {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .upload-formats {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* File Preview */
        .file-preview {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1.5rem;
        }

        .file-preview-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .file-preview-icon {
            width: 48px;
            height: 48px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .file-preview-icon svg {
            width: 24px;
            height: 24px;
            color: #ffffff;
        }

        .file-preview-details {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 0.2rem;
        }

        .file-preview-name {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .file-preview-size {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .file-remove-btn {
            width: 36px;
            height: 36px;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
        }

        .file-remove-btn:hover {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .file-remove-btn svg {
            width: 16px;
            height: 16px;
            color: var(--text-secondary);
        }

        .file-remove-btn:hover svg {
            color: #ef4444;
        }

        /* Progress Bar */
        .file-progress {
            height: 4px;
            background: var(--border-color);
            border-radius: 2px;
            margin-top: 1rem;
            overflow: hidden;
        }

        .file-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #ffffff, #f0f0f0);
            border-radius: 2px;
            transition: width 0.3s ease;
        }

        /* Form Group */
        .rollback-form-group {
            margin-bottom: 1.5rem;
        }

        .rollback-label {
            display: block;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .rollback-textarea {
            width: 100%;
            min-height: 100px;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 1rem;
            color: var(--text-primary);
            font-family: 'Manrope', sans-serif;
            font-size: 0.95rem;
            resize: vertical;
            transition: all 0.2s ease;
        }

        .rollback-textarea:focus {
            outline: none;
            border-color: rgba(255, 255, 255, 0.4);
        }

        .rollback-textarea::placeholder {
            color: var(--text-secondary);
        }

        /* Submit Button */
        .rollback-submit-btn {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
            border: none;
            border-radius: 12px;
            color: #2c3e50;
            font-family: 'Manrope', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .rollback-submit-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.3);
        }

        .rollback-submit-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .rollback-submit-btn svg {
            width: 20px;
            height: 20px;
        }

        /* Status */
        .rollback-status {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            font-weight: 500;
        }

        .rollback-status.success {
            background: rgba(34, 197, 94, 0.1);
            border: 1px solid rgba(34, 197, 94, 0.3);
            color: #22c55e;
        }

        .rollback-status.error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        /* Responsive */
        @media (max-width: 600px) {
            .rollback-type-selector {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* üè† LANDING / HOME PAGE                                           */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .landing-section {
            min-height: auto;
            padding-top: 20px;
            padding-bottom: 3rem;
            overflow: visible;
        }

        /* Hero Section */
        .hero-section {
            text-align: center;
            padding: 1rem 0 3rem;
            position: relative;
            overflow: visible;
        }

        .hero-logo {
            width: 100px;
            height: 100px;
            margin: 0 auto 1.25rem;
            position: relative;
            animation: heroFloat 4s ease-in-out infinite;
        }

        .hero-logo img {
            width: 100%;
            height: 100%;
            border-radius: 20px;
            filter: drop-shadow(0 0 20px rgba(255, 255, 255, 0.3));
        }

        @keyframes heroFloat {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-15px);
            }
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 50px;
            font-size: 0.8rem;
            color: #ffffff;
            margin-bottom: 1.5rem;
            animation: badgePulse 2s ease-in-out infinite;
        }

        @keyframes badgePulse {

            0%,
            100% {
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.4);
            }

            50% {
                box-shadow: 0 0 0 8px rgba(255, 255, 255, 0);
            }
        }

        .hero-badge svg {
            width: 14px;
            height: 14px;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, #ffffff 0%, #a0a0a0 50%, #ffffff 100%);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleShine 4s ease infinite;
        }

        @keyframes titleShine {

            0%,
            100% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }
        }

        .hero-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            max-width: 500px;
            margin: 0 auto 2rem;
            line-height: 1.6;
        }

        .hero-cta {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-primary {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, #ffffff 0%, #e0e0e0 100%);
            border: none;
            border-radius: 12px;
            color: #2c3e50;
            font-family: 'Manrope', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .cta-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(255, 255, 255, 0.4);
        }

        .cta-primary svg {
            width: 20px;
            height: 20px;
        }

        .cta-secondary {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            padding: 1rem 2rem;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-family: 'Manrope', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .cta-secondary:hover {
            border-color: var(--text-secondary);
            background: rgba(255, 255, 255, 0.03);
        }

        /* Features Grid */
        .features-section {
            padding: 2.5rem 0;
        }

        .section-label {
            text-align: center;
            font-size: 0.85rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.75rem;
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 3rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .feature-card {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ffffff, #f0f0f0);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feature-card:hover {
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-5px);
        }

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-icon {
            width: 56px;
            height: 56px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.25rem;
        }

        .feature-icon svg {
            width: 28px;
            height: 28px;
            color: #ffffff;
        }

        .feature-title {
            font-size: 1.15rem;
            font-weight: 700;
            margin-bottom: 0.6rem;
        }

        .feature-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Demo Chat Preview */
        .demo-section {
            padding: 2.5rem 0;
        }

        .demo-container {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            overflow: hidden;
            max-width: 700px;
            margin: 0 auto;
        }

        .demo-header {
            padding: 1rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .demo-dots {
            display: flex;
            gap: 6px;
        }

        .demo-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--border-color);
        }

        .demo-dot:nth-child(1) {
            background: #ef4444;
        }

        .demo-dot:nth-child(2) {
            background: #eab308;
        }

        .demo-dot:nth-child(3) {
            background: #22c55e;
        }

        .demo-title {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-left: auto;
        }

        .demo-chat {
            padding: 1.5rem;
            min-height: 300px;
        }

        .demo-message {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            animation: demoFadeIn 0.5s ease;
        }

        @keyframes demoFadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .demo-message.user {
            flex-direction: row-reverse;
        }

        .demo-avatar {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            background: var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85rem;
            font-weight: 600;
            flex-shrink: 0;
        }

        .demo-message.bot .demo-avatar {
            background: linear-gradient(135deg, #ffffff, #e0e0e0);
            color: #2c3e50;
        }

        .demo-bubble {
            background: var(--primary-bg);
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 0.9rem 1.2rem;
            max-width: 80%;
        }

        .demo-message.user .demo-bubble {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.2);
        }

        .demo-text {
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .demo-typing {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.9rem 1.2rem;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--text-secondary);
            border-radius: 50%;
            animation: typingBounce 1.4s ease-in-out infinite;
        }

        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typingBounce {

            0%,
            60%,
            100% {
                transform: translateY(0);
            }

            30% {
                transform: translateY(-6px);
            }
        }

        /* Stats Section */
        .stats-section {
            padding: 2rem 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
        }

        .stat-card {
            text-align: center;
            padding: 1.25rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
        }

        .stat-number-big {
            font-size: 2rem;
            font-weight: 800;
            font-family: 'JetBrains Mono', monospace;
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.25rem;
        }

        /* CTA Bottom */
        .cta-section {
            padding: 2.5rem 0 1.5rem;
            text-align: center;
        }

        .cta-box {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(240, 240, 240, 0.1) 100%);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            padding: 2rem 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .cta-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 60%);
            animation: ctaGlow 6s ease-in-out infinite;
        }

        @keyframes ctaGlow {

            0%,
            100% {
                transform: translate(0, 0);
            }

            50% {
                transform: translate(10%, 10%);
            }
        }

        .cta-box-title {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            position: relative;
        }

        .cta-box-subtitle {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            position: relative;
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* üåê SOCIAL SECTION                                                */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .social-section {
            padding: 2.5rem 0 1rem;
            text-align: center;
        }

        .social-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .social-subtitle {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 2rem;
        }

        .social-card {
            display: inline-flex;
            align-items: center;
            gap: 1rem;
            padding: 1.25rem 2rem;
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            color: var(--text-primary);
        }

        .social-card:hover {
            border-color: #5865F2;
            transform: translateY(-4px);
            box-shadow: 0 15px 40px rgba(88, 101, 242, 0.2);
        }

        .social-icon {
            width: 48px;
            height: 48px;
            background: rgba(88, 101, 242, 0.1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .social-icon svg {
            width: 28px;
            height: 28px;
            color: #5865F2;
        }

        .social-info {
            text-align: left;
        }

        .social-name {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.15rem;
        }

        .social-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        /* üìú SCROLL ANIMATIONS                                             */
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .scroll-reveal {
            opacity: 0;
            transform: translateY(40px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .scroll-reveal.revealed {
            opacity: 1;
            transform: translateY(0);
        }

        .scroll-reveal-left {
            opacity: 0;
            transform: translateX(-60px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .scroll-reveal-left.revealed {
            opacity: 1;
            transform: translateX(0);
        }

        .scroll-reveal-right {
            opacity: 0;
            transform: translateX(60px);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .scroll-reveal-right.revealed {
            opacity: 1;
            transform: translateX(0);
        }

        .scroll-reveal-scale {
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
        }

        .scroll-reveal-scale.revealed {
            opacity: 1;
            transform: scale(1);
        }

        /* Staggered animations */
        .scroll-reveal[data-delay="1"] {
            transition-delay: 0.1s;
        }

        .scroll-reveal[data-delay="2"] {
            transition-delay: 0.2s;
        }

        .scroll-reveal[data-delay="3"] {
            transition-delay: 0.3s;
        }

        .scroll-reveal[data-delay="4"] {
            transition-delay: 0.4s;
        }

        .scroll-reveal-left[data-delay="1"],
        .scroll-reveal-right[data-delay="1"] {
            transition-delay: 0.1s;
        }

        .scroll-reveal-left[data-delay="2"],
        .scroll-reveal-right[data-delay="2"] {
            transition-delay: 0.2s;
        }

        /* Responsive */
        @media (max-width: 780px) {
            .hero-title {
                font-size: 3rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .features-grid {
                grid-template-columns: 1fr;
            }
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-primary);
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            background: var(--primary-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.875rem;
            color: var(--text-primary);
            font-family: 'Manrope', sans-serif;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.1);
        }

        .form-button {
            background: var(--accent-color);
            color: var(--primary-bg);
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }

        .form-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
        }

        /* Rules Section */
        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .rule-category {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .rule-category:hover {
            border-color: var(--accent-color);
            transform: translateY(-4px);
            box-shadow: 0 10px 40px rgba(255, 255, 255, 0.05);
        }

        .rule-category-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.75rem;
        }

        .rule-category-icon {
            font-size: 2rem;
        }

        .rule-category-title {
            font-size: 1.1rem;
            font-weight: 600;
        }

        .rule-category-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* History Section */
        .history-list {
            background: var(--secondary-bg);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            overflow: hidden;
        }

        .history-item {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            transition: background 0.3s ease;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        .history-item:hover {
            background: var(--primary-bg);
        }

        .history-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .history-item-title {
            font-weight: 600;
            font-size: 1rem;
        }

        .history-item-time {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
        }

        .history-item-content {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Footer */
        footer {
            position: relative;
            z-index: 10;
            text-align: center;
            padding: 3rem 2rem;
            margin-top: 4rem;
            color: var(--text-secondary);
            font-size: 0.95rem;
            border-top: 1px solid var(--border-color);
            animation: fadeIn 2s ease-out 1s both;
        }

        footer p {
            margin: 0;
            line-height: 1.6;
        }

        footer p:first-child {
            font-weight: 500;
            font-size: 1rem;
            color: var(--text-primary);/* ... existing code ... */

            /* Modern Input Box */
            .chat-input-box {
                background: transparent;
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 20px;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                position: relative;
                backdrop-filter: none;
            }

            .chat-input-box::before {
                content: '';
                position: absolute;
                inset: 0;
                border-radius: 20px;
                padding: 1px;
                background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3), rgba(96, 165, 250, 0.3));
                -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
                -webkit-mask-composite: xor;
                mask-composite: exclude;
                opacity: 0;
                transition: opacity 0.3s ease;
                pointer-events: none;
            }

            .chat-input-box:focus-within::before {
                opacity: 1;
            }

            .chat-input-box:hover {
                border-color: rgba(255, 255, 255, 0.15);
            }

            .chat-input-box:focus-within {
                border-color: transparent;
                box-shadow: 0 0 30px rgba(96, 165, 250, 0.15), 0 10px 40px rgba(0, 0, 0, 0.2);
            }

            /* Input Area - Main */
            .chat-input-main {
                padding: 1.25rem 1.5rem;
                min-height: 60px;
                border-radius: 20px 20px 0 0;
                background: transparent;
            }

            .chat-input {
                width: 100%;
                background: transparent;
                border: none;
                padding: 0;
                color: var(--text-primary);
                font-family: 'Manrope', sans-serif;
                font-size: 1rem;
                line-height: 1.6;
                resize: none;
            }

            .chat-input:focus {
                outline: none;
            }

            .chat-input::placeholder {
                color: var(--text-muted);
                transition: color 0.3s ease;
            }

            .chat-input:focus::placeholder {
                color: var(--text-secondary);
            }

            /* Bottom Bar */
            .chat-input-bottom {
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0.75rem 1.25rem;
                border-top: 1px solid rgba(255, 255, 255, 0.05);
                background: transparent;
                border-radius: 0 0 20px 20px;
            }

            /* ... existing code ... *//* ... existing code ... */

            /* Modern Input Box */
            .chat-input-box {
                background: transparent;
                border: 1px solid rgba(255, 255, 255, 0.1);
                border-radius: 20px;
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                position: relative;
                backdrop-filter: none;
            }

            .chat-input-box::before {
                content: '';
                position: absolute;
                inset: 0;
                border-radius: 20px;
                padding: 1px;
                background: linear-gradient(135deg, rgba(96, 165, 250, 0.3), rgba(59, 130, 246, 0.3), rgba(96, 165, 250, 0.3));
                -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
                -webkit-mask-composite: xor;
                mask-composite: exclude;
                opacity: 0;
                transition: opacity 0.3s ease;
                pointer-events: none;
            }

            .chat-input-box:focus-within::before {
                opacity: 1;
            }

            .chat-input-box:hover {
                border-color: rgba(255, 255, 255, 0.15);
            }

            .chat-input-box:focus-within {
                border-color: transparent;
                box-shadow: 0 0 30px rgba(96, 165, 250, 0.15), 0 10px 40px rgba(0, 0, 0, 0.2);
            }

            /* Input Area - Main */
            .chat-input-main {
                padding: 1.25rem 1.5rem;
                min-height: 60px;
                border-radius: 20px 20px 0 0;
                background: transparent;
            }

            .chat-input {
                width: 100%;
                background: transparent;
                border: none;
                padding: 0;
                color: var(--text-primary);
                font-family: 'Manrope', sans-serif;
                font-size: 1rem;
                line-height: 1.6;
                resize: none;
            }

            .chat-input:focus {
                outline: none;
            }

            .chat-input::placeholder {
                color: var(--text-muted);
                transition: color 0.3s ease;
            }

            .chat-input:focus::placeholder {
                color: var(--text-secondary);
            }

            /* Bottom Bar */
            .chat-input-bottom {
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0.75rem 1.25rem;
                border-top: 1px solid rgba(255, 255, 255, 0.05);
                background: transparent;
                border-radius: 0 0 20px 20px;
            }

            /* ... existing code ... */
        }

        /* Responsive */

        footer a {
            color: var(--accent-color);
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        footer a:hover {
            opacity: 0.7;
        }

        /* Responsive */

        /* Responsive Design - Consolidated */
        @media (max-width: 768px) {
            .chat-input-wrapper {
                flex-direction: column;
            }

            .chat-messages {
                height: 400px;
            }

            .login-container {
                padding: 2rem;
            }

            .logo-img {
                height: 60px;
                width: 60px;
            }

            .model-buttons {
                grid-template-columns: 1fr;
            }

            .nav-button {
                justify-content: center;
            }

            .nav-container {
                flex-direction: column;
            }

            .quick-questions {
                grid-template-columns: 1fr;
            }

            .send-button {
                width: 100%;
            }

            .user-name {
                font-size: 0.85rem;
            }

            .user-profile-badge {
            display: flex !important;
            opacity: 1 !important;
            visibility: visible !important;
                padding: 0.5rem 0.75rem;
                right: 1rem;
                top: 1rem;
            }

            .user-status {
                font-size: 0.7rem;
            }

            h1 {
                font-size: 2.5rem;
            }

            .profile-dropdown {
                right: 1rem;
                top: 5rem;
                min-width: 200px;
            }

            .dropdown-item {
                font-size: 0.85rem;
                padding: 0.65rem 0.85rem;
            }

        }

        /* 
           Wider layout & Enhanced visuals 
        */
        .profile-minimal {
            max-width: 1200px !important;
            padding: 2.5rem !important;
        }

            transform: translateY(-12px) scale(1.02) !important;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.01)) !important;
            border-color: #d4af37 !important;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), 0 0 30px rgba(212, 175, 55, 0.15) !important;
        }

        .plan-elite:hover .plan-price {
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        /* Feature Icons Pop */
        .feature-elite {
            transition: transform 0.3s ease, background 0.3s ease !important;
        }

        .feature-elite:hover {
            background: rgba(212, 175, 55, 0.15) !important;
            transform: translateY(-5px);
        }

        .feature-elite .f-icon {
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: inline-block;
        }

        .feature-elite:hover .f-icon {
            transform: scale(1.4) rotate(10deg);
        }

        /* Button Pulse */
        @keyframes btnGlowPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.6);
            }

            70% {
                box-shadow: 0 0 0 12px rgba(212, 175, 55, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0);
            }
        }

        .lt-btn {
            animation: btnGlowPulse 2s infinite !important;
            position: relative;
            overflow: hidden;
        }

        .lt-btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
            animation: btnShine 3s infinite;
        }

        @keyframes btnShine {
            0% {
                left: -100%;
            }

            20% {
                left: 100%;
            }

            100% {
                left: 100%;
            }
        }

        /* –≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í */
        /* —Ä—ü‚Ä∫‚Äò DISABLE ANIMATIONS FOR LIFETIME BLOCK                        */
        /* –≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í–≤‚Ä¢—í */
        .lifetime-elite,
        .lifetime-elite .lifetime-rays,
        .lifetime-elite .lt-btn,
        .lifetime-elite .lt-btn::after,
        .lifetime-elite .lifetime-icon-elite,
        .lifetime-elite:hover,
        .lifetime-elite:hover .lifetime-icon-elite {
            animation: none !important;
            transform: none !important;
        }

        /* Keep simple hover scale if desired, but user said "remove animation". 
           If they meant just the continuous ones, I should perhaps leave hover. 
           But "–†–à–†¬±–†¬µ–°–Ç–†—ë –†¬∞–†–Ö–†—ë–†—ò–†¬∞–°‚Ä†–†—ë–°–ã" is strong. Let's kill all animations on that block to be safe. */

        .lifetime-elite:hover {
            border-color: #d4af37 !important;
            /* Keep border color change */
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           üíé COMPACT SUBSCRIPTION BADGE IN PROFILE
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .profile-subscription-badge {
            display: none !important;
        }

        /* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–µ–π–¥–∂ —Ç–æ–ª—å–∫–æ –≤ —Å–µ–∫—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏ */
        #subscriptionSection .profile-subscription-badge,
        .subscription-info .profile-subscription-badge {
            display: inline-flex !important;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.9rem;
            border-radius: 10px;
            font-size: 0.85rem;
            font-weight: 700;
            margin-top: 0.65rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            letter-spacing: 0.03em;
            text-transform: uppercase;
        }

        #subscriptionSection .profile-subscription-badge.free,
        .subscription-info .profile-subscription-badge.free {
            background: linear-gradient(135deg, rgba(100, 100, 100, 0.15), rgba(80, 80, 80, 0.15));
            border: 1px solid rgba(120, 120, 120, 0.35);
            color: #aaa;
        }

        #subscriptionSection .profile-subscription-badge.pro,
        .subscription-info .profile-subscription-badge.pro {
            background: linear-gradient(135deg, rgba(96, 165, 250, 0.2), rgba(59, 130, 246, 0.2));
            border: 1px solid rgba(96, 165, 250, 0.5);
            color: #c4b5fd;
            box-shadow: 0 0 20px rgba(96, 165, 250, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        #subscriptionSection .profile-subscription-badge.lifetime,
        .subscription-info .profile-subscription-badge.lifetime {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(245, 158, 11, 0.2));
            border: 1px solid rgba(251, 191, 36, 0.5);
            color: #fcd34d;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .profile-sub-icon {
            font-size: 1rem;
            filter: drop-shadow(0 0 4px currentColor);
        }

        .profile-sub-text {
            font-size: 0.8rem;
            letter-spacing: 0.08em;
            font-weight: 800;
        }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           üìã COMPLAINT FORM & HISTORY STYLES
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

        .complaint-form {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 24px;
            padding: 3rem;
            transition: all 0.3s ease;
        }

        .complaint-form:hover {
            background: rgba(20, 20, 20, 0.8);
            border-color: var(--border-glow);
            box-shadow: 0 8px 32px var(--glow);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
            font-size: 0.95rem;
            font-weight: 600;
        }

        .form-label svg {
            color: var(--accent-primary);
        }

        .form-input,
        .form-textarea {
            width: 100%;
            padding: 1rem;
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 0.95rem;
            font-family: 'Manrope', sans-serif;
            transition: all 0.3s ease;
        }

        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--border-glow);
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.15);
            background: rgba(20, 20, 20, 0.8);
        }

        .form-input::placeholder,
        .form-textarea::placeholder {
            color: var(--text-secondary);
        }

        .form-textarea {
            resize: vertical;
            min-height: 150px;
        }

        .submit-complaint-btn {
            width: 100%;
            padding: 1.25rem;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border: none;
            border-radius: 12px;
            color: white;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .submit-complaint-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(96, 165, 250, 0.5);
        }

        .submit-complaint-btn svg {
            width: 20px;
            height: 20px;
        }

        .complaint-status {
            margin-top: 1.5rem;
            padding: 1rem;
            border-radius: 12px;
            display: none;
            animation: slideIn 0.3s ease;
        }

        .complaint-status.success {
            display: block;
            background: rgba(16, 185, 129, 0.15);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: var(--accent-success);
        }

        .complaint-status.error {
            display: block;
            background: rgba(239, 68, 68, 0.15);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        /* History Styles */
        .history-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .history-empty {
            text-align: center;
            padding: 4rem 2rem;
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 24px;
        }

        .empty-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            background: rgba(96, 165, 250, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .empty-icon svg {
            width: 40px;
            height: 40px;
            color: var(--accent-primary);
        }

        .history-empty h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        .history-empty p {
            font-size: 1rem;
            color: var(--text-secondary);
            max-width: 500px;
            margin: 0 auto;
        }

        .history-item {
            background: rgba(20, 20, 20, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .history-item:hover {
            background: rgba(20, 20, 20, 0.8);
            border-color: var(--border-glow);
            box-shadow: 0 4px 16px var(--glow);
            transform: translateY(-2px);
        }

        .history-item-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }

        .history-item-type {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .history-item-date {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .history-item-content {
            color: var(--text-primary);
            line-height: 1.6;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideOut {
            from {
                opacity: 1;
                transform: translateY(0);
            }
            to {
                opacity: 0;
                transform: translateY(-10px);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .complaint-form {
                padding: 2rem 1.5rem;
            }

            .form-input,
            .form-textarea {
                padding: 0.875rem;
                font-size: 0.9rem;
            }

            .submit-complaint-btn {
                padding: 1rem;
                font-size: 0.95rem;
            }
        }
         #start-screen {
            display: none;
        }

    
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           VERTICAL SCROLL INDICATOR - LEFT SIDE
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        .vertical-scroll-indicator {
            position: fixed;
            left: 40px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 15px;
            align-items: center;
        }

        .scroll-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }

        .scroll-dot:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(1.2);
        }

        .scroll-dot.active {
            background: #60a5fa;
            box-shadow: 0 0 20px rgba(96, 165, 250, 0.6),
                        0 0 40px rgba(96, 165, 250, 0.4);
            height: 40px;
            border-radius: 4px;
        }

        .scroll-dot.active::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 6px;
            background: radial-gradient(circle, rgba(96, 165, 250, 0.3), transparent);
            z-index: -1;
        }

        @media (max-width: 768px) {
            .vertical-scroll-indicator {
                display: none;
            }

        /* Scroll dot hover effects */
        .scroll-dot:not(.active):hover {
            background: rgba(96, 165, 250, 0.6);
        }

        .scroll-dot {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1), height 0.3s ease;
        }

        @media (max-width: 992px) {
            .vertical-scroll-indicator {
                left: 20px;
            }
        }

        @media (max-width: 640px) {
            .vertical-scroll-indicator {
                left: 15px;
            }
            
            .scroll-dot {
                width: 6px;
                height: 6px;
            }
            
            .scroll-dot.active {
                height: 30px;
            }
        }
        }


        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           DISCORD LINK BUTTON - LEFT BOTTOM
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        
        .discord-link-button {
            position: fixed;
            left: 2rem;
            bottom: 2rem;
            width: 56px;
            height: 56px;
            background: linear-gradient(135deg, 
                rgba(88, 101, 242, 0.15) 0%, 
                rgba(114, 137, 218, 0.15) 100%);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(88, 101, 242, 0.3);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            text-decoration: none;
        }

        .discord-link-button svg {
            width: 28px;
            height: 28px;
            color: rgba(88, 101, 242, 0.9);
            transition: all 0.3s ease;
        }

        .discord-link-button::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: linear-gradient(135deg, 
                rgba(88, 101, 242, 0.4) 0%, 
                rgba(114, 137, 218, 0.4) 100%);
            border-radius: 18px;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .discord-link-button:hover {
            transform: translateY(-4px) scale(1.05);
            background: linear-gradient(135deg, 
                rgba(88, 101, 242, 0.25) 0%, 
                rgba(114, 137, 218, 0.25) 100%);
            border-color: rgba(88, 101, 242, 0.5);
            box-shadow: 
                0 8px 24px rgba(88, 101, 242, 0.3),
                0 0 40px rgba(88, 101, 242, 0.2);
        }

        .discord-link-button:hover::before {
            opacity: 1;
        }

        .discord-link-button:hover svg {
            color: rgba(88, 101, 242, 1);
            transform: scale(1.1) rotate(-5deg);
        }

        .discord-link-button:active {
            transform: translateY(-2px) scale(1.02);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏ */
        @keyframes discordPulse {
            0%, 100% {
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
            }
            50% {
                box-shadow: 
                    0 4px 16px rgba(0, 0, 0, 0.3),
                    0 0 20px rgba(88, 101, 242, 0.4);
            }
        }

        .discord-link-button {
            animation: discordPulse 3s ease-in-out infinite;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .discord-link-button {
                left: 1rem;
                bottom: 1rem;
                width: 48px;
                height: 48px;
            }

            .discord-link-button svg {
                width: 24px;
                height: 24px;
            }
        }

        
        
        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           NEWS SECTION - –í –°–¢–ò–õ–ï –ñ–ê–õ–û–ë
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        
        /* News Grid */
        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* News Card - –≤ —Å—Ç–∏–ª–µ complaint-form */
        .news-card {
            background: rgba(15, 15, 20, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 0;
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            animation: fadeInUp 0.5s ease-out forwards;
            opacity: 0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .news-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(96, 165, 250, 0.6) 50%,
                transparent 100%);
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .news-card:hover {
            transform: translateY(-8px);
            border-color: rgba(96, 165, 250, 0.3);
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.5),
                0 0 0 1px rgba(96, 165, 250, 0.2);
        }

        .news-card:hover::before {
            opacity: 1;
        }

        /* News Header Bar */
        .news-header-bar {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.5rem;
            background: rgba(10, 10, 15, 0.4);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .news-card .news-icon {
            font-size: 2rem;
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(96, 165, 250, 0.1);
            border: 1px solid rgba(96, 165, 250, 0.2);
            border-radius: 12px;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .news-card:hover .news-icon {
            background: rgba(96, 165, 250, 0.2);
            border-color: rgba(96, 165, 250, 0.4);
            transform: scale(1.05);
        }

        .news-category {
            padding: 0.4rem 0.9rem;
            background: linear-gradient(135deg, 
                rgba(96, 165, 250, 0.15) 0%, 
                rgba(59, 130, 246, 0.15) 100%);
            border: 1px solid rgba(96, 165, 250, 0.3);
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: rgba(96, 165, 250, 1);
            transition: all 0.3s ease;
        }

        .news-card:hover .news-category {
            background: linear-gradient(135deg, 
                rgba(96, 165, 250, 0.25) 0%, 
                rgba(59, 130, 246, 0.25) 100%);
            border-color: rgba(96, 165, 250, 0.5);
        }

        /* News Content */
        .news-content {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .news-card-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #ffffff;
            line-height: 1.3;
            margin: 0;
            transition: color 0.3s ease;
        }

        .news-card:hover .news-card-title {
            color: rgba(96, 165, 250, 1);
        }

        .news-card-text {
            font-size: 0.95rem;
            color: rgba(255, 255, 255, 0.6);
            line-height: 1.6;
            margin: 0;
        }

        /* News Tags */
        .news-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .news-tag {
            padding: 0.35rem 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .news-card:hover .news-tag {
            background: rgba(96, 165, 250, 0.1);
            border-color: rgba(96, 165, 250, 0.3);
            color: rgba(96, 165, 250, 0.9);
        }

        /* News Footer */
        .news-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: rgba(10, 10, 15, 0.4);
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .news-author,
        .news-date {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
        }

        .news-author svg,
        .news-date svg {
            width: 16px;
            height: 16px;
            opacity: 0.6;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .news-grid {
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            }
        }
        
        @media (max-width: 768px) {
            .news-grid {
                grid-template-columns: 1fr;
            }
        }

           TEAM SECTION - Discord Style Cards
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        
        /* Team Grid - Vertical Layout */
        .team-grid {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Team Member Card - Improved Design */
        .team-member-card {
            background: linear-gradient(135deg, rgba(15, 15, 15, 0.95) 0%, rgba(10, 10, 10, 0.98) 100%);
            border: 1px solid rgba(60, 60, 60, 0.4);
            border-radius: 16px;
            padding: 1.75rem;
            display: flex;
            align-items: center;
            gap: 1.75rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        .team-member-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 5px;
            background: linear-gradient(180deg, rgba(96, 165, 250, 0.9), rgba(59, 130, 246, 0.9));
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .team-member-card::after {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 16px;
            padding: 1px;
            background: linear-gradient(135deg, rgba(96, 165, 250, 0.2), transparent);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.4s ease;
        }

        .team-member-card:hover {
            background: linear-gradient(135deg, rgba(20, 20, 20, 0.98) 0%, rgba(15, 15, 15, 1) 100%);
            border-color: rgba(96, 165, 250, 0.4);
            transform: translateX(6px) translateY(-2px);
            box-shadow: 0 8px 30px rgba(96, 165, 250, 0.2), 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        .team-member-card:hover::before {
            opacity: 1;
        }

        .team-member-card:hover::after {
            opacity: 1;
        }

        /* Avatar Container */
        .team-member-avatar-container {
            position: relative;
            flex-shrink: 0;
        }

        /* Avatar - Enhanced */
        .team-member-avatar {
            width: 90px;
            height: 90px;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            border: 4px solid rgba(40, 40, 40, 0.6);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }

        .team-member-card:hover .team-member-avatar {
            border-color: rgba(96, 165, 250, 0.6);
            box-shadow: 0 0 25px rgba(96, 165, 250, 0.4), 
                        0 0 40px rgba(96, 165, 250, 0.2),
                        0 4px 20px rgba(0, 0, 0, 0.5);
            transform: scale(1.05);
        }

        .team-member-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .team-member-avatar-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            font-size: 2rem;
            font-weight: 700;
            color: white;
        }

        /* Status Indicator - Enhanced */
        .team-member-status {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background: #23a55a;
            border: 4px solid rgba(15, 15, 15, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease;
        }

        .team-member-card:hover .team-member-status {
            transform: scale(1.1);
        }

        /* Member Info Container */
        .team-member-info {
            flex: 1;
            min-width: 0;
        }

        /* Member Name - Enhanced */
        .team-member-name {
            font-size: 1.35rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            letter-spacing: -0.02em;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        /* Member Meta */
        .team-member-meta {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            flex-wrap: wrap;
            margin-bottom: 0.5rem;
        }

        .team-member-id {
            font-size: 0.85rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .team-member-role {
            display: inline-flex;
            align-items: center;
            padding: 0.35rem 0.85rem;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }

        .team-member-card:hover .team-member-role {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
        }

        .role-owner {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #ef4444 100%);
            color: white;
            box-shadow: 0 0 20px rgba(245, 158, 11, 0.4), 
                        0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .team-member-card:hover .role-owner {
            box-shadow: 0 0 25px rgba(245, 158, 11, 0.6), 
                        0 4px 20px rgba(239, 68, 68, 0.4);
        }

        .role-team {
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 50%, #2563eb 100%);
            color: white;
            box-shadow: 0 0 20px rgba(96, 165, 250, 0.4), 
                        0 4px 15px rgba(59, 130, 246, 0.3);
        }

        .team-member-card:hover .role-team {
            box-shadow: 0 0 25px rgba(96, 165, 250, 0.6), 
                        0 4px 20px rgba(59, 130, 246, 0.4);
        }

        .team-member-bio {
            color: var(--text-secondary);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .team-member-card {
                flex-direction: column;
                text-align: center;
            }
            
            .team-member-name {
                white-space: normal;
            }
        }


        /* Loading Animation */
        .team-loading {
            text-align: center;
            padding: 3rem;
            color: #888;
        }

        .loading-spinner {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(96, 165, 250, 0.2);
            border-top-color: #60a5fa;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-top: 1rem;
        }

        /* Fade in animation for cards */
        .team-member-card {
            animation: fadeInUp 0.5s ease-out forwards;
            opacity: 0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .team-member-card:nth-child(1) { animation-delay: 0.05s; }
        .team-member-card:nth-child(2) { animation-delay: 0.1s; }
        .team-member-card:nth-child(3) { animation-delay: 0.15s; }
        .team-member-card:nth-child(4) { animation-delay: 0.2s; }
        .team-member-card:nth-child(5) { animation-delay: 0.25s; }
        .team-member-card:nth-child(6) { animation-delay: 0.3s; }

        /* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           NEW TEAM CARDS - Similar to uploaded image style
           ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
        
        .team-card {
            position: relative;
            background: var(--team-card-bg, rgba(30, 30, 30, 0.6));
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid var(--team-card-border, rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(10px);
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
        }

        .team-card:hover {
            transform: translateY(-10px);
            border-color: var(--team-card-hover-border, rgba(96, 165, 250, 0.4));
            box-shadow: 0 20px 40px var(--team-card-hover-shadow, rgba(96, 165, 250, 0.2));
        }

        .team-card[data-role="owner"]:hover {
            border-color: var(--owner-card-hover-border, rgba(255, 215, 0, 0.5));
            box-shadow: 0 20px 40px var(--owner-card-hover-shadow, rgba(255, 215, 0, 0.3));
        }

        .team-card[data-role="senior"]:hover {
            border-color: var(--senior-card-hover-border, rgba(168, 85, 247, 0.5));
            box-shadow: 0 20px 40px var(--senior-card-hover-shadow, rgba(168, 85, 247, 0.3));
        }

        .team-card:nth-child(1) { animation-delay: 0.1s; }
        .team-card:nth-child(2) { animation-delay: 0.2s; }
        .team-card:nth-child(3) { animation-delay: 0.3s; }
        .team-card:nth-child(4) { animation-delay: 0.4s; }
        .team-card:nth-child(5) { animation-delay: 0.5s; }

        .team-card-bg {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 150px;
            background: var(--team-card-gradient, linear-gradient(135deg, rgba(96, 165, 250, 0.15), rgba(59, 130, 246, 0.1)));
            transition: all 0.4s ease;
        }

        .team-card[data-role="owner"] .team-card-bg {
            background: var(--owner-card-gradient, linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 193, 7, 0.1)));
        }

        .team-card[data-role="senior"] .team-card-bg {
            background: var(--senior-card-gradient, linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(126, 58, 242, 0.1)));
        }

        .team-card:hover .team-card-bg {
            height: 180px;
        }

        .team-card-content {
            position: relative;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 1.5rem;
        }

        .team-avatar-wrapper {
            position: relative;
            width: 140px;
            height: 140px;
        }

        .team-avatar {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 4px solid var(--team-avatar-border, rgba(96, 165, 250, 0.3));
            object-fit: cover;
            transition: all 0.3s ease;
            background: rgba(40, 40, 40, 0.8);
        }

        .team-card[data-role="owner"] .team-avatar {
            border-color: var(--owner-avatar-border, rgba(255, 215, 0, 0.5));
            box-shadow: 0 0 30px var(--owner-avatar-glow, rgba(255, 215, 0, 0.3));
        }

        .team-card[data-role="senior"] .team-avatar {
            border-color: var(--senior-avatar-border, rgba(168, 85, 247, 0.5));
            box-shadow: 0 0 30px var(--senior-avatar-glow, rgba(168, 85, 247, 0.3));
        }

        .team-card:hover .team-avatar {
            transform: scale(1.05);
            border-width: 5px;
        }

        .team-avatar-placeholder {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 4px solid rgba(96, 165, 250, 0.3);
        }

        .team-card[data-role="owner"] .team-avatar-placeholder {
            background: linear-gradient(135deg, #ffd700, #ffc107);
            border-color: rgba(255, 215, 0, 0.5);
        }

        .team-card[data-role="senior"] .team-avatar-placeholder {
            background: linear-gradient(135deg, #a855f7, #7e3af2);
            border-color: rgba(168, 85, 247, 0.5);
        }

        .team-role-badge {
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            backdrop-filter: blur(10px);
            border: 2px solid;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .team-role-badge.owner {
            background: var(--owner-badge-bg, linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 193, 7, 0.15)));
            border-color: var(--owner-badge-border, rgba(255, 215, 0, 0.5));
            color: var(--owner-badge-color, #ffd700);
            box-shadow: 0 4px 15px var(--owner-badge-shadow, rgba(255, 215, 0, 0.3));
        }

        .team-role-badge.senior {
            background: var(--senior-badge-bg, linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(126, 58, 242, 0.15)));
            border-color: var(--senior-badge-border, rgba(168, 85, 247, 0.5));
            color: var(--senior-badge-color, #a855f7);
            box-shadow: 0 4px 15px var(--senior-badge-shadow, rgba(168, 85, 247, 0.3));
        }

        .team-role-badge.team {
            background: var(--team-badge-bg, linear-gradient(135deg, rgba(96, 165, 250, 0.2), rgba(59, 130, 246, 0.15)));
            border-color: var(--team-badge-border, rgba(96, 165, 250, 0.5));
            color: var(--team-badge-color, #60a5fa);
            box-shadow: 0 4px 15px var(--team-badge-shadow, rgba(96, 165, 250, 0.3));
        }

        .team-card:hover .team-role-badge {
            transform: translateX(-50%) translateY(-3px);
        }

        .team-info {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            padding-top: 1rem;
        }

        .team-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin: 0;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .team-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--team-title-color, #60a5fa);
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .team-card[data-role="owner"] .team-title {
            color: var(--owner-title-color, #ffd700);
        }

        .team-card[data-role="senior"] .team-title {
            color: var(--senior-title-color, #a855f7);
        }

        .team-description {
            font-size: 0.95rem;
            line-height: 1.6;
            color: var(--text-secondary);
            margin: 0;
            max-width: 100%;
        }

        @media (max-width: 768px) {
            .team-card-content {
                padding: 1.5rem;
            }

            .team-avatar-wrapper {
                width: 120px;
                height: 120px;
            }

            .team-name {
                font-size: 1.3rem;
            }

            .team-title {
                font-size: 0.85rem;
            }

            .team-description {
                font-size: 0.9rem;
            }
        }

        /* Responsive Team Grid - Mobile */
        @media (max-width: 1024px) {
            .features-section > div[style*="grid-template-columns: repeat(3"] {
                grid-template-columns: repeat(2, minmax(280px, 350px)) !important;
            }
        }

        @media (max-width: 768px) {
            .features-section > div[style*="grid-template-columns"] {
                grid-template-columns: 1fr !important;
                max-width: 400px !important;
            }
        }

</style>
</head>

<body>
    <!-- üõ°Ô∏è INITIAL LOADER - –ó–∞—â–∏—Ç–∞ –æ—Ç —á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ -->
    <div id="initialLoader">
        <div class="loader-content">
            <div class="loader-spinner"></div>
            <div class="loader-text">–ó–∞–≥—Ä—É–∑–∫–∞ BadgRules...</div>
            <div class="loader-subtext">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</div>
            <div class="loader-error" id="loaderError">
                <div class="error-title">‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>
                <div class="error-message">
                    –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:<br>
                    ‚Ä¢ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ VPN)<br>
                    ‚Ä¢ –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ Discord<br>
                    ‚Ä¢ –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
                </div>
                <button class="retry-button" onclick="location.reload()">–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É</button>
            </div>
        </div>
    </div>

    <!-- VERTICAL SCROLL INDICATOR - LEFT SIDE -->
    <div class="vertical-scroll-indicator">
        <div class="scroll-dot active" data-section="chat"></div>
        <div class="scroll-dot" data-section="complaints"></div>
        <div class="scroll-dot" data-section="history"></div>
        <div class="scroll-dot" data-section="news"></div>
        <div class="scroll-dot" data-section="team"></div>
        <div class="scroll-dot" data-section="social"></div>
    </div>

    <!-- üåä GLOBAL GRADIENT MESH BACKGROUND -->
    <div class="global-gradient-mesh">
        <div class="global-blue-ambient"></div>
        <div class="global-mesh-gradient global-gradient-1"></div>
        <div class="global-mesh-gradient global-gradient-2"></div>
        <div class="global-mesh-gradient global-gradient-3"></div>
        <div class="global-mesh-gradient global-gradient-4"></div>
    </div>

    <!-- üé≠ –ù–û–í–´–ô –§–û–ù - –ö–†–£–ì –° –ü–ï–†–°–û–ù–ê–ñ–ï–ú -->
    <div class="hero-background-circle"></div>
    <canvas id="lightningCanvas" class="lightning-canvas"></canvas>
    <div class="hero-character-badger">
        <img src="images/logo1.png" alt="BadgRules Character">
    </div>

    <!-- ‚ú® GLOBAL PARTICLES CANVAS -->
    <canvas id="globalParticlesCanvas" class="global-particles-canvas"></canvas>

    <!-- üì¶ MAIN CONTENT WRAPPER -->
    <div class="main-content">

    <div class="background-grid"></div>

    <!-- Top Left Logo with Dropdown -->
    <div class="top-logo" id="topLogo">
        <!-- Logo with neon effect -->
        <div class="logo-main">
            <img src="images/logo.png" alt="Logo" class="logo-btn-img">
            <span class="logo-btn-text">BadgRules</span>
        </div>

        <!-- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
        <div class="logo-dropdown show" id="logoDropdown">
            <div class="logo-menu-item active" data-section="chat" onclick="selectLogoMenu('chat')">
                <span>–ß–∞—Ç —Å AI</span>
            </div>
            <div class="logo-menu-item" data-section="complaints" onclick="selectLogoMenu('complaints')">
                <span>–ê–Ω–∞–ª–∏–∑ –æ—Ç–∫–∞—Ç–∞</span>
            </div>
            <div class="logo-menu-item" data-section="history" onclick="selectLogoMenu('history')">
                <span>–ò—Å—Ç–æ—Ä–∏—è</span>
            </div>
            <div class="logo-menu-item" data-section="news" onclick="selectLogoMenu('news')">
                <span>–ù–æ–≤–æ—Å—Ç–∏</span>
            </div>
            <div class="logo-menu-item" data-section="team" onclick="selectLogoMenu('team')">
                <span>–ö–æ–º–∞–Ω–¥–∞</span>
            </div>
            <div class="logo-menu-item" data-section="social" onclick="selectLogoMenu('social')">
                <span>–°–æ—Ü. —Å–µ—Ç–∏</span>
            </div>
        </div>

        <!-- User Profile Badge - –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å–ø—Ä–∞–≤–∞ -->
        <div class="user-profile-badge hidden" id="userProfileBadge" onclick="toggleProfileMenu(event)" title="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">
            <div class="sub-badge-wrapper">
                <div class="user-avatar" id="userAvatar">G</div>
                <div class="sub-badge-mini free" id="subBadgeMini">üíé</div>
            </div>
            <div class="user-info">
                <div class="user-name" id="userName">–ì–æ—Å—Ç—å</div>
                <div class="user-status" id="userServerBadge">
                    <span class="user-server-badge" id="serverBadge">–°–µ—Ä–≤–µ—Ä</span>
                    <span class="subscription-status-badge free" id="subscriptionStatusBadge">
                        <span class="subscription-status-icon">‚ö°</span>
                        <span id="subscriptionStatusText">FREE</span>
                    </span>
                </div>
            </div>
            <svg class="dropdown-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="6 9 12 15 18 9"></polyline>
            </svg>
        </div>
    </div>

    <!-- Login Screen -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-container">
            <div class="login-logo">
                <img src="images/logo.png" alt="BadgRules Logo" class="login-logo-img">
                <h2>BADGRULES</h2>
            </div>

            <!-- Step Indicator -->
            <div class="step-indicator">
                <div class="step-dot active" id="stepDot1"></div>
                <div class="step-dot" id="stepDot2"></div>
                <div class="step-dot" id="stepDot3"></div>
            </div>

            <!-- Step 1: Project Selection -->
            <div class="login-step active" id="step1">
                <div class="login-content">
                    <h3>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç</h3>
                    <p class="login-subtitle">–ù–∞ –∫–∞–∫–æ–º –ø—Ä–æ–µ–∫—Ç–µ –≤—ã –∏–≥—Ä–∞–µ—Ç–µ?</p>

                    <div class="project-selector">
                        <div class="project-card gta5rp" onclick="selectProject('gta5rp')" data-project="gta5rp">
                            <div class="project-check">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </div>
                            <div class="project-icon"></div>
                            <div class="project-name">GTA 5 RP</div>
                            <div class="project-desc">22 —Å–µ—Ä–≤–µ—Ä–∞</div>
                            <a href="https://forum.gta5rp.com" target="_blank" class="project-forum-link"
                                onclick="event.stopPropagation()">forum.gta5rp.com</a>
                        </div>

                        <div class="project-card majestic" onclick="selectProject('majestic')" data-project="majestic">
                            <div class="project-check">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <polyline points="20 6 9 17 4 12"></polyline>
                                </svg>
                            </div>
                            <div class="project-icon"></div>
                            <div class="project-name">Majestic RP</div>
                            <div class="project-desc">16 —Å–µ—Ä–≤–µ—Ä–æ–≤</div>
                            <a href="https://forum.majestic-rp.ru" target="_blank" class="project-forum-link"
                                onclick="event.stopPropagation()">forum.majestic-rp.ru</a>
                        </div>
                    </div>

                    <button class="nav-btn next" id="nextStep1" disabled onclick="goToStep(2)">
                        <span>–î–∞–ª–µ–µ</span>
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="9 18 15 12 9 6"></polyline>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Step 2: Server Selection -->
            <div class="login-step" id="step2">
                <div class="login-content">
                    <h3 id="serverStepTitle">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä</h3>
                    <p class="login-subtitle" id="serverStepSubtitle">–ù–∞ –∫–∞–∫–æ–º —Å–µ—Ä–≤–µ—Ä–µ –≤—ã –∏–≥—Ä–∞–µ—Ç–µ?</p>

                    <div class="server-selector" id="serverSelector">
                        <div class="server-grid" id="serverGrid">
                            <!-- Servers will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="step-navigation">
                        <button class="nav-btn back" onclick="goToStep(1)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span>–ù–∞–∑–∞–¥</span>
                        </button>
                        <button class="nav-btn next" id="nextStep2" disabled onclick="goToStep(3)">
                            <span>–î–∞–ª–µ–µ</span>
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="9 18 15 12 9 6"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 3: Login -->
            <div class="login-step" id="step3">
                <div class="login-content">
                    <h3>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
                    <p class="login-subtitle">–í–æ–π–¥–∏—Ç–µ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ—É–Ω–∫—Ü–∏—è–º</p>

                    <!-- Selected Project/Server Info -->
                    <div class="selected-info" id="selectedInfo">
                        <div class="selected-info-icon" id="selectedIcon">üéÆ</div>
                        <div class="selected-info-text">
                            <div class="selected-info-project" id="selectedProjectText">GTA 5 RP</div>
                            <div class="selected-info-server" id="selectedServerText">Downtown</div>
                        </div>
                        <button class="change-selection" onclick="goToStep(1)">–ò–∑–º–µ–Ω–∏—Ç—å</button>
                    </div>

                    <button class="discord-login-button" onclick="loginWithDiscord()">
                        <svg class="discord-icon" viewBox="0 0 71 55" fill="none">
                            <path
                                d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"
                                fill="currentColor" />
                        </svg>
                        –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Discord
                    </button>

                    <div class="login-divider">
                        <span>–∏–ª–∏</span>
                    </div>

                    <button class="guest-button" onclick="continueAsGuest()">
                        –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∫–∞–∫ –≥–æ—Å—Ç—å
                    </button>

                    <div class="step-navigation" style="margin-top: 1rem;">
                        <button class="nav-btn back" onclick="goToStep(2)"
                            style="flex: 0 0 auto; padding: 0.75rem 1.25rem;">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="15 18 9 12 15 6"></polyline>
                            </svg>
                            <span>–ù–∞–∑–∞–¥</span>
                        </button>
                    </div>

                    <p class="login-footer">
                        –í—Ö–æ–¥—è –≤ —Å–∏—Å—Ç–µ–º—É, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å <a href="#">—É—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a> –∏ <a
                            href="#">–ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <header>
        <div class="logo-container">
            <!-- –ó–ê–ú–ï–ù–ò–¢–ï –ü–£–¢–¨ –ù–ò–ñ–ï –ù–ê –°–í–û–ô –õ–û–ì–û–¢–ò–ü -->
            <img src="images/logo.png" alt="BadgRules Logo" class="logo-img">
            <h1>BADGRULES</h1>
        </div>
        <p class="subtitle">BudgeRulse ‚Äî —Ç–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ —Å—Ñ–µ—Ä–µ –ø—Ä–∞–≤–∏–ª —Å–µ—Ä–≤–µ—Ä–æ–≤ GTA5.</p>
    </header>

    <!-- Profile Dropdown Menu -->
    <div class="profile-dropdown hidden" id="profileDropdown">
        <div class="dropdown-server-info">
            <div class="dropdown-server-label">–¢–µ–∫—É—â–∏–π —Å–µ—Ä–≤–µ—Ä</div>
            <div class="dropdown-server-value" id="dropdownServerValue">
                <span id="dropdownServerIcon">üéÆ</span>
                <span id="dropdownServerName">Downtown</span>
            </div>
        </div>
        <button class="dropdown-item" onclick="showSection('profile'); closeProfileMenu()">
            <svg class="dropdown-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
            </svg>
            <span>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</span>
        </button>
        <button class="dropdown-item" onclick="showSubscriptionSection(); closeProfileMenu()">
            <svg class="dropdown-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="8" r="7"></circle>
                <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
            </svg>
            <span>üíé –ü–æ–¥–ø–∏—Å–∫–∞</span>
        </button>
        <button class="dropdown-item" onclick="changeServer(); closeProfileMenu()">
            <svg class="dropdown-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="3"></circle>
                <path
                    d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                </path>
            </svg>
            <span>–°–º–µ–Ω–∏—Ç—å —Å–µ—Ä–≤–µ—Ä</span>
        </button>
        <button class="dropdown-item" onclick="addBotForFamily(); closeProfileMenu()">
            <svg class="dropdown-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                <circle cx="9" cy="7" r="4" />
                <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>
            <span>–ë–æ—Ç –ø—Ä–æ–µ–∫—Ç–∞</span>
        </button>
        <div class="dropdown-divider"></div>
        <button class="dropdown-item logout-item" onclick="logout(); closeProfileMenu()">
            <svg class="dropdown-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                <polyline points="16 17 21 12 16 7"></polyline>
                <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
            <span>–í—ã–π—Ç–∏</span>
        </button>
    </div>

    <!-- üíé REVOLUTIONARY SUBSCRIPTION SECTION -->
    <div class="subscription-section hidden" id="subscriptionSection">
        <!-- Particles Background -->
        <canvas id="particlesCanvas" class="particles-canvas"></canvas>
        
        <!-- Gradient Mesh Background -->
        <div class="gradient-mesh">
            <div class="mesh-gradient gradient-1"></div>
            <div class="mesh-gradient gradient-2"></div>
            <div class="mesh-gradient gradient-3"></div>
            <div class="mesh-gradient gradient-4"></div>
        </div>

        <!-- Close Button -->
        <button class="sub-close-btn" onclick="closeSubscriptionSection()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>

        <div class="sub-container">
            <!-- Header -->
            <div class="sub-header">
                <div class="sub-header-badge">
                    <span class="badge-dot"></span>
                    <span>PREMIUM ACCESS</span>
                </div>
                <h1 class="sub-title">
                    <span class="title-word" style="--index: 0">–†–∞–∑</span><span class="title-word" style="--index: 1">–±–ª–æ</span><span class="title-word" style="--index: 2">–∫–∏</span><span class="title-word" style="--index: 3">—Ä—É–π</span>
                    <br>
                    <span class="title-highlight">—Å–≤–æ–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª</span>
                </h1>
                <p class="sub-subtitle">–í—ã–±–µ—Ä–∏—Ç–µ –ø–ª–∞–Ω –∏ –ø–æ–ª—É—á–∏—Ç–µ –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–µ–º–∏—É–º —Ñ—É–Ω–∫—Ü–∏—è–º</p>
                
                <!-- Status -->
                <div class="sub-status" id="subStatusCard">
                    <div class="status-glow"></div>
                    <div class="status-content">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                        </svg>
                        <div class="status-text">
                            <span class="status-label">–°—Ç–∞—Ç—É—Å</span>
                            <span class="status-value" id="statusValueText">FREE</span>
                        </div>
                        <div class="status-badge" id="statusBadgeIcon">‚ö°</div>
                    </div>
                </div>
            </div>

            <!-- Cards -->
            <div class="sub-cards-grid">
                
                <!-- 1 –º–µ—Å—è—Ü - 200‚ÇΩ -->
                <div class="sub-pricingcard compact" data-plan="1month">
                    <div class="card-glow"></div>
                    <div class="card-shine"></div>
                    
                    <div class="card-header">
                        <h3 class="card-name">1 –º–µ—Å—è—Ü</h3>
                        <p class="card-desc">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ</p>
                    </div>

                    <div class="card-price">
                        <div class="price-wrapper">
                            <span class="price-currency">‚ÇΩ</span>
                            <span class="price-amount">200</span>
                        </div>
                        <div class="price-subtext">–°–∫–∏–¥–∫–∞: 0%</div>
                    </div>

                    <button class="card-btn" onclick="openPaymentModal('1month')">
                        <span class="btn-text">–ù–∞—á–∞—Ç—å</span>
                        <span class="btn-icon">‚Üí</span>
                    </button>
                </div>

                <!-- 3 –º–µ—Å—è—Ü–∞ - 450‚ÇΩ -->
                <div class="sub-pricingcard compact" data-plan="3month">
                    <div class="card-glow"></div>
                    <div class="card-shine"></div>
                    <div class="discount-badge">-25%</div>
                    
                    <div class="card-header">
                        <h3 class="card-name">3 –º–µ—Å—è—Ü–∞</h3>
                        <p class="card-desc">–ü–æ–ø—É–ª—è—Ä–Ω—ã–π</p>
                    </div>

                    <div class="card-price">
                        <div class="price-wrapper">
                            <span class="price-currency">‚ÇΩ</span>
                            <span class="price-amount">450</span>
                        </div>
                        <div class="price-subtext">‚âà 150‚ÇΩ/–º–µ—Å</div>
                    </div>

                    <button class="card-btn" onclick="openPaymentModal('3month')">
                        <span class="btn-text">–ù–∞—á–∞—Ç—å</span>
                        <span class="btn-icon">‚Üí</span>
                    </button>
                </div>

                <!-- 6 –º–µ—Å—è—Ü–µ–≤ - 800‚ÇΩ -->
                <div class="sub-pricingcard compact featured" data-plan="6month">
                    <div class="card-glow"></div>
                    <div class="card-shine"></div>
                    <div class="featured-badge">üî• –í–´–ì–û–î–ù–û</div>
                    <div class="discount-badge">-33%</div>
                    
                    <div class="card-header">
                        <h3 class="card-name">6 –º–µ—Å—è—Ü–µ–≤</h3>
                        <p class="card-desc">–õ—É—á—à–∏–π –≤—ã–±–æ—Ä</p>
                    </div>

                    <div class="card-price">
                        <div class="price-wrapper">
                            <span class="price-currency">‚ÇΩ</span>
                            <span class="price-amount">800</span>
                        </div>
                        <div class="price-subtext">‚âà 133‚ÇΩ/–º–µ—Å</div>
                    </div>

                    <button class="card-btn" onclick="openPaymentModal('6month')">
                        <span class="btn-text">–ù–∞—á–∞—Ç—å</span>
                        <span class="btn-icon">‚Üí</span>
                    </button>
                </div>

                <!-- –ì–æ–¥–æ–≤–∞—è - 1500‚ÇΩ -->
                <div class="sub-pricingcard compact" data-plan="1year">
                    <div class="card-glow"></div>
                    <div class="card-shine"></div>
                    <div class="discount-badge">-37.5%</div>
                    
                    <div class="card-header">
                        <h3 class="card-name">–ì–æ–¥–æ–≤–∞—è</h3>
                        <p class="card-desc">–ú–∞–∫—Å–∏–º—É–º –≤—ã–≥–æ–¥—ã</p>
                    </div>

                    <div class="card-price">
                        <div class="price-wrapper">
                            <span class="price-currency">‚ÇΩ</span>
                            <span class="price-amount">1500</span>
                        </div>
                        <div class="price-subtext">‚âà 125‚ÇΩ/–º–µ—Å</div>
                    </div>

                    <button class="card-btn" onclick="openPaymentModal('1year')">
                        <span class="btn-text">–ù–∞—á–∞—Ç—å</span>
                        <span class="btn-icon">‚Üí</span>
                    </button>
                </div>

                <!-- –ë–µ—Å—Å—Ä–æ—á–Ω–∞—è - 2500‚ÇΩ -->
                <div class="sub-pricingcard compact premium" data-plan="lifetime">
                    <div class="card-glow"></div>
                    <div class="card-shine"></div>
                    <div class="featured-badge premium-badge">‚ôæÔ∏è LIFETIME</div>
                    
                    <div class="card-header">
                        <h3 class="card-name">–ë–µ—Å—Å—Ä–æ—á–Ω–∞—è</h3>
                        <p class="card-desc">–ù–∞–≤—Å–µ–≥–¥–∞</p>
                    </div>

                    <div class="card-price">
                        <div class="price-wrapper">
                            <span class="price-currency">‚ÇΩ</span>
                            <span class="price-amount">2500</span>
                        </div>
                        <div class="price-subtext">–û–¥–∏–Ω –ø–ª–∞—Ç–µ–∂</div>
                    </div>

                    <button class="card-btn premium" onclick="openPaymentModal('lifetime')">
                        <span class="btn-text">–ö—É–ø–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞</span>
                        <span class="btn-icon">‚ôæÔ∏è</span>
                    </button>
                </div>

            </div>
            <!-- Comparison Table -->
            <div class="comparison-section">
                <h3 class="comparison-title">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤</h3>
                <div class="comparison-table">
                    <div class="comparison-row header">
                        <div class="comparison-cell">–§—É–Ω–∫—Ü–∏–∏</div>
                        <div class="comparison-cell">–ë–∞–∑–æ–≤—ã–π</div>
                        <div class="comparison-cell highlight">–ü—Ä–æ</div>
                        <div class="comparison-cell">–í–µ—á–Ω—ã–π</div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell feature">AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</div>
                        <div class="comparison-cell">‚úì</div>
                        <div class="comparison-cell highlight">‚úì</div>
                        <div class="comparison-cell">‚úì</div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell feature">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</div>
                        <div class="comparison-cell">‚úì</div>
                        <div class="comparison-cell highlight">‚úì</div>
                        <div class="comparison-cell">‚úì</div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell feature">Premium –∑–Ω–∞—á–æ–∫</div>
                        <div class="comparison-cell">‚Äî</div>
                        <div class="comparison-cell highlight">‚úì</div>
                        <div class="comparison-cell">‚úì</div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell feature">–†–∞–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø</div>
                        <div class="comparison-cell">‚Äî</div>
                        <div class="comparison-cell highlight">‚úì</div>
                        <div class="comparison-cell">‚úì</div>
                    </div>
                    <div class="comparison-row">
                        <div class="comparison-cell feature">Legendary —Å—Ç–∞—Ç—É—Å</div>
                        <div class="comparison-cell">‚Äî</div>
                        <div class="comparison-cell highlight">‚Äî</div>
                        <div class="comparison-cell">‚úì</div>
                    </div>
                </div>
            </div>

            <!-- Trust Section -->
            <div class="trust-section">
                <div class="trust-item">
                    <div class="trust-icon">üîí</div>
                    <div class="trust-text">
                        <div class="trust-title">–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏</div>
                        <div class="trust-desc">256-bit SSL —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ</div>
                    </div>
                </div>
                <div class="trust-item">
                    <div class="trust-icon">üí≥</div>
                    <div class="trust-text">
                        <div class="trust-title">–í—Å–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã</div>
                        <div class="trust-desc">–ö–∞—Ä—Ç—ã, —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∏</div>
                    </div>
                </div>
                <div class="trust-item">
                    <div class="trust-icon">‚ö°</div>
                    <div class="trust-text">
                        <div class="trust-title">–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è</div>
                        <div class="trust-desc">–î–æ—Å—Ç—É–ø —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã</div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Bot Settings Modal -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-content">
            <div class="settings-header">
                <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Discord –±–æ—Ç–∞</h2>
                <button class="close-modal" onclick="closeBotSettings()">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>

            <div class="setting-group">
                <div class="setting-title">üõ°Ô∏è –ê–≤—Ç–æ-–º–æ–¥–µ—Ä–∞—Ü–∏—è</div>
                <div class="setting-description">
                    –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π, –Ω–∞—Ä—É—à–∞—é—â–∏—Ö –ø—Ä–∞–≤–∏–ª–∞ —Å–µ—Ä–≤–µ—Ä–∞
                </div>
                <div class="setting-control">
                    <div class="toggle-switch active" onclick="toggleSetting(this, 'autoMod')">
                        <div class="toggle-slider"></div>
                    </div>
                    <span>–í–∫–ª—é—á–µ–Ω–æ</span>
                </div>
            </div>

            <div class="setting-group">
                <div class="setting-title">üëã –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è</div>
                <div class="setting-description">
                    –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ–≤—ã–º —É—á–∞—Å—Ç–Ω–∏–∫–∞–º —Å–µ—Ä–≤–µ—Ä–∞
                </div>
                <div class="setting-control">
                    <div class="toggle-switch active" onclick="toggleSetting(this, 'welcomeMsg')">
                        <div class="toggle-slider"></div>
                    </div>
                    <span>–í–∫–ª—é—á–µ–Ω–æ</span>
                </div>
                <div class="setting-control">
                    <input type="text" class="input-field" id="welcomeChannel" placeholder="–ö–∞–Ω–∞–ª (#general)"
                        value="#general">
                </div>
            </div>

            <div class="setting-group">
                <div class="setting-title">ü§ñ AI –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</div>
                <div class="setting-description">
                    –ë–æ—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–≤–µ—á–∞—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –ø—Ä–∞–≤–∏–ª–∞—Ö
                </div>
                <div class="setting-control">
                    <div class="toggle-switch active" onclick="toggleSetting(this, 'aiResponses')">
                        <div class="toggle-slider"></div>
                    </div>
                    <span>–í–∫–ª—é—á–µ–Ω–æ</span>
                </div>
            </div>

            <div class="setting-group">
                <div class="setting-title">üìù –ö–∞–Ω–∞–ª –¥–ª—è –∂–∞–ª–æ–±</div>
                <div class="setting-description">
                    –£–∫–∞–∂–∏—Ç–µ –∫–∞–Ω–∞–ª, –∫—É–¥–∞ –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –∂–∞–ª–æ–±—ã
                </div>
                <div class="setting-control">
                    <input type="text" class="input-field" id="complaintChannel" placeholder="#–∂–∞–ª–æ–±—ã" value="#–∂–∞–ª–æ–±—ã">
                </div>
            </div>

            <div class="setting-group">
                <div class="setting-title">üåê –Ø–∑—ã–∫ –±–æ—Ç–∞</div>
                <div class="setting-description">
                    –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–æ—Ç–∞
                </div>
                <div class="setting-control">
                    <select class="select-input" id="botLanguage">
                        <option value="ru" selected>–†—É—Å—Å–∫–∏–π üá∑üá∫</option>
                        <option value="en">English üá¨üáß</option>
                        <option value="ua">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ üá∫üá¶</option>
                    </select>
                </div>
            </div>

            <div class="setting-group">
                <div class="setting-title">üí¨ –ü—Ä–µ—Ñ–∏–∫—Å –∫–æ–º–∞–Ω–¥</div>
                <div class="setting-description">
                    –°–∏–º–≤–æ–ª –¥–ª—è –≤—ã–∑–æ–≤–∞ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: !help, /help)
                </div>
                <div class="setting-control">
                    <input type="text" class="input-field" id="botPrefix" placeholder="!" value="!" maxlength="3">
                </div>
            </div>

            <div class="setting-group">
                <div class="setting-title">üìä –ö–∞–Ω–∞–ª –ª–æ–≥–æ–≤</div>
                <div class="setting-description">
                    –ö–∞–Ω–∞–ª –¥–ª—è –∑–∞–ø–∏—Å–∏ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –±–æ—Ç–∞
                </div>
                <div class="setting-control">
                    <input type="text" class="input-field" id="logChannel" placeholder="#bot-logs" value="#bot-logs">
                </div>
            </div>

            <div class="setting-group">
                <div class="setting-title">üëë –†–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</div>
                <div class="setting-description">
                    –†–æ–ª—å —Å –ø–æ–ª–Ω—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º –±–æ—Ç–∞
                </div>
                <div class="setting-control">
                    <input type="text" class="input-field" id="adminRole" placeholder="@–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä"
                        value="@–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä">
                </div>
            </div>

            <button class="save-settings-btn" onclick="saveSettings()">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
            </button>

            <div class="settings-status" id="settingsStatus"></div>
        </div>
    </div>

    <!-- Navigation Menu -->
    <nav class="main-nav">
        <div class="nav-container">
            <a href="#" class="nav-button active" onclick="showSection('chat'); return false;">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                <span>–ß–∞—Ç —Å AI</span>
            </a>
            <a href="#" class="nav-button" onclick="showSection('complaints'); return false;">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                    </path>
                    <line x1="12" y1="9" x2="12" y2="13"></line>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
                <span>–ñ–∞–ª–æ–±—ã</span>
            </a>
            <a href="#" class="nav-button" onclick="showSection('rules'); return false;">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                </svg>
                <span>–ë–∞–∑–∞ –ø—Ä–∞–≤–∏–ª</span>
            </a>
            <a href="#" class="nav-button" onclick="showSection('history'); return false;">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span>–ò—Å—Ç–æ—Ä–∏—è</span>
            </a>
        </div>
    </nav>

    <div class="container">
        <!-- HOME / LANDING Section -->
        <div class="section active" id="homeSection">
            <div class="landing-section">
                <!-- Hero -->
                <div class="hero-section">
                    <div class="hero-logo">
                        <img src="images/logo.png" alt="BadgRules">
                    </div>

                    <div class="hero-badge">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                        </svg>
                        <span>Powered by AI</span>
                    </div>

                    <h1 class="hero-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å<br>–≤ BadgRules!</h1>

                    <p class="hero-subtitle">
                        –£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤ GTA 5 RP. –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º,
                        –∞–Ω–∞–ª–∏–∑ —Å–∏—Ç—É–∞—Ü–∏–π –∏ –ø–æ–º–æ—â—å —Å –æ—Ç–∫–∞—Ç–∞–º–∏ ‚Äî –≤—Å—ë –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
                    </p>

                    <div class="hero-cta">
                        <button class="cta-primary" onclick="selectLogoMenu('chat')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                            </svg>
                            –ù–∞—á–∞—Ç—å —á–∞—Ç —Å AI
                        </button>
                        <button class="cta-secondary" onclick="selectLogoMenu('complaints')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="23 7 16 12 23 17 23 7"></polygon>
                                <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                            </svg>
                            –ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ
                        </button>
                    </div>
                </div>

                <!-- Features -->
                <div class="features-section scroll-reveal">
                    <p class="section-label">–°–º–æ—Ç—Ä–∏, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å</p>
                    <h2 class="section-title">–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>

                    <div class="features-grid">
                        <div class="feature-card scroll-reveal" data-delay="1">
                            <div class="feature-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                </svg>
                            </div>
                            <h3 class="feature-title">AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</h3>
                            <p class="feature-desc">–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º GTA 5 RP. –ó–Ω–∞–µ—Ç –≤—Å–µ
                                –Ω—é–∞–Ω—Å—ã Metagaming, PowerGaming, FailRP –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.</p>
                        </div>

                        <div class="feature-card scroll-reveal" data-delay="2">
                            <div class="feature-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polygon points="23 7 16 12 23 17 23 7"></polygon>
                                    <rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>
                                </svg>
                            </div>
                            <h3 class="feature-title">–ê–Ω–∞–ª–∏–∑ –≤–∏–¥–µ–æ</h3>
                            <p class="feature-desc">–ó–∞–≥—Ä—É–∑–∏ –≤–∏–¥–µ–æ –Ω–∞—Ä—É—à–µ–Ω–∏—è ‚Äî AI –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—é –∏ –ø–æ–º–æ–∂–µ—Ç
                                —Å–æ—Å—Ç–∞–≤–∏—Ç—å –≥—Ä–∞–º–æ—Ç–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–∫–∞—Ç.</p>
                        </div>

                        <div class="feature-card scroll-reveal" data-delay="3">
                            <div class="feature-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                    <polyline points="14 2 14 8 20 8"></polyline>
                                </svg>
                            </div>
                            <h3 class="feature-title">–ë–∞–∑–∞ –ø—Ä–∞–≤–∏–ª</h3>
                            <p class="feature-desc">–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤:
                                Majestic RP, Arizona RP, Diamond RP –∏ –¥—Ä—É–≥–∏—Ö.</p>
                        </div>

                        <div class="feature-card scroll-reveal" data-delay="4">
                            <div class="feature-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                            </div>
                            <h3 class="feature-title">–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</h3>
                            <p class="feature-desc">–í—Å–µ —Ç–≤–æ–∏ –¥–∏–∞–ª–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è. –õ–µ–≥–∫–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –ø—Ä–æ—à–ª—ã–º –≤–æ–ø—Ä–æ—Å–∞–º –∏
                                –æ—Ç–≤–µ—Ç–∞–º –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è.</p>
                        </div>
                    </div>
                </div>

                <!-- Demo Chat - Two columns -->
                <div class="demo-section scroll-reveal">
                    <p class="section-label">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</p>
                    <h2 class="section-title">–ü—Ä–∏–º–µ—Ä—ã –¥–∏–∞–ª–æ–≥–æ–≤</h2>

                    <div
                        style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 1.5rem;">
                        <!-- Left Demo -->
                        <div class="demo-container scroll-reveal-left" data-delay="1">
                            <div class="demo-header">
                                <div class="demo-dots">
                                    <span class="demo-dot"></span>
                                    <span class="demo-dot"></span>
                                    <span class="demo-dot"></span>
                                </div>
                                <span class="demo-title">–ü—Ä–∞–≤–∏–ª–∞</span>
                            </div>

                            <div class="demo-chat">
                                <div class="demo-message user">
                                    <div class="demo-avatar">–í—ã</div>
                                    <div class="demo-bubble">
                                        <p class="demo-text">–ß—Ç–æ —Ç–∞–∫–æ–µ Metagaming?</p>
                                    </div>
                                </div>

                                <div class="demo-message bot">
                                    <div class="demo-avatar">AI</div>
                                    <div class="demo-bubble">
                                        <p class="demo-text">
                                            <strong>Metagaming (MG)</strong> ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –≤–Ω–µ
                                            –∏–≥—Ä—ã, –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤ –†–ü.
                                        </p>
                                        <p class="demo-text"
                                            style="margin-top: 0.5rem; font-size: 0.85rem; color: var(--text-secondary);">
                                            –ü—Ä–∏–º–µ—Ä: —É–∑–Ω–∞—Ç—å –≤ Discord –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ –≤—Ä–∞–≥–∞ –∏ –ø—Ä–∏–µ—Ö–∞—Ç—å —Ç—É–¥–∞.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Right Demo -->
                        <div class="demo-container scroll-reveal-right" data-delay="2">
                            <div class="demo-header">
                                <div class="demo-dots">
                                    <span class="demo-dot"></span>
                                    <span class="demo-dot"></span>
                                    <span class="demo-dot"></span>
                                </div>
                                <span class="demo-title">–û—Ç–∫–∞—Ç—ã</span>
                            </div>

                            <div class="demo-chat">
                                <div class="demo-message user">
                                    <div class="demo-avatar">–í—ã</div>
                                    <div class="demo-bubble">
                                        <p class="demo-text">–ú–µ–Ω—è —É–±–∏–ª–∏ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã, —ç—Ç–æ DM?</p>
                                    </div>
                                </div>

                                <div class="demo-message bot">
                                    <div class="demo-avatar">AI</div>
                                    <div class="demo-bubble">
                                        <p class="demo-text">
                                            –î–∞, —ç—Ç–æ <strong>Deathmatch (DM)</strong> ‚Äî —É–±–∏–π—Å—Ç–≤–æ –±–µ–∑ –†–ü –ø—Ä–∏—á–∏–Ω—ã.
                                            –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ, –∏ —è –ø–æ–º–æ–≥—É —Å–æ—Å—Ç–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É –Ω–∞ –æ—Ç–∫–∞—Ç.
                                        </p>
                                        <p class="demo-text"
                                            style="margin-top: 0.5rem; font-size: 0.85rem; color: #ffffff;">
                                            üìπ –ì–æ—Ç–æ–≤ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–µ –≤–∏–¥–µ–æ
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stats -->
                <div class="stats-section scroll-reveal">
                    <div class="stats-grid">
                        <div class="stat-card scroll-reveal" data-delay="1">
                            <div class="stat-number-big">500+</div>
                            <div class="stat-label">–ü—Ä–∞–≤–∏–ª –≤ –±–∞–∑–µ</div>
                        </div>
                        <div class="stat-card scroll-reveal" data-delay="2">
                            <div class="stat-number-big">24/7</div>
                            <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</div>
                        </div>
                        <div class="stat-card scroll-reveal" data-delay="3">
                            <div class="stat-number-big">&lt;2—Å</div>
                            <div class="stat-label">–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞</div>
                        </div>
                        <div class="stat-card scroll-reveal" data-delay="4">
                            <div class="stat-number-big">99%</div>
                            <div class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å</div>
                        </div>
                    </div>
                </div>

                <!-- CTA -->
                <div class="cta-section scroll-reveal-scale">
                    <div class="cta-box">
                        <h2 class="cta-box-title">–ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å?</h2>
                        <p class="cta-box-subtitle">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ —Ç—ã—Å—è—á–∞–º –∏–≥—Ä–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç BadgRules
                        </p>
                        <button class="cta-primary" onclick="selectLogoMenu('chat')">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
                            </svg>
                            –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
                        </button>
                    </div>
                </div>

                <!-- Social Section -->
                <div class="social-section scroll-reveal">
                    <h2 class="social-title">–ò—â–∏ –Ω–∞—Å –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö</h2>
                    <p class="social-subtitle">–¢–∞–º –º—ã –æ–±—â–∞–µ–º—Å—è –∏ –æ—Ç–≤–µ—á–∞–µ–º –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã</p>

                    <a href="https://discord.gg/rU5bwEv97n" target="_blank" class="social-card">
                        <div class="social-icon">
                            <svg viewBox="0 0 71 55" fill="currentColor">
                                <path
                                    d="M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z" />
                            </svg>
                        </div>
                        <div class="social-info">
                            <div class="social-name">Discord</div>
                            <div class="social-desc">–°–æ–æ–±—â–µ—Å—Ç–≤–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                        </div>
                    </a>
                </div>
            </div>
        </div>

        <!-- Chat Section -->
        <div class="section" id="chatSection">
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages">
                    <div class="welcome-screen" id="welcomeScreen">
                        <!-- –ó–ê–ú–ï–ù–ò–¢–ï –ü–£–¢–¨ –ù–ò–ñ–ï –ù–ê –°–í–û–ô –õ–û–ì–û–¢–ò–ü -->
                        <img src="images/logo.png" alt="BadgRules Logo" class="welcome-icon">
                        <h3 class="welcome-main-title">BudgeRulse ‚Äî —Ç–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫ –≤ —Å—Ñ–µ—Ä–µ –ø—Ä–∞–≤–∏–ª —Å–µ—Ä–≤–µ—Ä–æ–≤ GTA5.</h3>
                        <p class="welcome-subtitle-question">–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?</p>

                        <div class="quick-questions">
                            <div class="quick-question" onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ Metagaming?')">
                                <span class="quick-question-title">–ß—Ç–æ —Ç–∞–∫–æ–µ Metagaming?</span>
                            </div>
                            <div class="quick-question" onclick="askQuickQuestion('–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≥—Ä–∞–±–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤?')">
                                <span class="quick-question-title">–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≥—Ä–∞–±–∏—Ç—å –∏–≥—Ä–æ–∫–æ–≤?</span>
                            </div>
                            <div class="quick-question" onclick="askQuickQuestion('–ü—Ä–∞–≤–∏–ª–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª–∏—Ü–∏–µ–π')">
                                <span class="quick-question-title">–ü—Ä–∞–≤–∏–ª–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª–∏—Ü–∏–µ–π</span>
                            </div>
                            <div class="quick-question" onclick="askQuickQuestion('–ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ –∑–µ–ª—ë–Ω–æ–π –∑–æ–Ω–µ?')">
                                <span class="quick-question-title">–ß—Ç–æ –º–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å –≤ –∑–µ–ª—ë–Ω–æ–π –∑–æ–Ω–µ?</span>
                            </div>
                        </div>

                        <div class="recent-dialogs">
                            <div class="recent-dialogs-header" onclick="toggleRecentDialogs(this)">
                                <span>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∏</span>
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fixed Input at Bottom -->
        <div class="chat-input-container">
            <div class="chat-input-inner">
                <div class="chat-input-box">
                    <!-- Main Input Area -->
                    <div class="chat-input-main">
                        <input type="text" class="chat-input" id="chatInput" placeholder="–ó–∞–¥–∞–π —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å..."
                            onkeypress="handleKeyPress(event)">
                    </div>

                    <!-- Bottom Bar with Model & Send -->
                    <div class="chat-input-bottom">
                        <!-- AI Model Selector -->
                        <div class="ai-selector" id="aiSelector">
                            <div class="ai-selector-btn" id="aiSelectorBtn" onclick="toggleAiSelector()">
                                <span class="ai-selector-text" id="aiSelectorText">‚ö° Groq LLaMA</span>
                                <svg class="ai-selector-arrow" width="14" height="14" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </div>

                            <div class="ai-dropdown" id="aiDropdown">
                                <div class="ai-dropdown-label">–í—ã–±—Ä–∞—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç—å</div>

                                <div class="ai-option selected" data-model="groq" onclick="selectAiModel('groq')">
                                    <div class="ai-option-content">
                                        <div class="ai-option-name">‚ö° Groq LLaMA</div>
                                        <div class="ai-option-desc">–ë—ã—Å—Ç—Ä–∞—è –∏ –Ω–∞–¥—ë–∂–Ω–∞—è</div>
                                    </div>
                                    <div class="ai-option-check">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <polyline points="20 6 9 17 4 12"></polyline>
                                        </svg>
                                    </div>
                                </div>

                                <div class="ai-option" data-model="huggingface" onclick="selectAiModel('huggingface')">
                                    <div class="ai-option-content">
                                        <div class="ai-option-name">ü§ó HuggingFace</div>
                                        <div class="ai-option-desc">–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å</div>
                                    </div>
                                    <div class="ai-option-check">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <polyline points="20 6 9 17 4 12"></polyline>
                                        </svg>
                                    </div>
                                </div>

                                <div class="ai-option" data-model="gemini" onclick="selectAiModel('gemini')">
                                    <div class="ai-option-content">
                                        <div class="ai-option-name">üî∑ Gemini 2.0</div>
                                        <div class="ai-option-desc">–ú–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–º–∏—Ç</div>
                                    </div>
                                    <div class="ai-option-check">
                                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <polyline points="20 6 9 17 4 12"></polyline>
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div style="display: flex; align-items: center;">
                            <button class="send-button" id="sendButton" onclick="sendMessage()">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <line x1="22" y1="2" x2="11" y2="13"></line>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                                <span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</span>
                            </button>
                            <span class="shortcut-hint"><kbd>Enter</kbd></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Chat Section -->

        <!-- Profile Section - Static & Simple -->
        <div class="section" id="profileSection">
            <div class="profile-minimal">
                <!-- User Card -->
                <div class="profile-user-card">
                    <div class="profile-avatar-minimal" id="profileAvatarImg">G</div>
                    <div class="profile-user-info">
                        <h2 class="profile-name-minimal" id="profileUsername">–ì–æ—Å—Ç—å</h2>
                        <span class="profile-tag-minimal" id="profileDiscriminator">#0000</span>
                        <span class="profile-role-badge hidden" id="profileRoleBadge"></span>
                        <div class="profile-status-minimal">
                            <span class="status-dot online"></span>
                            –í —Å–µ—Ç–∏
                        </div>
                        <!-- Compact Subscription Badge -->
                        <div class="profile-subscription-badge" id="profileSubBadge">
                            <span class="profile-sub-icon" id="profileSubIcon">‚ö°</span>
                            <span class="profile-sub-text" id="profileSubText">FREE</span>
                        </div>
                    </div>
                </div>

                <!-- Stats Grid - Static -->
                <div class="profile-stats-grid">
                    <div class="stat-item">
                        <span class="stat-number">0</span>
                        <span class="stat-title">–í–æ–ø—Ä–æ—Å–æ–≤</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">0</span>
                        <span class="stat-title">–ñ–∞–ª–æ–±</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">12</span>
                        <span class="stat-title">–ü—Ä–∞–≤–∏–ª</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number">0—á</span>
                        <span class="stat-title">–û–Ω–ª–∞–π–Ω</span>
                    </div>
                </div>

                <!-- Info List - Static -->
                <div class="profile-info-list">
                    <div class="info-row">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span class="label">Discord ID</span>
                        <span class="value" id="profileDiscordId">‚Äî</span>
                    </div>
                    <div class="info-row">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span class="label">–†–æ–ª—å</span>
                        <span class="value" id="userRole">‚Äî</span>
                    </div>
                    <div class="info-row" id="staticRow" style="display: none;">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="9" y1="9" x2="15" y2="15"></line>
                            <line x1="15" y1="9" x2="9" y2="15"></line>
                        </svg>
                        <span class="label">–°—Ç–∞—Ç–∏–∫</span>
                        <span class="value" id="userStatic">‚Äî</span>
                    </div>
                    <div class="info-row">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="16" y1="2" x2="16" y2="6"></line>
                            <line x1="8" y1="2" x2="8" y2="6"></line>
                            <line x1="3" y1="10" x2="21" y2="10"></line>
                        </svg>
                        <span class="label">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                        <span class="value" id="profileJoinDate">‚Äî</span>
                    </div>
                    <div class="info-row">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        <span class="label">–ü–æ—Å–ª–µ–¥–Ω–∏–π –≤—Ö–æ–¥</span>
                        <span class="value">–°–µ–π—á–∞—Å</span>
                    </div>
                    <div class="info-row">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"></path>
                        </svg>
                        <span class="label">–°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–∞</span>
                        <span class="value success">–ê–∫—Ç–∏–≤–µ–Ω</span>
                    </div>
                    <div class="info-row">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                            </path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <span class="label">–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π</span>
                        <span class="value">0</span>
                    </div>
                    <div class="info-row">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polygon
                                points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2">
                            </polygon>
                        </svg>
                        <span class="label">–†–µ–π—Ç–∏–Ω–≥</span>
                        <span class="value">5.0</span>
                    </div>
                </div>

                <!-- Only Logout Button -->
                <div class="profile-quick-actions">
                    <button class="quick-action-btn danger" onclick="logout()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
                    </button>
                </div>
            </div>
        </div>

        <!-- Complaints Section (–û—Ç–∫–∞—Ç) -->
        <div class="section" id="complaintsSection">
            <div class="landing-section">
                <!-- Hero -->
                <div class="hero-section">
                    <div class="hero-badge">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <span>–°–∏—Å—Ç–µ–º–∞ –∂–∞–ª–æ–±</span>
                    </div>

                    <h1 class="hero-title">–ü–æ–¥–∞—Ç—å –∂–∞–ª–æ–±—É<br>–Ω–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ</h1>

                    <p class="hero-subtitle">
                        –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –Ω–∏–∂–µ –¥–ª—è –ø–æ–¥–∞—á–∏ –∂–∞–ª–æ–±—ã –Ω–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª —Å–µ—Ä–≤–µ—Ä–∞.
                        –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è. –£–∫–∞–∂–∏—Ç–µ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è.
                    </p>
                </div>

                <!-- Complaint Form -->
                <div class="features-section">
                    <div class="complaint-form-container" style="max-width: 800px; margin: 0 auto;">
                        <div class="complaint-form">
                            <!-- Type -->
                            <div class="form-group">
                                <label class="form-label">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 18px; height: 18px;">
                                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                        <polyline points="14 2 14 8 20 8"></polyline>
                                    </svg>
                                    –¢–∏–ø –Ω–∞—Ä—É—à–µ–Ω–∏—è
                                </label>
                                <select id="complaintType" class="form-input">
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –Ω–∞—Ä—É—à–µ–Ω–∏—è</option>
                                    <option value="dm">üî´ DM (DeathMatch)</option>
                                    <option value="mg">üß† MG (MetaGaming)</option>
                                    <option value="pg">üí™ PG (PowerGaming)</option>
                                    <option value="rk">‚ò†Ô∏è RK (Revenge Kill)</option>
                                    <option value="fr">üé≠ FailRP</option>
                                    <option value="other">üìã –î—Ä—É–≥–æ–µ</option>
                                </select>
                            </div>

                            <!-- Violator ID -->
                            <div class="form-group">
                                <label class="form-label">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 18px; height: 18px;">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    ID –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è
                                </label>
                                <input type="text" id="violatorId" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 12345">
                            </div>

                            <!-- Server -->
                            <div class="form-group">
                                <label class="form-label">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 18px; height: 18px;">
                                        <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                                        <line x1="8" y1="21" x2="16" y2="21"></line>
                                        <line x1="12" y1="17" x2="12" y2="21"></line>
                                    </svg>
                                    –°–µ—Ä–≤–µ—Ä
                                </label>
                                <input type="text" id="serverName" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Downtown">
                            </div>

                            <!-- Description -->
                            <div class="form-group">
                                <label class="form-label">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 18px; height: 18px;">
                                        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                                    </svg>
                                    –û–ø–∏—Å–∞–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
                                </label>
                                <textarea id="incidentDescription" class="form-textarea" rows="6" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ, –≤—Ä–µ–º—è, –º–µ—Å—Ç–æ –∏ –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è..."></textarea>
                            </div>

                            <!-- Evidence -->
                            <div class="form-group">
                                <label class="form-label">
                                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width: 18px; height: 18px;">
                                        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                                        <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                                    </svg>
                                    –°—Å—ã–ª–∫–∞ –Ω–∞ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
                                </label>
                                <input type="text" id="evidenceLink" class="form-input" placeholder="YouTube, Google Drive –∏–ª–∏ –¥—Ä—É–≥–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ/—Å–∫—Ä–∏–Ω—à–æ—Ç—ã">
                            </div>

                            <!-- Submit Button -->
                            <button onclick="submitComplaint()" class="submit-complaint-btn">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 2L11 13"></path>
                                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                </svg>
                                –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∂–∞–ª–æ–±—É
                            </button>

                            <!-- Status Message -->
                            <div id="complaintStatus" class="complaint-status"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Section (–ò—Å—Ç–æ—Ä–∏—è) -->
        <div class="section" id="historySection">
            <div class="landing-section">
                <!-- Hero -->
                <div class="hero-section">
                    <div class="hero-badge">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        <span>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</span>
                    </div>

                    <h1 class="hero-title">–ò—Å—Ç–æ—Ä–∏—è –≤–∞—à–∏—Ö<br>–∑–∞–ø—Ä–æ—Å–æ–≤</h1>

                    <p class="hero-subtitle">
                        –ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã –∫ AI –ø–æ–º–æ—â–Ω–∏–∫—É –∏ –ø–æ–¥–∞–Ω–Ω—ã–µ –∂–∞–ª–æ–±—ã.
                        –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è.
                    </p>
                </div>

                <!-- History Content -->
                <div class="features-section">
                    <div id="historyContainer" class="history-container">
                        <!-- Empty State -->
                        <div class="history-empty">
                            <div class="empty-icon">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                </svg>
                            </div>
                            <h3>–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞</h3>
                            <p>–ù–∞—á–Ω–∏—Ç–µ –æ–±—â–∞—Ç—å—Å—è —Å AI –ø–æ–º–æ—â–Ω–∏–∫–æ–º, –∏ –≤–∞—à–∏ –∑–∞–ø—Ä–æ—Å—ã –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å</p>
                            <button class="cta-primary" onclick="selectLogoMenu('chat')" style="margin-top: 1.5rem;">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                </svg>
                                –ù–∞—á–∞—Ç—å —á–∞—Ç
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- News Section -->
        <div class="section" id="newsSection">
            <div class="landing-section">
                <!-- Hero -->
                <div class="hero-section">
                    <div class="hero-badge">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <line x1="3" y1="9" x2="21" y2="9"></line>
                            <line x1="9" y1="21" x2="9" y2="9"></line>
                        </svg>
                        <span>–ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞</span>
                    </div>

                    <h1 class="hero-title">–ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞</h1>

                    <p class="hero-subtitle">
                        –ü–æ—Å–ª–µ–¥–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –≤–∞–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è.
                        –°–ª–µ–¥–∏—Ç–µ –∑–∞ —Ä–∞–∑–≤–∏—Ç–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞ –∏ –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏.
                    </p>
                </div>

                <!-- News Grid -->
                <div class="features-section">
                    <div class="news-grid" id="newsGrid">
                        <!-- News items will be loaded here by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Team Section -->
        <div class="section" id="teamSection">
            <div class="landing-section">
                <!-- Hero -->
                <div class="hero-section">
                    <div class="hero-badge">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                            <circle cx="9" cy="7" r="4"></circle>
                            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                        </svg>
                        <span>–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞</span>
                    </div>

                    <h1 class="hero-title">–ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞<br>BadgRules</h1>

                    <p class="hero-subtitle">
                        –ü–æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –ª—é–¥—å–º–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø—Ä–æ–µ–∫—Ç.
                        –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∏–≥—Ä—É –ª—É—á—à–µ –¥–ª—è –≤—Å–µ—Ö.
                    </p>
                </div>

                <!-- Team Grid -->
                <div class="features-section">
                    <!-- Owners Row - 2 cards centered -->
                    <div style="display: grid; grid-template-columns: repeat(2, minmax(280px, 350px)); gap: 2rem; max-width: 800px; margin: 0 auto 3rem auto; justify-content: center;">
                        
                        <!-- –í–ª–∞–¥–µ–ª–µ—Ü 1 -->
                        <div class="team-card" data-role="owner">
                            <div class="team-card-bg"></div>
                            <div class="team-card-content">
                                <div class="team-avatar-wrapper">
                                    <img src="images/owner1.png" alt="–í–ª–∞–¥–µ–ª–µ—Ü" class="team-avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                    <div class="team-avatar-placeholder" style="display: none;">
                                        <div style="font-size: 3rem;">üëë</div>
                                    </div>
                                    <div class="team-role-badge owner">
                                        <span>üëë</span>
                                        <span>–í–ª–∞–¥–µ–ª–µ—Ü</span>
                                    </div>
                                </div>
                                <div class="team-info">
                                    <h3 class="team-name">Kai</h3>
                                    <p class="team-title">–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞</p>
                                    <p class="team-description">
                                        –°–æ–∑–¥–∞—Ç–µ–ª—å –∏ –∏–¥–µ–π–Ω—ã–π –≤–¥–æ—Ö–Ω–æ–≤–∏—Ç–µ–ª—å BadgRules. 
                                        –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ–±—â–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–∏–Ω—è—Ç–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏—Ö —Ä–µ—à–µ–Ω–∏–π.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- –í–ª–∞–¥–µ–ª–µ—Ü 2 -->
                        <div class="team-card" data-role="owner">
                            <div class="team-card-bg"></div>
                            <div class="team-card-content">
                                <div class="team-avatar-wrapper">
                                    <img src="images/owner2.png" alt="–°–æ-–≤–ª–∞–¥–µ–ª–µ—Ü" class="team-avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                    <div class="team-avatar-placeholder" style="display: none;">
                                        <div style="font-size: 3rem;">üëë</div>
                                    </div>
                                    <div class="team-role-badge owner">
                                        <span>üëë</span>
                                        <span>–í–ª–∞–¥–µ–ª–µ—Ü</span>
                                    </div>
                                </div>
                                <div class="team-info">
                                    <h3 class="team-name">Very</h3>
                                    <p class="team-title">–°–æ-–æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞</p>
                                    <p class="team-description">
                                        –°–æ-–æ—Å–Ω–æ–≤–∞—Ç–µ–ª—å BadgRules. 
                                        –£–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —á–∞—Å—Ç—å—é –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É –∫–æ–º–∞–Ω–¥—ã.
                                    </p>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Senior Moderator Row - 1 card centered -->
                    <div style="display: grid; grid-template-columns: minmax(280px, 350px); gap: 2rem; max-width: 400px; margin: 0 auto 3rem auto; justify-content: center;">
                        
                        <!-- Senior –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä -->
                        <div class="team-card" data-role="senior">
                            <div class="team-card-bg"></div>
                            <div class="team-card-content">
                                <div class="team-avatar-wrapper">
                                    <img src="images/team3.png" alt="Senior –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä" class="team-avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                    <div class="team-avatar-placeholder" style="display: none;">
                                        <div style="font-size: 3rem;">‚≠ê</div>
                                    </div>
                                    <div class="team-role-badge senior">
                                        <span>‚≠ê</span>
                                        <span>–ö–æ–º–∞–Ω–¥–∞</span>
                                    </div>
                                </div>
                                <div class="team-info">
                                    <h3 class="team-name">Kingo</h3>
                                    <p class="team-title">Senior-Moderator</p>
                                    <p class="team-description">
                                        –ì–ª–∞–≤–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É, –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.
                                    </p>
                                </div>
                            </div>
                        </div>

                    </div>

                    <!-- Team Members Row - 2 cards centered -->
                    <div style="display: grid; grid-template-columns: repeat(2, minmax(280px, 350px)); gap: 2rem; max-width: 800px; margin: 0 auto; justify-content: center;">

                        <!-- –ö–æ–º–∞–Ω–¥–∞ 1 -->
                        <div class="team-card" data-role="team">
                            <div class="team-card-bg"></div>
                            <div class="team-card-content">
                                <div class="team-avatar-wrapper">
                                    <img src="images/team1.png" alt="–ö–æ–º–∞–Ω–¥–∞" class="team-avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                    <div class="team-avatar-placeholder" style="display: none;">
                                        <div style="font-size: 3rem;">üë•</div>
                                    </div>
                                    <div class="team-role-badge team">
                                        <span>üë•</span>
                                        <span>–ö–æ–º–∞–Ω–¥–∞</span>
                                    </div>
                                </div>
                                <div class="team-info">
                                    <h3 class="team-name">Lesya</h3>
                                    <p class="team-title">Moderator</p>
                                    <p class="team-description">
                                        –°–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞, –º–æ–¥–µ—Ä–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –∏ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏.
                                    </p>
                                </div>
                            </div>
                        </div>

                        <!-- –ö–æ–º–∞–Ω–¥–∞ 2 -->
                        <div class="team-card" data-role="team">
                            <div class="team-card-bg"></div>
                            <div class="team-card-content">
                                <div class="team-avatar-wrapper">
                                    <img src="images/team2.png" alt="–ö–æ–º–∞–Ω–¥–∞" class="team-avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                                    <div class="team-avatar-placeholder" style="display: none;">
                                        <div style="font-size: 3rem;">üë•</div>
                                    </div>
                                    <div class="team-role-badge team">
                                        <span>üë•</span>
                                        <span>–ö–æ–º–∞–Ω–¥–∞</span>
                                    </div>
                                </div>
                                <div class="team-info">
                                    <h3 class="team-name">Yuki</h3>
                                    <p class="team-title">Moderator</p>
                                    <p class="team-description">
                                        –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç –∏ –≤–∏–∑—É–∞–ª—å–Ω—É—é —Å–æ—Å—Ç–∞–≤–ª—è—é—â—É—é –ø—Ä–æ–µ–∫—Ç–∞.
                                    </p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>

        <!-- Social Networks Section -->
        <div class="section" id="socialSection">
            <div class="landing-section">
                <!-- Hero -->
                <div class="hero-section">
                    <div class="hero-badge">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>
                        </svg>
                        <span>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</span>
                    </div>

                    <h1 class="hero-title">–ú—ã –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö<br>—Å–µ—Ç—è—Ö</h1>

                    <p class="hero-subtitle">
                        –°–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –ø—Ä–æ–µ–∫—Ç–∞, –æ–±—â–∞–π—Ç–µ—Å—å —Å —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º
                        –∏ –±—É–¥—å—Ç–µ –≤ –∫—É—Ä—Å–µ –≤—Å–µ—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π BadgRules.
                    </p>
                </div>

                <!-- Social Cards -->
                <div class="features-section">
                    <div style="display: grid; grid-template-columns: repeat(3, minmax(280px, 350px)); gap: 2rem; max-width: 1200px; margin: 0 auto; justify-content: center;">
                        
                        <!-- Discord Card -->
                        <a href="https://discord.gg/FmFp9MHj" target="_blank" style="text-decoration: none; color: inherit;">
                        <div style="background: rgba(88, 101, 242, 0.1); border: 1px solid rgba(88, 101, 242, 0.3); border-radius: 20px; padding: 2rem; text-align: center; transition: all 0.3s; cursor: pointer; height: 100%;" onmouseover="this.style.transform='translateY(-10px)'; this.style.borderColor='rgba(88, 101, 242, 0.5)'; this.style.boxShadow='0 20px 40px rgba(88, 101, 242, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(88, 101, 242, 0.3)'; this.style.boxShadow='none'">
                            <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, #5865F2, #7289DA); border-radius: 20px; display: flex; align-items: center; justify-content: center;">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="white">
                                    <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
                                </svg>
                            </div>
                            <h3 style="font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 0.5rem;">Discord</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.95rem;">–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Discord —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞</p>
                            <div style="display: inline-flex; align-items: center; gap: 0.5rem; color: #5865F2; font-weight: 600;">
                                discord.gg/FmFp9MHj
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                            </div>
                        </div>
                        </a>

                        <!-- Email Card -->
                        <a href="mailto:support@badgrules.com" style="text-decoration: none; color: inherit;">
                        <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 20px; padding: 2rem; text-align: center; transition: all 0.3s; cursor: pointer; height: 100%;" onmouseover="this.style.transform='translateY(-10px)'; this.style.borderColor='rgba(16, 185, 129, 0.5)'; this.style.boxShadow='0 20px 40px rgba(16, 185, 129, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(16, 185, 129, 0.3)'; this.style.boxShadow='none'">
                            <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, #10b981, #059669); border-radius: 20px; display: flex; align-items: center; justify-content: center;">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                    <polyline points="22,6 12,13 2,6"></polyline>
                                </svg>
                            </div>
                            <h3 style="font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 0.5rem;">Email</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.95rem;">–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ–µ –ø–∏—Å—å–º–æ</p>
                            <div style="display: inline-flex; align-items: center; gap: 0.5rem; color: #10b981; font-weight: 600;">
                                support@badgrules.com
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                            </div>
                        </div>
                        </a>

                        <!-- Telegram Card -->
                        <a href="https://t.me/badgrules" target="_blank" style="text-decoration: none; color: inherit;">
                        <div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 20px; padding: 2rem; text-align: center; transition: all 0.3s; cursor: pointer; height: 100%;" onmouseover="this.style.transform='translateY(-10px)'; this.style.borderColor='rgba(59, 130, 246, 0.5)'; this.style.boxShadow='0 20px 40px rgba(59, 130, 246, 0.3)'" onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='rgba(59, 130, 246, 0.3)'; this.style.boxShadow='none'">
                            <div style="width: 80px; height: 80px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, #3b82f6, #2563eb); border-radius: 20px; display: flex; align-items: center; justify-content: center;">
                                <svg width="48" height="48" viewBox="0 0 24 24" fill="white">
                                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-1.38-.94-2.23-1.5-.99-.65-.35-1.01.22-1.59.15-.15 2.71-2.48 2.76-2.69a.2.2 0 0 0-.05-.18c-.06-.05-.14-.03-.21-.02-.09.02-1.49.95-4.22 2.79-.4.27-.76.41-1.08.4-.36-.01-1.04-.2-1.55-.37-.63-.2-1.12-.31-1.08-.66.02-.18.27-.36.74-.55 2.92-1.27 4.86-2.11 5.83-2.51 2.78-1.16 3.35-1.36 3.73-1.36.08 0 .27.02.39.12.1.08.13.19.14.27-.01.06.01.24 0 .38z"/>
                                </svg>
                            </div>
                            <h3 style="font-size: 1.3rem; font-weight: 700; color: var(--text-primary); margin-bottom: 0.5rem;">Telegram</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.95rem;">–ù–∞—à –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π Telegram –∫–∞–Ω–∞–ª</p>
                            <div style="display: inline-flex; align-items: center; gap: 0.5rem; color: #3b82f6; font-weight: 600;">
                                @badgrules
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                                    <polyline points="15 3 21 3 21 9"></polyline>
                                    <line x1="10" y1="14" x2="21" y2="3"></line>
                                </svg>
                            </div>
                        </div>
                        </a>

                    </div>
                </div>

                <!-- Bottom Info -->
                <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: rgba(96, 165, 250, 0.05); border-radius: 20px; border: 1px solid rgba(96, 165, 250, 0.1);">
                    <h3 style="font-size: 1.5rem; font-weight: 700; color: var(--text-primary); margin-bottom: 0.75rem;">
                        –ë—É–¥—å—Ç–µ –Ω–∞ —Å–≤—è–∑–∏
                    </h3>
                    <p style="font-size: 1rem; color: var(--text-secondary); max-width: 700px; margin: 0 auto;">
                        –ü–æ–¥–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –Ω–∞ –Ω–∞—à–∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≤–∞–∂–Ω—ã–µ –Ω–æ–≤–æ—Å—Ç–∏,
                        –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç –∫–æ–º–∞–Ω–¥—ã BadgRules!
                    </p>
                </div>
            </div>
        </div>


    <script>

        // –§–æ—Ä—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –≤ Opera GX
        (function operaGXForceReload() {
            const RELOAD_KEY = 'badgrules_force_reload';
            const reloaded = sessionStorage.getItem(RELOAD_KEY);
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º Opera
            const isOpera = navigator.userAgent.includes('OPR') || 
                           navigator.userAgent.includes('Opera');
            
            // –ï—Å–ª–∏ Opera –∏ –µ—â–µ –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–ª–∏ –≤ —ç—Ç–æ–π —Å–µ—Å—Å–∏–∏
            if (isOpera && !reloaded) {
                console.log('üîÑ Opera –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ - —Ñ–æ—Ä—Å–∏—Ä—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É...');
                sessionStorage.setItem(RELOAD_KEY, 'true');
                
                // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –ë–ï–ó –∫—ç—à–∞
                window.location.reload(true);
            }
        })();


        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üîß SERVICE WORKER - –ö–æ–Ω—Ç—Ä–æ–ª—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫—ç—à–∞
        if ('serviceWorker' in navigator) {
            // –°–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ–º –≤—Å–µ —Å—Ç–∞—Ä—ã–µ Service Workers
            navigator.serviceWorker.getRegistrations().then(registrations => {
                registrations.forEach(registration => {
                    console.log('üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ Service Worker');
                    registration.unregister();
                });
            });
            
            console.log('‚úÖ Service Workers –æ—á–∏—â–µ–Ω—ã (–∫—ç—à –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º)');
        }


        // Cache Busting –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        window.addEventListener('DOMContentLoaded', () => {
            const timestamp = Date.now();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å cache busting
            document.querySelectorAll('img[data-no-cache]').forEach(img => {
                const src = img.src.split('?')[0];
                img.src = `${src}?v=${timestamp}`;
            });
            
            console.log('üîÑ Cache busting –ø—Ä–∏–º–µ–Ω–µ–Ω');
        });


        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
        function forceUpdateSite() {
            console.log('üîÑ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ...');
            
            // –û—á–∏—â–∞–µ–º –≤—Å—ë
            localStorage.clear();
            sessionStorage.clear();
            
            if ('caches' in window) {
                caches.keys().then(names => {
                    names.forEach(name => caches.delete(name));
                });
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            alert('üîÑ –°–∞–π—Ç –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω!\n\n–í—Å–µ –∫—ç—à–∏ –æ—á–∏—â–µ–Ω—ã.\n–°–µ–π—á–∞—Å —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è.');
            
            // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –ë–ï–ó –∫—ç—à–∞
            setTimeout(() => {
                window.location.reload(true);
            }, 500);
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º –≤ window –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –∫–æ–Ω—Å–æ–ª–∏
        window.forceUpdateSite = forceUpdateSite;
        
        console.log('üí° –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ï—Å–ª–∏ —Å–∞–π—Ç –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è, –≤–≤–µ–¥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å: forceUpdateSite()');


        // –î–µ—Ç–µ–∫—Ç–æ—Ä Opera GX —Å –ø–æ–º–æ—â—å—é
        (function detectOperaGX() {
            const isOpera = navigator.userAgent.includes('OPR') || 
                           navigator.userAgent.includes('Opera');
            
            if (isOpera) {
                console.log('%cüéÆ Opera GX –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞!', 'color: #ff1a8c; font-size: 16px; font-weight: bold;');
                console.log('%cüí° –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã:', 'color: #60a5fa; font-size: 14px;');
                console.log('%c1Ô∏è‚É£ –ù–∞–∂–º–∏ Ctrl+Shift+Delete', 'color: white; font-size: 12px;');
                console.log('%c2Ô∏è‚É£ –í—ã–±–µ—Ä–∏ "–í—Å—ë –≤—Ä–µ–º—è"', 'color: white; font-size: 12px;');
                console.log('%c3Ô∏è‚É£ –û—Ç–º–µ—Ç—å "–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"', 'color: white; font-size: 12px;');
                console.log('%c4Ô∏è‚É£ –ù–∞–∂–º–∏ "–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ"', 'color: white; font-size: 12px;');
                console.log('%c–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏: forceUpdateSite()', 'color: #4ade80; font-size: 14px; font-weight: bold;');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é
                const savedVersion = localStorage.getItem('badgrules_site_version');
                if (savedVersion && savedVersion !== SITE_VERSION) {
                    console.log(`%c‚ö†Ô∏è –°—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –≤ –∫—ç—à–µ: ${savedVersion}`, 'color: #fbbf24; font-size: 14px;');
                    console.log(`%c‚úÖ –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å: ${SITE_VERSION}`, 'color: #4ade80; font-size: 14px;');
                }
            }
        })();


        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üîÑ –°–ò–°–¢–ï–ú–ê –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        const SITE_VERSION = '1.2.0'; // –£–≤–µ–ª–∏—á–∏–≤–∞–π –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏!
        const VERSION_KEY = 'badgrules_site_version';
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        (function checkVersion() {
            try {
                const savedVersion = localStorage.getItem(VERSION_KEY);
                
                if (savedVersion !== SITE_VERSION) {
                    console.log(`üîÑ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è: ${savedVersion || '–Ω–µ—Ç'} ‚Üí ${SITE_VERSION}`);
                    
                    // –ê–ì–†–ï–°–°–ò–í–ù–ê–Ø –û–ß–ò–°–¢–ö–ê –í–°–ï–ì–û –ö–≠–®–ê
                    console.log('üóëÔ∏è –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –∫—ç—à–∞...');
                    
                    // 1. –û—á–∏—Å—Ç–∫–∞ localStorage (–∫—Ä–æ–º–µ –≤–∞–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö)
                    const keepKeys = ['badgrules_user', 'badgrules_server_selection'];
                    const allKeys = Object.keys(localStorage);
                    
                    allKeys.forEach(key => {
                        if (!keepKeys.includes(key)) {
                            localStorage.removeItem(key);
                        }
                    });
                    
                    // 2. –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö Cache API
                    if ('caches' in window) {
                        caches.keys().then(cacheNames => {
                            return Promise.all(
                                cacheNames.map(cacheName => {
                                    console.log(`üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –∫—ç—à–∞: ${cacheName}`);
                                    return caches.delete(cacheName);
                                })
                            );
                        }).then(() => {
                            console.log('‚úÖ –í—Å–µ –∫—ç—à–∏ –æ—á–∏—â–µ–Ω—ã');
                        });
                    }
                    
                    // 3. –°–æ—Ö—Ä–∞–Ω—è–µ–º –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
                    localStorage.setItem(VERSION_KEY, SITE_VERSION);
                    
                    // 4. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
                    showVersionUpdateNotification();
                    
                    console.log(`‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ –¥–æ –≤–µ—Ä—Å–∏–∏ ${SITE_VERSION}`);
                } else {
                    console.log(`‚úÖ –í–µ—Ä—Å–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞: ${SITE_VERSION}`);
                }
            } catch (e) {
                console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ—Ä—Å–∏–∏:', e);
            }
        })();
        
        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
        function showVersionUpdateNotification() {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: linear-gradient(135deg, #60a5fa, #3b82f6);
                color: white;
                padding: 16px 24px;
                border-radius: 12px;
                box-shadow: 0 8px 32px rgba(96, 165, 250, 0.4);
                z-index: 999999;
                font-family: 'Manrope', sans-serif;
                font-weight: 600;
                font-size: 14px;
                max-width: 320px;
                animation: slideInRight 0.5s ease;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 12px;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="23 4 23 10 17 10"></polyline>
                        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
                    </svg>
                    <div>
                        <div style="font-size: 16px; margin-bottom: 4px;">üéâ –°–∞–π—Ç –æ–±–Ω–æ–≤–ª—ë–Ω!</div>
                        <div style="font-size: 12px; opacity: 0.9;">–í–µ—Ä—Å–∏—è ${SITE_VERSION}</div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.5s ease';
                setTimeout(() => notification.remove(), 500);
            }, 5000);
        }
        
        // CSS –∞–Ω–∏–º–∞—Ü–∏–∏
        const versionStyles = document.createElement('style');
        versionStyles.textContent = `
            @keyframes slideInRight {
                from {
                    opacity: 0;
                    transform: translateX(400px);
                }
                to {
                    opacity: 1;
                    transform: translateX(0);
                }
            }
            
            @keyframes slideOutRight {
                from {
                    opacity: 1;
                    transform: translateX(0);
                }
                to {
                    opacity: 0;
                    transform: translateX(400px);
                }
            }
        `;
        document.head.appendChild(versionStyles);


        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üéÆ SERVER DATA - GTA 5 RP & Majestic RP
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        const SERVERS = {
            gta5rp: [
                { id: 1, name: 'DOWNTOWN', emoji: '', players: '', bonus: '' },
                { id: 2, name: 'STRAWBERRY', emoji: '', players: '', bonus: '' },
                { id: 3, name: 'VINEWOOD', emoji: '', players: '', bonus: '' },
                { id: 4, name: 'BLACKBERRY', emoji: '', players: '', bonus: '' },
                { id: 5, name: 'INSQUAD', emoji: '', players: '', bonus: '' },
                { id: 6, name: 'SUNRISE', emoji: '', players: '', bonus: '' },
                { id: 7, name: 'RAINBOW', emoji: '', players: '', bonus: '' },
                { id: 8, name: 'RICHMAN', emoji: '', players: '', bonus: '' },
                { id: 9, name: 'ECLIPSE', emoji: '', players: '', bonus: '' },
                { id: 10, name: 'LA MESA', emoji: '', players: '', bonus: '' },
                { id: 11, name: 'BURTON', emoji: '', players: '', bonus: '' },
                { id: 12, name: 'ROCKFORD', emoji: '', players: '', bonus: '' },
                { id: 13, name: 'ALTA', emoji: '', players: '', bonus: '' },
                { id: 14, name: 'DEL PERRO', emoji: '', players: '', bonus: '' },
                { id: 15, name: 'DAVIS', emoji: '', players: '', bonus: '' },
                { id: 16, name: 'HARMONY', emoji: '', players: '', bonus: '' },
                { id: 17, name: 'REDWOOD', emoji: '', players: '', bonus: '' },
                { id: 18, name: 'HAWICK', emoji: '', players: '', bonus: '' },
                { id: 19, name: 'GRAPESEED', emoji: '', players: '', bonus: '' },
                { id: 20, name: 'MURRIETA', emoji: '', players: '', bonus: '' },
                { id: 21, name: 'VESPUCCI', emoji: '', players: '', bonus: '' },
                { id: 22, name: 'MILTON', emoji: '', players: '', bonus: '' }
            ],
            majestic: [
                { id: 1, name: 'Denver', emoji: 'Ô∏è', players: '‚Äî', bonus: '' },
                { id: 2, name: 'Phoenix', emoji: '', players: '‚Äî', bonus: '' },
                { id: 3, name: 'Seattle', emoji: '', players: '‚Äî', bonus: 'x1.1' },
                { id: 4, name: 'Houston', emoji: '', players: '‚Äî', bonus: 'x1.15' },
                { id: 5, name: 'New York', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 6, name: 'Atlanta', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 7, name: 'San Francisco', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 8, name: 'Chicago', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 9, name: 'Los Angeles', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 10, name: 'Miami', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 11, name: 'Dallas', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 12, name: 'Detroit', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 13, name: 'Boston', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 14, name: 'Las Vegas', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 15, name: 'San Diego', emoji: '', players: '‚Äî', bonus: 'x1.2' },
                { id: 16, name: 'Washington', emoji: '', players: '‚Äî', bonus: 'x1.2' }
            ]
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìä PROJECT/SERVER SELECTION STATE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        let selectedProject = null;
        let selectedServer = null;
        let currentLoginStep = 1;

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üéØ PROJECT SELECTION FUNCTIONS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function selectProject(project) {
            selectedProject = project;
            selectedServer = null; // Reset server selection

            // Update UI
            document.querySelectorAll('.project-card').forEach(card => {
                card.classList.remove('selected');
            });

            const selectedCard = document.querySelector(`.project-card[data-project="${project}"]`);
            if (selectedCard) {
                selectedCard.classList.add('selected');
            }

            // Enable next button
            document.getElementById('nextStep1').disabled = false;

            // Pre-populate servers for step 2
            populateServers(project);
        }

        function populateServers(project) {
            const grid = document.getElementById('serverGrid');
            const servers = SERVERS[project] || [];
            const projectClass = project;

            grid.innerHTML = servers.map(server => {
                const bonusHtml = server.bonus ? `<span class="server-bonus">${server.bonus}</span>` : '';
                return `
                <div class="server-card ${projectClass}" data-server="${server.id}" onclick="selectServer(${server.id}, '${server.name}', '${server.emoji}')">
                    <div class="server-number">${String(server.id).padStart(2, '0')}</div>
                    <span class="server-emoji">${server.emoji}</span>
                    <div class="server-info">
                        <div class="server-name">${server.name} ${bonusHtml}</div>
                    </div>
                </div>
            `}).join('');

            // Update step 2 title
            const projectName = project === 'gta5rp' ? 'GTA 5 RP' : 'Majestic RP';
            document.getElementById('serverStepTitle').textContent = `–°–µ—Ä–≤–µ—Ä ${projectName}`;
        }

        function selectServer(id, name, emoji) {
            selectedServer = { id, name, emoji };

            // Update UI
            document.querySelectorAll('.server-card').forEach(card => {
                card.classList.remove('selected');
            });

            const selectedCard = document.querySelector(`.server-card[data-server="${id}"]`);
            if (selectedCard) {
                selectedCard.classList.add('selected');
            }

            // Enable next button
            document.getElementById('nextStep2').disabled = false;
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìç STEP NAVIGATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function goToStep(step) {
            // Validate transition
            if (step === 2 && !selectedProject) return;
            if (step === 3 && !selectedServer) return;

            // Hide all steps
            document.querySelectorAll('.login-step').forEach(s => s.classList.remove('active'));

            // Show target step
            document.getElementById(`step${step}`).classList.add('active');

            // Update step indicator
            updateStepIndicator(step);

            // If going to step 3, update selected info display
            if (step === 3) {
                updateSelectedInfoDisplay();
            }

            currentLoginStep = step;
        }

        function updateStepIndicator(activeStep) {
            for (let i = 1; i <= 3; i++) {
                const dot = document.getElementById(`stepDot${i}`);
                dot.classList.remove('active', 'completed');

                if (i < activeStep) {
                    dot.classList.add('completed');
                } else if (i === activeStep) {
                    dot.classList.add('active');
                }
            }
        }

        function updateSelectedInfoDisplay() {
            const projectName = selectedProject === 'gta5rp' ? 'GTA 5 RP' : 'Majestic RP';

            document.getElementById('selectedIcon').textContent = selectedServer.emoji;
            document.getElementById('selectedProjectText').textContent = projectName;
            document.getElementById('selectedServerText').textContent = selectedServer.name;
        }

        function saveServerSelection() {
            const selection = {
                project: selectedProject,
                server: selectedServer
            };
            localStorage.setItem('badgrules_server_selection', JSON.stringify(selection));
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è AI
            try {
                const userData = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
                if (userData && userData.id) {
                    userData.server = selectedServer.name;
                    userData.project = selectedProject;
                    localStorage.setItem('badgrules_user', JSON.stringify(userData));
                    console.log(`‚úÖ –°–µ—Ä–≤–µ—Ä ${selectedServer.name} —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –ø—Ä–æ—Ñ–∏–ª—å`);
                }
            } catch (e) {
                console.warn('‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –ø—Ä–æ—Ñ–∏–ª—å');
            }
        }

        function loadServerSelection() {
            const saved = localStorage.getItem('badgrules_server_selection');
            if (saved) {
                const selection = JSON.parse(saved);
                selectedProject = selection.project;
                selectedServer = selection.server;
                return selection;
            }
            return null;
        }

        function updateServerBadgeDisplay(project, server) {
            const serverBadge = document.getElementById('serverBadge');
            const dropdownIcon = document.getElementById('dropdownServerIcon');
            const dropdownName = document.getElementById('dropdownServerName');

            if (serverBadge) {
                serverBadge.textContent = server.name;
                serverBadge.className = 'user-server-badge ' + project;
            }

            if (dropdownIcon) dropdownIcon.textContent = server.emoji;
            if (dropdownName) dropdownName.textContent = server.name;
        }

        function changeServer() {
            // Clear selection and show login overlay at step 1
            selectedProject = null;
            selectedServer = null;

            document.querySelectorAll('.project-card').forEach(card => {
                card.classList.remove('selected');
            });
            document.getElementById('nextStep1').disabled = true;
            document.getElementById('nextStep2').disabled = true;

            goToStep(1);
            document.getElementById('loginOverlay').classList.remove('hidden');
            document.getElementById('userProfileBadge').classList.add('hidden');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ü§ñ AI MODEL SELECTOR - New Clean Version
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        const aiModels = {
            groq: { name: '‚ö° Groq LLaMA' },
            huggingface: { name: 'ü§ó HuggingFace' },
            gemini: { name: 'üî∑ Gemini 2.0' }
        };

        let isAiSelectorOpen = false;

        function toggleAiSelector() {
            const btn = document.getElementById('aiSelectorBtn');
            const dropdown = document.getElementById('aiDropdown');

            isAiSelectorOpen = !isAiSelectorOpen;

            if (isAiSelectorOpen) {
                btn.classList.add('open');
                dropdown.classList.add('show');
            } else {
                btn.classList.remove('open');
                dropdown.classList.remove('show');
            }
        }

        function selectAiModel(model) {
            if (!aiModels[model]) return;

            currentModel = model;
            const modelInfo = aiModels[model];

            // Update button text
            document.getElementById('aiSelectorText').textContent = modelInfo.name;

            // Update selected state in dropdown
            document.querySelectorAll('.ai-option').forEach(opt => {
                if (opt.dataset.model === model) {
                    opt.classList.add('selected');
                } else {
                    opt.classList.remove('selected');
                }
            });

            // Close dropdown
            toggleAiSelector();
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function (e) {
            const selector = document.getElementById('aiSelector');
            if (selector && !selector.contains(e.target) && isAiSelectorOpen) {
                toggleAiSelector();
            }
        });

        // Toggle Recent Dialogs
        function toggleRecentDialogs(element) {
            element.classList.toggle('open');
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üè† TOP LOGO MENU FUNCTIONS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        let isLogoMenuOpen = false;

        function toggleLogoMenu() {
            const btn = document.getElementById('menuToggleBtn');
            const dropdown = document.getElementById('logoDropdown');

            isLogoMenuOpen = !isLogoMenuOpen;

            if (isLogoMenuOpen) {
                btn.classList.add('open');
                dropdown.classList.add('show');
            } else {
                btn.classList.remove('open');
                dropdown.classList.remove('show');
            }
        }

        function selectLogoMenu(section) {
            // Update active state
            document.querySelectorAll('.logo-menu-item').forEach(item => {
                if (item.dataset.section === section) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });

            // –ù–µ –∑–∞–∫—Ä—ã–≤–∞–µ–º –º–µ–Ω—é - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω–∞

            // Show section
            showSection(section);
        }

        // Close logo menu when clicking outside
        document.addEventListener('click', function (e) {
            const logoEl = document.getElementById('topLogo');
            if (logoEl && !logoEl.contains(e.target) && isLogoMenuOpen) {
                toggleLogoMenu();
            }
        });

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìÅ ROLLBACK FILE UPLOAD FUNCTIONS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        let selectedFile = null;
        let selectedRollbackType = 'dm';

        function selectRollbackType(element) {
            // Remove active from all
            document.querySelectorAll('.type-option').forEach(opt => {
                opt.classList.remove('active');
            });

            // Add active to clicked
            element.classList.add('active');
            selectedRollbackType = element.dataset.type;
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Check file size (100MB max)
            if (file.size > 100 * 1024 * 1024) {
                alert('–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º—É–º 100MB');
                return;
            }

            selectedFile = file;

            // Show preview
            document.getElementById('fileUploadArea').style.display = 'none';
            document.getElementById('filePreview').style.display = 'block';
            document.getElementById('fileName').textContent = file.name;
            document.getElementById('fileSize').textContent = formatFileSize(file.size);

            // Enable submit button
            document.getElementById('rollbackSubmitBtn').disabled = false;

            // Simulate upload progress
            simulateUpload();
        }

        function removeFile(event) {
            event.stopPropagation();
            selectedFile = null;

            // Reset UI
            document.getElementById('fileUploadArea').style.display = 'block';
            document.getElementById('filePreview').style.display = 'none';
            document.getElementById('fileInput').value = '';
            document.getElementById('uploadProgress').style.width = '0%';
            document.getElementById('rollbackSubmitBtn').disabled = true;
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function simulateUpload() {
            let progress = 0;
            const progressBar = document.getElementById('uploadProgress');

            const interval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(interval);
                }
                progressBar.style.width = progress + '%';
            }, 100);
        }

        // Drag and drop
        const uploadArea = document.getElementById('fileUploadArea');
        if (uploadArea) {
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.classList.add('dragover');
            });

            uploadArea.addEventListener('dragleave', () => {
                uploadArea.classList.remove('dragover');
            });

            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.classList.remove('dragover');

                const file = e.dataTransfer.files[0];
                if (file) {
                    document.getElementById('fileInput').files = e.dataTransfer.files;
                    handleFileSelect({ target: { files: [file] } });
                }
            });
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ü§ñ API CONFIGURATION - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API –∫–ª—é—á–µ–π
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ü§ñ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø AI –ú–û–î–ï–õ–ï–ô
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        const API_CONFIG = {
            // Groq - –†–ê–ë–û–¢–ê–ï–¢ 100%
            groq: {
                enabled: true,
                name: 'Groq LLaMA',
                apiKey: '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',
                endpoint: 'https://api.groq.com/openai/v1/chat/completions',
                model: 'llama-3.3-70b-versatile',
                type: 'openai',
                icon: '‚ö°',
                status: '‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç'
            },
            
            // HuggingFace - –†–ê–ë–û–¢–ê–ï–¢ –ë–ï–ó –ö–õ–Æ–ß–ê
            huggingface: {
                enabled: true,
                name: 'HuggingFace',
                apiKey: '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',
                endpoint: 'https://api-inference.huggingface.co/models/meta-llama/Llama-3.2-3B-Instruct',
                model: 'meta-llama/Llama-3.2-3B-Instruct',
                type: 'huggingface',
                icon: 'ü§ó',
                status: '‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω–æ'
            },
            
            // Google Gemini
            gemini: {
                enabled: true,
                name: 'Google Gemini',
                apiKey: 'AIzaSyAjsekCNag77SDOzwtweMJaOl6WjgCTetE',
                endpoint: 'https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent',
                model: 'gemini-2.0-flash-exp',
                type: 'gemini',
                icon: 'üî∑',
                status: '‚ö†Ô∏è –ú–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–º–∏—Ç'
            }
        };

        // Groq –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ - —Å–∞–º–∞—è –Ω–∞–¥—ë–∂–Ω–∞—è!
        let currentModel = 'groq';

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìö –ó–ê–ì–†–£–ó–ö–ê –°–°–´–õ–û–ö –ò–ó TXT –§–ê–ô–õ–ê
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ–º –∏ —Å—Å—ã–ª–æ–∫
        let RULES_TOPICS = [];
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Å—ã–ª–∫–∏ –∏–∑ TXT —Ñ–∞–π–ª–∞
        async function loadRulesLinksFromTxt() {
            try {
                console.log('üì• –ó–∞–≥—Ä—É–∂–∞—é —Å—Å—ã–ª–∫–∏ –∏–∑ RULES_LINKS.txt...');
                
                // –ü–æ–ø—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
                const response = await fetch('RULES_LINKS.txt');
                
                if (!response.ok) {
                    console.warn('‚ö†Ô∏è –ù–µ –Ω–∞–π–¥–µ–Ω RULES_LINKS.txt, –∏—Å–ø–æ–ª—å–∑—É—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏');
                    return loadDefaultRulesLinks();
                }
                
                const text = await response.text();
                const lines = text.split('\n');
                const topics = [];
                
                for (const line of lines) {
                    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ø—É—Å—Ç—ã–µ —Å—Ç—Ä–æ–∫–∏
                    if (line.trim().startsWith('#') || !line.trim()) {
                        continue;
                    }
                    
                    // –ü–∞—Ä—Å–∏–º —Ñ–æ—Ä–º–∞—Ç: –û–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–º—ã (—Å—Å—ã–ª–∫–∞)
                    const match = line.match(/^(.+?)\s*\((.+?)\)\s*$/);
                    
                    if (match) {
                        const description = match[1].trim();
                        const url = match[2].trim();
                        
                        if (url.startsWith('http')) {
                            topics.push({
                                description: description,
                                url: url,
                                keywords: extractKeywords(description)
                            });
                            
                            console.log(`‚úì –ó–∞–≥—Ä—É–∂–µ–Ω–∞ —Ç–µ–º–∞: ${description.substring(0, 50)}...`);
                        }
                    }
                }
                
                if (topics.length > 0) {
                    console.log(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${topics.length} —Ç–µ–º –∏–∑ RULES_LINKS.txt`);
                    return topics;
                } else {
                    console.warn('‚ö†Ô∏è TXT —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π, –∏—Å–ø–æ–ª—å–∑—É—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏');
                    return loadDefaultRulesLinks();
                }
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ RULES_LINKS.txt:', error);
                console.log('üì¶ –ò—Å–ø–æ–ª—å–∑—É—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏');
                return loadDefaultRulesLinks();
            }
        }
        
        // –ò–∑–≤–ª–µ–∫–∞–µ–º –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∏–∑ –æ–ø–∏—Å–∞–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞
        function extractKeywords(description) {
            const text = description.toLowerCase();
            const keywords = [];
            
            // –ë–∞–∑–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞
            if (text.includes('dm') || text.includes('rdm')) keywords.push('dm', 'deathmatch', '—É–±–∏–π—Å—Ç–≤–æ', '—É–±–∏–≤–∞', '—É–±–∏—Ç—å');
            if (text.includes('vdm')) keywords.push('vdm', '–º–∞—à–∏–Ω', '—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç', '–ø–µ—Ä–µ–µ–∑–¥');
            if (text.includes('pg') || text.includes('powergaming')) keywords.push('pg', 'powergaming', '–ø–æ–≤–µ—Ä–≥–µ–π–º');
            if (text.includes('mg') || text.includes('metagaming')) keywords.push('mg', 'metagaming', '–º–µ—Ç–∞–≥–µ–π–º');
            if (text.includes('nlr')) keywords.push('nlr', '—Å–º–µ—Ä—Ç—å', '–≤–æ–∑—Ä–æ–∂–¥');
            if (text.includes('rk') || text.includes('tk') || text.includes('sk')) keywords.push('rk', 'tk', 'sk', '—Ä–µ–≤–∞–Ω—à', '—É–±–∏–π—Å—Ç–≤–æ');
            
            // –ó–æ–Ω—ã
            if (text.includes('–∑–µ–ª–µ–Ω') || text.includes('green')) keywords.push('–∑–µ–ª–µ–Ω', '–∑–æ–Ω–∞', 'green', '–±–æ–ª—å–Ω–∏—Ü', '–ø–æ–ª–∏—Ü', '–≥–æ—Å–ø–∏—Ç–∞–ª—å', 'government');
            if (text.includes('–≥–µ—Ç—Ç–æ') || text.includes('ghetto') || text.includes('–∫—Ä–∞—Å–Ω')) keywords.push('–≥–µ—Ç—Ç–æ', 'ghetto', '–±–∞–Ω–¥', '—Ç–µ—Ä—Ä–∏—Ç–æ—Ä');
            
            // –î–µ–π—Å—Ç–≤–∏—è
            if (text.includes('–æ–≥—Ä–∞–±–ª') || text.includes('–≥—Ä–∞–±')) keywords.push('–æ–≥—Ä–∞–±–ª', '–≥—Ä–∞–±', '–±–∞–Ω–∫', '–º–∞–≥–∞–∑–∏–Ω', '–∏–Ω–∫–∞—Å—Å–∞—Ç–æ—Ä', '–º–∞—Å–∫–∞');
            if (text.includes('–ø–æ—Ö–∏—â') || text.includes('–∑–∞–ª–æ–∂–Ω–∏–∫')) keywords.push('–ø–æ—Ö–∏—â', '–∑–∞–ª–æ–∂–Ω–∏–∫', 'kidnap', 'capture');
            
            // –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
            if (text.includes('–≥–æ—Å') || text.includes('–≥–æ—Å—É–¥–∞—Ä')) keywords.push('–≥–æ—Å', '–≥–æ—Å—É–¥–∞—Ä', '–ø–æ–ª–∏—Ü', 'police', 'ems', '–º–µ–¥–∏–∫', 'government', 'army', 'fib');
            if (text.includes('—Ñ—Ä–∞–∫—Ü') || text.includes('–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü')) keywords.push('—Ñ—Ä–∞–∫—Ü', '–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü', '–ª–∏–¥–µ—Ä', '–∑–∞–º');
            
            // –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
            if (text.includes('—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç') || text.includes('–º–∞—à–∏–Ω')) keywords.push('—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç', '–º–∞—à–∏–Ω', '–∞–≤—Ç–æ', '–ø–æ–≥–æ–Ω', '–¥—Ç–ø');
            
            return keywords;
        }
        
        // –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ TXT –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
        function loadDefaultRulesLinks() {
            console.log('üì¶ –ó–∞–≥—Ä—É–∂–∞—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏...');
            return [
                {
                    description: '–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≥–¥–µ DM, RDM, RK, TK, VDM, PG, MG, NLR',
                    url: 'https://forum.gta5rp.com/threads/pravila-proekta.652405/',
                    keywords: ['dm', 'rdm', 'vdm', 'pg', 'mg', 'nlr', '—É–±–∏–π—Å—Ç–≤–æ', '–ø—Ä–∞–≤–∏–ª–∞']
                },
                {
                    description: '–û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ Majestic',
                    url: 'https://forum.majestic-rp.ru/threads/obshhie-pravila-servera.1/',
                    keywords: ['dm', 'rdm', 'vdm', 'pg', 'mg', 'nlr', '—É–±–∏–π—Å—Ç–≤–æ', '–ø—Ä–∞–≤–∏–ª–∞', 'majestic']
                }
            ];
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        loadRulesLinksFromTxt().then(topics => {
            RULES_TOPICS = topics;
            console.log('‚úÖ –°—Å—ã–ª–∫–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª–∞ –≥–æ—Ç–æ–≤—ã!');
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä—É–º–æ–≤
            startForumAutoScraping();
        });

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üåê –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –°–ö–ê–ù–ò–†–û–í–ê–ù–ò–ï –§–û–†–£–ú–û–í GTA5RP & MAJESTIC
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤—Å–µ—Ö –ø—Ä–æ—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
        const FORUM_DATABASE = {
            gta5rp: {
                indexed: false,
                pages: [],
                lastUpdate: null
            },
            majestic: {
                indexed: false,
                pages: [],
                lastUpdate: null
            }
        };
        
        // –§–æ—Ä—É–º—ã –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        const FORUM_BASES = {
            gta5rp: {
                name: 'GTA 5 RP',
                baseUrl: 'https://forum.gta5rp.com',
                rulesSection: 'https://forum.gta5rp.com/forums/pravila/',
                servers: ['Arizona', 'Chocolate', 'Rodina', 'Phoenix', 'Mesa', 'Red-Rock', 
                         'Yuma', 'Surprise', 'Prescott', 'Glendale', 'Kingman', 'Winslow']
            },
            majestic: {
                name: 'Majestic RP',
                baseUrl: 'https://forum.majestic-rp.ru',
                rulesSection: 'https://forum.majestic-rp.ru/forums/pravila-servera/',
                servers: ['Majestic01', 'Majestic02', 'Majestic03', 'Majestic04', 'Majestic05', 'Majestic06']
            }
        };
        
        // –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
        async function startForumAutoScraping() {
            console.log('üåê –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–æ—Ä—É–º–æ–≤ GTA5RP –∏ Majestic...');
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à
            const cacheKey = 'forum_database_cache';
            const cached = localStorage.getItem(cacheKey);
            
            if (cached) {
                try {
                    const data = JSON.parse(cached);
                    const cacheAge = Date.now() - (data.timestamp || 0);
                    
                    // –ï—Å–ª–∏ –∫—ç—à —Å–≤–µ–∂–∏–π (–º–µ–Ω—å—à–µ 24 —á–∞—Å–æ–≤)
                    if (cacheAge < 24 * 60 * 60 * 1000) {
                        console.log(`üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ–º –∫—ç—à —Ñ–æ—Ä—É–º–∞ (–≤–æ–∑—Ä–∞—Å—Ç: ${Math.round(cacheAge/3600000)} —á)`);
                        FORUM_DATABASE.gta5rp = data.gta5rp || FORUM_DATABASE.gta5rp;
                        FORUM_DATABASE.majestic = data.majestic || FORUM_DATABASE.majestic;
                        return;
                    }
                } catch (e) {
                    console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è –∫—ç—à–∞');
                }
            }
            
            console.log('üîç –°–∫–∞–Ω–∏—Ä—É—é —Ñ–æ—Ä—É–º—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ...');
            
            // GTA5RP
            scrapeForumSection('gta5rp', FORUM_BASES.gta5rp.rulesSection)
                .then(pages => {
                    FORUM_DATABASE.gta5rp.pages = pages;
                    FORUM_DATABASE.gta5rp.indexed = true;
                    FORUM_DATABASE.gta5rp.lastUpdate = Date.now();
                    console.log(`‚úÖ GTA5RP: ${pages.length} —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ`);
                    saveForumDatabaseToCache();
                })
                .catch(err => console.error('‚ùå –û—à–∏–±–∫–∞ GTA5RP:', err));
            
            // Majestic (—á–µ—Ä–µ–∑ 5 —Å–µ–∫)
            setTimeout(() => {
                scrapeForumSection('majestic', FORUM_BASES.majestic.rulesSection)
                    .then(pages => {
                        FORUM_DATABASE.majestic.pages = pages;
                        FORUM_DATABASE.majestic.indexed = true;
                        FORUM_DATABASE.majestic.lastUpdate = Date.now();
                        console.log(`‚úÖ Majestic: ${pages.length} —Å—Ç—Ä–∞–Ω–∏—Ü –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ`);
                        saveForumDatabaseToCache();
                    })
                    .catch(err => console.error('‚ùå –û—à–∏–±–∫–∞ Majestic:', err));
            }, 5000);
        }
        
        // –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ —Ñ–æ—Ä—É–º–∞
        async function scrapeForumSection(forumKey, sectionUrl) {
            console.log(`üì• –°–∫–∞–Ω–∏—Ä—É—é: ${sectionUrl}`);
            
            try {
                const html = await fetchPageHTML(sectionUrl);
                if (!html) return [];
                
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');
                
                const threadLinks = [];
                const selectors = [
                    'a.PreviewTooltip',
                    '.structItem-title a',
                    'h3.threadTitle a',
                    '.discussionListItem .title a'
                ];
                
                for (const selector of selectors) {
                    const links = doc.querySelectorAll(selector);
                    links.forEach(link => {
                        const href = link.getAttribute('href');
                        const title = link.textContent?.trim() || '';
                        
                        if (href && title && href.includes('threads/')) {
                            let fullUrl = href;
                            if (href.startsWith('/')) {
                                fullUrl = FORUM_BASES[forumKey].baseUrl + href;
                            }
                            
                            threadLinks.push({
                                title: title,
                                url: fullUrl,
                                forum: forumKey
                            });
                        }
                    });
                    
                    if (threadLinks.length > 0) break;
                }
                
                console.log(`üìä –ù–∞–π–¥–µ–Ω–æ ${threadLinks.length} —Ç–µ–º`);
                return threadLinks.slice(0, 20); // –ü–µ—Ä–≤—ã–µ 20
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
                return [];
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        async function fetchPageHTML(url) {
            const corsProxies = [
                'https://api.allorigins.win/raw?url=',
                'https://corsproxy.io/?',
                'https://api.codetabs.com/v1/proxy?quest=',
                'https://cors-anywhere.herokuapp.com/',
                'https://thingproxy.freeboard.io/fetch/',
                'https://yacdn.org/proxy/'
            ];
            
            for (const proxy of corsProxies) {
                try {
                    const response = await fetch(proxy + encodeURIComponent(url), {
                        method: 'GET',
                        headers: { 'Accept': 'text/html' }
                    });
                    
                    if (response.ok) {
                        return await response.text();
                    }
                } catch (err) {
                    continue;
                }
            }
            
            return null;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
        function saveForumDatabaseToCache() {
            try {
                const data = {
                    timestamp: Date.now(),
                    gta5rp: FORUM_DATABASE.gta5rp,
                    majestic: FORUM_DATABASE.majestic
                };
                
                localStorage.setItem('forum_database_cache', JSON.stringify(data));
                console.log('üíæ –ë–∞–∑–∞ —Ñ–æ—Ä—É–º–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞');
            } catch (e) {
                console.warn('‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫—ç—à');
            }
        }
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üîç –£–ú–ù–´–ô –ü–û–ò–°–ö –ü–û –ë–ê–ó–ï –° –£–ß–ï–¢–û–ú –°–ï–†–í–ï–†–ê
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function searchInForumDatabase(question, serverName, userServer) {
            const lowerQ = question.toLowerCase();
            const forumKey = serverName.toLowerCase().includes('majestic') ? 'majestic' : 'gta5rp';
            const database = FORUM_DATABASE[forumKey];
            
            if (!database.indexed || database.pages.length === 0) {
                console.log('‚ö†Ô∏è –ë–∞–∑–∞ –µ—â–µ –Ω–µ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∞');
                return [];
            }
            
            console.log(`üîç –ò—â—É –≤ –±–∞–∑–µ ${forumKey} (${database.pages.length} —Å—Ç—Ä–∞–Ω–∏—Ü)`);
            
            const results = [];
            const keywords = extractSearchKeywords(lowerQ);
            
            for (const page of database.pages) {
                const pageTitle = page.title.toLowerCase();
                let score = 0;
                
                // –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
                for (const keyword of keywords) {
                    if (pageTitle.includes(keyword)) {
                        score += 3;
                    }
                }
                
                // –°–µ—Ä–≤–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢
                if (userServer && pageTitle.includes(userServer.toLowerCase())) {
                    score += 5;
                }
                
                if (score > 0) {
                    results.push({ ...page, score: score });
                }
            }
            
            results.sort((a, b) => b.score - a.score);
            
            if (results.length > 0) {
                console.log(`‚úÖ –ù–∞–π–¥–µ–Ω–æ ${results.length} —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö:`);
                results.slice(0, 3).forEach((r, i) => {
                    console.log(`  ${i+1}. ${r.title.substring(0, 60)}... (${r.score})`);
                });
            }
            
            return results.slice(0, 2);
        }
        
        // –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
        function extractSearchKeywords(question) {
            const keywords = [];
            const q = question.toLowerCase();
            
            if (q.includes('dm') || q.includes('—É–±–∏–π')) keywords.push('dm', 'rdm', '—É–±–∏–π—Å—Ç–≤');
            if (q.includes('vdm') || q.includes('–º–∞—à–∏–Ω')) keywords.push('vdm', '—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç');
            if (q.includes('pg')) keywords.push('pg', 'powergaming');
            if (q.includes('mg')) keywords.push('mg', 'metagaming');
            if (q.includes('nlr')) keywords.push('nlr');
            if (q.includes('–∑–µ–ª–µ–Ω') || q.includes('–±–æ–ª—å–Ω–∏—Ü')) keywords.push('–∑–µ–ª–µ–Ω', 'green', '–∑–æ–Ω–∞');
            if (q.includes('–≥–µ—Ç—Ç–æ') || q.includes('–±–∞–Ω–¥')) keywords.push('–≥–µ—Ç—Ç–æ', 'ghetto');
            if (q.includes('–≥—Ä–∞–±') || q.includes('–æ–≥—Ä–∞–±–ª')) keywords.push('–æ–≥—Ä–∞–±–ª', '–≥—Ä–∞–±–µ–∂');
            if (q.includes('–ø–æ—Ö–∏—Ç')) keywords.push('–ø–æ—Ö–∏—â', '–∑–∞–ª–æ–∂–Ω–∏–∫');
            if (q.includes('–≥–æ—Å') || q.includes('–ø–æ–ª–∏—Ü')) keywords.push('–≥–æ—Å—É–¥–∞—Ä', 'police', 'ems');
            if (q.includes('—Ñ—Ä–∞–∫—Ü')) keywords.push('—Ñ—Ä–∞–∫—Ü', '–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü');
            
            return keywords;
        }

        // –ö—ç—à –¥–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª (—á—Ç–æ–±—ã –Ω–µ –ø–∞—Ä—Å–∏—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑)
        const rulesCache = {};

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üåê –§–£–ù–ö–¶–ò–Ø –ü–ê–†–°–ò–ù–ì–ê –ü–†–ê–í–ò–õ –° –§–û–†–£–ú–ê
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üíæ CACHE API - –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ —Ñ–æ—Ä—É–º–∞
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        const CACHE_NAME = 'badgrules-forum-cache-v1';
        const CACHE_EXPIRY_MS = 7 * 24 * 60 * 60 * 1000; // 7 –¥–Ω–µ–π
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Cache API
        async function saveToCacheAPI(url, content) {
            if (!('caches' in window)) {
                console.warn('‚ö†Ô∏è Cache API –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
                return;
            }
            
            try {
                const cache = await caches.open(CACHE_NAME);
                const response = new Response(JSON.stringify({
                    content: content,
                    timestamp: Date.now()
                }), {
                    headers: { 'Content-Type': 'application/json' }
                });
                
                await cache.put(url, response);
                console.log('üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ Cache API:', url);
            } catch (e) {
                console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ Cache API:', e);
            }
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ Cache API
        async function loadFromCacheAPI(url) {
            if (!('caches' in window)) return null;
            
            try {
                const cache = await caches.open(CACHE_NAME);
                const response = await cache.match(url);
                
                if (!response) return null;
                
                const data = await response.json();
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏
                const age = Date.now() - data.timestamp;
                if (age > CACHE_EXPIRY_MS) {
                    console.log('üóëÔ∏è –ö—ç—à —É—Å—Ç–∞—Ä–µ–ª:', url);
                    await cache.delete(url);
                    return null;
                }
                
                console.log('üì¶ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ Cache API:', url);
                return data.content;
            } catch (e) {
                console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è Cache API:', e);
                return null;
            }
        }
        
        // –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä–æ–≥–æ –∫—ç—à–∞
        async function clearExpiredCache() {
            if (!('caches' in window)) return;
            
            try {
                const cache = await caches.open(CACHE_NAME);
                const requests = await cache.keys();
                let deletedCount = 0;
                
                for (const request of requests) {
                    const response = await cache.match(request);
                    if (response) {
                        const data = await response.json();
                        const age = Date.now() - data.timestamp;
                        
                        if (age > CACHE_EXPIRY_MS) {
                            await cache.delete(request);
                            deletedCount++;
                        }
                    }
                }
                
                if (deletedCount > 0) {
                    console.log(`üóëÔ∏è –û—á–∏—â–µ–Ω–æ ${deletedCount} —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∑–∞–ø–∏—Å–µ–π`);
                }
            } catch (e) {
                console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –∫—ç—à–∞:', e);
            }
        }
        
        // –û—á–∏—â–∞–µ–º –∫—ç—à –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', () => {
            clearExpiredCache();
        });

        async function fetchRulesFromForum(url) {
            // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–∞–º—è—Ç—å (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)
            if (rulesCache[url]) {
                console.log('üì¶ –ü—Ä–∞–≤–∏–ª–∞ –∏–∑ –ø–∞–º—è—Ç–∏:', url);
                return rulesCache[url];
            }
            
            // 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º Cache API (—Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å)
            const cachedContent = await loadFromCacheAPI(url);
            if (cachedContent) {
                rulesCache[url] = cachedContent; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –ø–∞–º—è—Ç—å –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
                return cachedContent;
            }

            console.log('üåê –ó–∞–≥—Ä—É–∂–∞—é –ø—Ä–∞–≤–∏–ª–∞ —Å:', url);
            
            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º CORS –ø—Ä–æ–∫—Å–∏ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–æ—Ä—É–º—É
                // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ CORS –ø—Ä–æ–∫—Å–∏ (–ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ)
                const corsProxies = [
                    'https://api.allorigins.win/raw?url=',
                    'https://corsproxy.io/?',
                    'https://api.codetabs.com/v1/proxy?quest=',
                    'https://cors-anywhere.herokuapp.com/',
                    'https://thingproxy.freeboard.io/fetch/',
                    'https://yacdn.org/proxy/',
                    // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞–¥–µ–∂–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
                    'https://proxy.cors.sh/',
                    'https://api.allorigins.win/get?url=',
                ];

                let response = null;
                let proxyUsed = null;

                // –ü—Ä–æ–±—É–µ–º —Ä–∞–∑–Ω—ã–µ –ø—Ä–æ–∫—Å–∏
                for (const proxy of corsProxies) {
                    try {
                        const proxyUrl = proxy + encodeURIComponent(url);
                        response = await fetch(proxyUrl, {
                            method: 'GET',
                            headers: {
                                'Accept': 'text/html,application/xhtml+xml'
                            }
                        });

                        if (response.ok) {
                            proxyUsed = proxy;
                            console.log('‚úÖ –ü—Ä–æ–∫—Å–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:', proxy);
                            break;
                        }
                    } catch (err) {
                        console.warn('‚ö†Ô∏è –ü—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:', proxy);
                        continue;
                    }
                }

                if (!response || !response.ok) {
                    console.warn('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏');
                    return null;
                }

                const html = await response.text();
                
                // –ü–∞—Ä—Å–∏–º HTML
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');

                // –ò–∑–≤–ª–µ–∫–∞–µ–º —Ç–µ–∫—Å—Ç –ø—Ä–∞–≤–∏–ª –∏–∑ —Ä–∞–∑–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤
                const selectors = [
                    '.messageText',           // XenForo forum
                    '.message-body',          
                    '.bbWrapper',
                    'article .content',
                    '.post-content',
                    'main article',
                    '.fr-view'
                ];

                let rulesText = '';
                
                for (const selector of selectors) {
                    const elements = doc.querySelectorAll(selector);
                    if (elements.length > 0) {
                        elements.forEach(el => {
                            const text = el.textContent || el.innerText || '';
                            if (text.length > 100) { // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∫–æ—Ä–æ—Ç–∫–∏–µ —Ç–µ–∫—Å—Ç—ã
                                rulesText += text + '\n\n';
                            }
                        });
                        
                        if (rulesText.length > 500) {
                            break; // –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–µ–∫—Å—Ç–∞
                        }
                    }
                }

                // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏, –±–µ—Ä–µ–º –≤–µ—Å—å body
                if (rulesText.length < 100) {
                    rulesText = doc.body?.textContent || doc.body?.innerText || '';
                }

                // –û—á–∏—â–∞–µ–º —Ç–µ–∫—Å—Ç
                rulesText = rulesText
                    .replace(/\s+/g, ' ')           // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–µ–ª—ã
                    .replace(/\n{3,}/g, '\n\n')     // –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–Ω–æ—Å—ã
                    .trim()
                    .substring(0, 5000);            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä

                if (rulesText.length > 100) {
                    console.log('‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã, —Å–∏–º–≤–æ–ª–æ–≤:', rulesText.length);
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –í–°–ï —É—Ä–æ–≤–Ω–∏ –∫—ç—à–∞
                    rulesCache[url] = rulesText;              // –ü–∞–º—è—Ç—å
                    saveRuleCacheToStorage();                  // localStorage
                    saveToCacheAPI(url, rulesText);           // Cache API
                    
                    return rulesText;
                } else {
                    console.warn('‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–∞ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–µ –∏–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
                    return null;
                }

            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø—Ä–∞–≤–∏–ª:', error);
                return null;
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üéØ –£–ú–ù–´–ô –í–´–ë–û–† –°–°–´–õ–û–ö –ù–ê –û–°–ù–û–í–ï –í–û–ü–†–û–°–ê
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        function selectRelevantLinks(question, serverName) {
            const lowerQ = question.toLowerCase();
            const selectedLinks = [];
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–µ—Ä–≤–µ—Ä
            const isMajestic = serverName.toLowerCase().includes('majestic');
            const isGTA5RP = !isMajestic;
            
            console.log(`üîç –ò—â—É —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Ç–µ–º—ã –¥–ª—è: "${question}"`);
            console.log(`üìä –î–æ—Å—Ç—É–ø–Ω–æ —Ç–µ–º: ${RULES_TOPICS.length}`);
            
            // –ò—â–µ–º —Ç–µ–º—ã –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
            for (const topic of RULES_TOPICS) {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å–µ—Ä–≤–µ—Ä—É
                const topicDesc = topic.description.toLowerCase();
                const topicUrl = topic.url.toLowerCase();
                
                if (isMajestic && !topicUrl.includes('majestic')) continue;
                if (isGTA5RP && !topicUrl.includes('gta5rp') && !topicUrl.includes('gta-5')) continue;
                
                // –°—á–∏—Ç–∞–µ–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
                let matchScore = 0;
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Ç–µ–º—ã
                for (const keyword of topic.keywords) {
                    if (lowerQ.includes(keyword)) {
                        matchScore += 2; // –ü—Ä—è–º–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –≤–æ–ø—Ä–æ—Å–µ
                    }
                    if (topicDesc.includes(keyword)) {
                        matchScore += 1; // –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –≤ –æ–ø–∏—Å–∞–Ω–∏–∏
                    }
                }
                
                // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–ª–æ–≤ –≤ –≤–æ–ø—Ä–æ—Å–µ
                if (lowerQ.includes('–æ—Å–Ω–æ–≤–Ω') && topicDesc.includes('–æ—Å–Ω–æ–≤–Ω')) matchScore += 3;
                if (lowerQ.includes('—á—Ç–æ —Ç–∞–∫–æ–µ') && topicDesc.includes('–æ—Å–Ω–æ–≤–Ω')) matchScore += 2;
                
                if (matchScore > 0) {
                    selectedLinks.push({
                        topic: topic,
                        score: matchScore,
                        reason: `–°–æ–≤–ø–∞–¥–µ–Ω–∏–π: ${matchScore}`
                    });
                }
            }
            
            // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
            selectedLinks.sort((a, b) => b.score - a.score);
            
            // –õ–æ–≥–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            if (selectedLinks.length > 0) {
                console.log(`‚úÖ –ù–∞–π–¥–µ–Ω–æ ${selectedLinks.length} —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ç–µ–º:`);
                selectedLinks.slice(0, 3).forEach((link, i) => {
                    console.log(`  ${i+1}. ${link.topic.description.substring(0, 60)}... (Score: ${link.score})`);
                });
            } else {
                console.warn('‚ö†Ô∏è –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ç–µ–º –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –±–µ—Ä—É –ø–µ—Ä–≤—É—é –æ—Å–Ω–æ–≤–Ω—É—é');
                
                // Fallback - –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é —Ç–µ–º—É –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
                for (const topic of RULES_TOPICS) {
                    const topicUrl = topic.url.toLowerCase();
                    if (isMajestic && topicUrl.includes('majestic')) {
                        selectedLinks.push({ topic: topic, score: 0, reason: 'Fallback' });
                        break;
                    }
                    if (isGTA5RP && (topicUrl.includes('gta5rp') || topicUrl.includes('gta-5'))) {
                        selectedLinks.push({ topic: topic, score: 0, reason: 'Fallback' });
                        break;
                    }
                }
            }
            
            // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º 2 —Ç–µ–º–∞–º–∏ –¥–ª—è —Å–∫–æ—Ä–æ—Å—Ç–∏
            return selectedLinks.slice(0, 2).map(link => ({
                description: link.topic.description,
                url: link.topic.url
            }));
        }

        const chatMessages = document.getElementById('chatMessages');
        const chatInput = document.getElementById('chatInput');
        const sendButton = document.getElementById('sendButton');
        const welcomeScreen = document.getElementById('welcomeScreen');
        let isProcessing = false;

        function getCurrentTime() {
            const now = new Date();
            return now.toLocaleTimeString('ru-RU', { hour: '2-digit', minute: '2-digit' });
        }

        function addMessage(text, isBot = false) {
            welcomeScreen.classList.add('hidden');

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isBot ? 'bot' : 'user'}`;

            messageDiv.innerHTML = `
                <div class="message-avatar">${isBot ? 'BR' : '–í—ã'}</div>
                <div class="message-content">
                    <div class="message-text">${text}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                </div>
            `;

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è HTML —Å–æ–æ–±—â–µ–Ω–∏–π (–∫—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏)
        function addMessageHtml(htmlContent, isBot = false) {
            welcomeScreen.classList.add('hidden');

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isBot ? 'bot' : 'user'}`;

            messageDiv.innerHTML = `
                <div class="message-avatar">${isBot ? 'BR' : '–í—ã'}</div>
                <div class="message-content">
                    <div class="message-text html-content">${htmlContent}</div>
                    <div class="message-time">${getCurrentTime()}</div>
                </div>
            `;

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function addTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="message-avatar">BR</div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                    </div>
                </div>
            `;
            chatMessages.appendChild(typingDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ü§ñ –§–£–ù–ö–¶–ò–ò –î–õ–Ø –í–´–ó–û–í–ê AI –ú–û–î–ï–õ–ï–ô
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        async function callClaude(messages, config) {
            try {
                // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —Ñ–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
                const claudeMessages = messages.map(msg => ({
                    role: msg.role,
                    content: typeof msg.content === 'string' ? msg.content : msg.content
                }));

                const response = await fetch(config.endpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'anthropic-version': '2023-06-01',
                        'x-api-key': config.apiKey || ''
                    },
                    body: JSON.stringify({
                        model: config.model,
                        max_tokens: 1024,
                        messages: claudeMessages
                    })
                });

                if (!response.ok) {
                    const errorData = await response.text();
                    console.error('Claude API response:', errorData);
                    throw new Error(`Claude API error: ${response.status}`);
                }

                const data = await response.json();
                if (data.content && data.content[0] && data.content[0].text) {
                    return data.content[0].text;
                }
                throw new Error('Invalid response format from Claude');
            } catch (error) {
                console.error('Claude API error:', error);
                // –ù–∞ claude.ai –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π API
                if (config.useBuiltIn) {
                    return await getBuiltInResponse(messages);
                }
                throw new Error('Claude: ' + error.message);
            }
        }

        // –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π API –¥–ª—è claude.ai
        async function getBuiltInResponse(messages) {
            // –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ–π fallback –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ API
            const lastMessage = messages[messages.length - 1];
            if (typeof lastMessage.content === 'string') {
                return `Claude –æ—Ç–≤–µ—Ç: ${lastMessage.content.substring(0, 50)}...`;
            }
            return '–ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç Claude';
        }

        async function callGemini(prompt, config) {
            try {
                if (!config.apiKey) {
                    throw new Error('API –∫–ª—é—á –¥–ª—è Gemini –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                }

                const response = await fetch(`${config.endpoint}?key=${config.apiKey}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }],
                        generationConfig: {
                            maxOutputTokens: 1024
                        }
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json().catch(() => ({}));
                    console.error('Gemini API error:', errorData);
                    throw new Error(`Gemini API error: ${response.status}`);
                }

                const data = await response.json();
                if (data.candidates && data.candidates[0] && data.candidates[0].content && data.candidates[0].content.parts[0]) {
                    return data.candidates[0].content.parts[0].text;
                }
                throw new Error('Invalid response format from Gemini');
            } catch (error) {
                console.error('Gemini API error:', error);
                throw new Error('Gemini: ' + error.message);
            }
        }

        async function callDeepSeek(messages, config) {
            try {
                if (!config.apiKey) {
                    throw new Error('API –∫–ª—é—á –¥–ª—è DeepSeek –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                }

                const response = await fetch(config.endpoint, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${config.apiKey}`
                    },
                    body: JSON.stringify({
                        model: config.model,
                        messages: messages,
                        max_tokens: 1024
                    })
                });

                if (!response.ok) {
                    const errorData = await response.text();
                    console.error('DeepSeek API error:', errorData);
                    throw new Error(`DeepSeek API error: ${response.status}`);
                }

                const data = await response.json();
                if (data.choices && data.choices[0] && data.choices[0].message) {
                    return data.choices[0].message.content;
                }
                throw new Error('Invalid response format from DeepSeek');
            } catch (error) {
                console.error('DeepSeek API error:', error);
                throw new Error('DeepSeek: ' + error.message);
            }
        }

        async function callGrok(messages, config) {
            try {
                if (!config.apiKey) {
                    throw new Error('API –∫–ª—é—á –¥–ª—è Grok –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω');
                }

                const response = await fetch('https://api.x.ai/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${config.apiKey}`
                    },
                    body: JSON.stringify({
                        model: 'grok-beta',
                        messages: messages,
                        max_tokens: 1024
                    })
                });

                if (!response.ok) {
                    const errorData = await response.text();
                    console.error('Grok API error:', errorData);
                    throw new Error(`Grok API error: ${response.status}`);
                }

                const data = await response.json();
                if (data.choices && data.choices[0] && data.choices[0].message) {
                    return data.choices[0].message.content;
                }
                throw new Error('Invalid response format from Grok');
            } catch (error) {
                console.error('Grok API error:', error);
                throw new Error('Grok: ' + error.message);
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìö –ü–û–õ–ù–ê–Ø –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô - –ü–†–ê–í–ò–õ–ê GTA 5 RP –ò MAJESTIC RP
        // –ò—Å—Ç–æ—á–Ω–∏–∫: forum.gta5rp.com, forum.majestic-rp.ru
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
        function getCurrentProject() {
            const selection = loadServerSelection();
            return selection ? selection.project : 'gta5rp';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–æ—Ä—É–º–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
        function getCurrentForumUrl() {
            const project = getCurrentProject();
            return project === 'majestic' ? 'forum.majestic-rp.ru' : 'forum.gta5rp.com';
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìö –ë–ê–ó–ê –ü–†–ê–í–ò–õ GTA 5 RP
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        const GTA5RP_RULES = {
            'dm': {
                term: 'DM (DeathMatch)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ –∏–ª–∏ –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ –±–µ–∑ –≤–µ—Å–∫–æ–π IC (In Character) –ø—Ä–∏—á–∏–Ω—ã.',
                rule: '6.9',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 30 –º–∏–Ω—É—Ç',
                examples: ['–£–±–∏–π—Å—Ç–≤–æ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã', '–°—Ç—Ä–µ–ª—å–±–∞ –ø–æ –ø—Ä–æ—Ö–æ–∂–∏–º'],
                source: 'forum.gta5rp.com'
            },
            'rdm': {
                term: 'RDM (Random DeathMatch)',
                definition: '–¢–æ –∂–µ —á—Ç–æ –∏ DM - —É–±–∏–π—Å—Ç–≤–æ —Å–ª—É—á–∞–π–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –±–µ–∑ —Ä–æ–ª–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω—ã.',
                rule: '6.9',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 30 –º–∏–Ω—É—Ç',
                examples: ['–£–±–∏–π—Å—Ç–≤–æ –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è', '–ê—Ç–∞–∫–∞ –±–µ–∑ IC –ø—Ä–∏—á–∏–Ω—ã'],
                source: 'forum.gta5rp.com'
            },
            'vdm': {
                term: 'VDM (Vehicle DeathMatch)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ –∏–ª–∏ –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ —Å –ø–æ–º–æ—â—å—é —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞ –±–µ–∑ IC –ø—Ä–∏—á–∏–Ω—ã.',
                rule: '6.3',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 30 –º–∏–Ω—É—Ç',
                examples: ['–ù–∞–º–µ—Ä–µ–Ω–Ω—ã–π —Ç–∞—Ä–∞–Ω –∏–≥—Ä–æ–∫–æ–≤', '–°–±–∏–≤–∞–Ω–∏–µ –ø–µ—à–µ—Ö–æ–¥–æ–≤'],
                source: 'forum.gta5rp.com'
            },
            'db': {
                term: 'DB (DriveBy)',
                definition: '–ù–∞–º–µ—Ä–µ–Ω–Ω–æ–µ —É–±–∏–π—Å—Ç–≤–æ/–Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞/—Ç–∞—Ä–∞–Ω –±–µ–∑ –≤–µ—Å–∫–æ–π IC –ø—Ä–∏—á–∏–Ω—ã –Ω–∞ –ª—é–±–æ–º –≤–∏–¥–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞, –∞ —Ç–∞–∫–∂–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–±–∏–≤–∞–Ω–∏–µ —Å —Ü–µ–ª—å—é –Ω–µ –¥–∞—Ç—å –ø–æ–¥–Ω—è—Ç—å—Å—è.',
                rule: '6.3',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 30 –º–∏–Ω—É—Ç',
                examples: ['–°—Ç—Ä–µ–ª—å–±–∞ –∏–∑ –º–∞—à–∏–Ω—ã –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã', '–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Ç–∞—Ä–∞–Ω'],
                source: 'forum.gta5rp.com'
            },
            'rk': {
                term: 'RK (Revenge Kill)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–∞ —Å —Ü–µ–ª—å—é –º–µ—Å—Ç–∏, –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ –º–µ—Å—Ç–æ —Å–º–µ—Ä—Ç–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç.',
                rule: '6.4',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 20 –º–∏–Ω—É—Ç',
                examples: ['–í–µ—Ä–Ω—É–ª—Å—è —É–±–∏—Ç—å –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏', '–ú–µ—Å—Ç—å –∑–∞ –ø—Ä–µ–¥—ã–¥—É—â—É—é —Å–º–µ—Ä—Ç—å'],
                source: 'forum.gta5rp.com'
            },
            'nlr': {
                term: 'NLR (New Life Rule)',
                definition: '–ü–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞, –æ–Ω –∑–∞–±—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 15 –º–∏–Ω—É—Ç —Å–≤–æ–µ–π –∂–∏–∑–Ω–∏, –∞ —Ç–∞–∫–∂–µ —Ç–æ, —á—Ç–æ –ø—Ä–∏–≤–µ–ª–æ –∫ —Å–º–µ—Ä—Ç–∏.',
                rule: '6.4.1',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 60 –º–∏–Ω—É—Ç',
                examples: ['–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —É–±–∏–π—Ü–µ –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏', '–í–æ–∑–≤—Ä–∞—Ç –∫ –º–µ—Å—Ç—É —Å–º–µ—Ä—Ç–∏'],
                source: 'forum.gta5rp.com'
            },
            'tk': {
                term: 'TK (Team Kill)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ/–Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ —á–ª–µ–Ω–∞–º —Å–≤–æ–µ–π –∏–ª–∏ —Å–æ—é–∑–Ω–æ–π —Ñ—Ä–∞–∫—Ü–∏–∏, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –±–µ–∑ IC –ø—Ä–∏—á–∏–Ω—ã.',
                rule: '6.5',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 30 –º–∏–Ω—É—Ç',
                examples: ['–£–±–∏–π—Å—Ç–≤–æ —á–ª–µ–Ω–∞ —Å–≤–æ–µ–π –±–∞–Ω–¥—ã', '–ê—Ç–∞–∫–∞ —Å–æ—é–∑–Ω–∏–∫–∞'],
                source: 'forum.gta5rp.com'
            },
            'sk': {
                term: 'SK (Spawn Kill)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ/–Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ –Ω–∞ —Ç–∏—Ç—É–ª—å–Ω–æ–π —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –ª—é–±–æ–π —Ñ—Ä–∞–∫—Ü–∏–∏/–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –Ω–∞ –º–µ—Å—Ç–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–∫–∞.',
                rule: '6.6',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω 120 –º–∏–Ω—É—Ç –∏ warn',
                examples: ['–£–±–∏–π—Å—Ç–≤–æ –Ω–∞ —Å–ø–∞–≤–Ω–µ –±–∞–Ω–¥—ã', '–ö–µ–º–ø–∏–Ω–≥ —É –≤—ã—Ö–æ–¥–∞ –∏–∑ –∑–¥–∞–Ω–∏—è'],
                source: 'forum.gta5rp.com'
            },
            'pg': {
                term: 'PG (PowerGaming)',
                definition: '–ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤ –ø–µ—Ä—Å–æ–Ω–∞–∂—É, –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–∞—Ö–∞ –∑–∞ —Å–≤–æ—é –∂–∏–∑–Ω—å.',
                rule: '6.7',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 30 –º–∏–Ω—É—Ç',
                examples: ['–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≥—Ä–æ–∑—ã –æ—Ä—É–∂–∏–µ–º', '–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –∫–æ–≥–¥–∞ –ø–æ —Ç–µ–±–µ —Å—Ç—Ä–µ–ª—è—é—Ç –±–æ–ª–µ–µ 30 —Å–µ–∫—É–Ω–¥'],
                notes: [
                    '–ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –≤–∞—Å –æ–±–æ–≥–Ω–∞–ª–∏ –∏ —Å–æ–∑–¥–∞–ª–∏ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ',
                    '–ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –¥–≤–∏–∂–µ–Ω–∏–µ, –µ—Å–ª–∏ –ø–æ –≤–∞–º –≤–µ–¥—É—Ç –æ–≥–æ–Ω—å –±–æ–ª–µ–µ ~30 —Å–µ–∫—É–Ω–¥',
                    '1 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ —Å–∏–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –±—Ä–æ–Ω–µ –º–æ–∂–µ—Ç —Å–æ–ø—Ä–æ—Ç–∏–≤–ª—è—Ç—å—Å—è 2 –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–∏–º'
                ],
                source: 'forum.gta5rp.com'
            },
            'mg': {
                term: 'MG (MetaGaming)',
                definition: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ OOC –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ IC. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—É—é –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–∂ –Ω–∏–∫–∞–∫ –Ω–µ –º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å –≤ –∏–≥—Ä–µ.',
                rule: '6.8 / 5.3',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 30 –º–∏–Ω—É—Ç / –ú—É—Ç –æ—Ç 120 –º–∏–Ω—É—Ç / –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ç 1 –¥–Ω—è',
                examples: ['–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ—ã –∏–∑ Discord –≤ –∏–≥—Ä–µ', '–£–∑–Ω–∞–ª–∏ –∏–º—è –∏–∑ –Ω–∏–∫–Ω–µ–π–º–∞ –Ω–∞–¥ –≥–æ–ª–æ–≤–æ–π'],
                source: 'forum.gta5rp.com'
            },
            'ck': {
                term: 'CK (Character Kill)',
                definition: 'RP-—É–±–∏–π—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ - –ø–æ–ª–Ω–∞—è –ª–∏–∫–≤–∏–¥–∞—Ü–∏—è –∏–∑ RP-–º–∏—Ä–∞. –†–∞–∑—Ä–µ—à–µ–Ω —Ç–æ–ª—å–∫–æ —Å —Ü–µ–ª—å—é –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.',
                rule: '6.10',
                punishment: '–¢—Ä–µ–±—É–µ—Ç—Å—è –æ–¥–æ–±—Ä–µ–Ω–Ω–∞—è –†–ü —Å–∏—Ç—É–∞—Ü–∏—è –Ω–∞ —Ñ–æ—Ä—É–º–µ',
                notes: ['–ü–æ—Å–ª–µ –æ–¥–æ–±—Ä–µ–Ω–∏—è –∏–≥—Ä–æ–∫ –æ–±—è–∑–∞–Ω —Å–º–µ–Ω–∏—Ç—å –ò–º—è_–§–∞–º–∏–ª–∏—é', 'FCK –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –†–ü —Å–∏—Ç—É–∞—Ü–∏–∏'],
                source: 'forum.gta5rp.com'
            },
            'fck': {
                term: 'FCK (Faction Character Kill)',
                definition: '–§—Ä–∞–∫—Ü–∏–æ–Ω–Ω–æ–µ CK - —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Å —Ü–µ–ª—å—é –ª–∏–∫–≤–∏–¥–∞—Ü–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ü–æ—Å–ª–µ FCK –∏–≥—Ä–æ–∫ –Ω–µ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –±–µ–∑ —Å–º–µ–Ω—ã –Ω–∏–∫–Ω–µ–π–º–∞.',
                rule: '6.10',
                punishment: '–ó–∞–ø—Ä–µ—Ç –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç –≤–æ —Ñ—Ä–∞–∫—Ü–∏—é –±–µ–∑ —Å–º–µ–Ω—ã –Ω–∏–∫–∞',
                source: 'forum.gta5rp.com'
            },
            'nonrp': {
                term: 'NonRP',
                definition: '–ü–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–∞—Ä—É—à–∞—é—â–µ–µ RolePlay —Ä–µ–∂–∏–º –∏–≥—Ä—ã.',
                rule: '6.1',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω/–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ',
                source: 'forum.gta5rp.com'
            },
            'nrd': {
                term: 'NRD (NonRP Drive)',
                definition: '–í–æ–∂–¥–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –≤ –Ω–µ–ø—Ä–∞–≤–¥–æ–ø–æ–¥–æ–±–Ω–æ–π –º–∞–Ω–µ—Ä–µ.',
                rule: '6.2',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 10 –º–∏–Ω—É—Ç',
                examples: ['–ï–∑–¥–∞ –ø–æ –≤—Å—Ç—Ä–µ—á–∫–µ —Å –î–¢–ü', '–ï–∑–¥–∞ –ø–æ –≥–æ—Ä–∞–º –Ω–∞ –ª–µ–≥–∫–æ–≤—É—à–∫–µ'],
                source: 'forum.gta5rp.com'
            },
            '–∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞': {
                term: '–ó–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞ (–ó–ó)',
                definition: '–ó–∞—â–∏—â–µ–Ω–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –≥–¥–µ –∑–∞–ø—Ä–µ—â–µ–Ω—ã —É–±–∏–π—Å—Ç–≤–∞ –∏ –ø–æ—Ö–∏—â–µ–Ω–∏—è.',
                rule: '6.11',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω 120 –º–∏–Ω—É—Ç –∏ warn',
                notes: ['Government, FIB, NEWS, LSPD, EMS, LSSD'],
                source: 'forum.gta5rp.com'
            },
            '–≥–µ—Ç—Ç–æ': {
                term: '–ì–µ—Ç—Ç–æ —Ä–∞–π–æ–Ω—ã',
                definition: '–†–∞–π–æ–Ω—ã –≥–¥–µ —Ä–∞–∑—Ä–µ—à–µ–Ω –∫—Ä–∏–º–∏–Ω–∞–ª –±–µ–∑ –º–∞—Å–∫–∏ –∏ DM —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å–∏–ª–æ–≤—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä —É—á–∞—Å—Ç–Ω–∏–∫–∞–º –±–∞–Ω–¥.',
                notes: ['–¶–≤–µ—Ç–Ω—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ', '–†–∞–∑—Ä–µ—à–µ–Ω –ª—é–±–æ–π –∫—Ä–∏–º–∏–Ω–∞–ª –±–µ–∑ –º–∞—Å–∫–∏'],
                source: 'forum.gta5rp.com'
            },
            '–ø–æ—Ö–∏—â–µ–Ω–∏–µ': {
                term: '–ü—Ä–∞–≤–∏–ª–∞ –ø–æ—Ö–∏—â–µ–Ω–∏—è',
                definition: '–ü–æ—Ö–∏—â–µ–Ω–∏—è –º–æ–≥—É—Ç –ø—Ä–æ–≤–æ–¥–∏—Ç—å—Å—è –¥–ª—è: –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–∫—É–ø–∞, –ø–æ—Å–≤—è—â–µ–Ω–∏–π –∏–ª–∏ FCK.',
                rule: '6.33',
                notes: ['–£–Ω–∏–∂–µ–Ω–∏–µ –∂–µ—Ä—Ç–≤—ã —Ç–æ–ª—å–∫–æ –ø–æ —Å–æ–≥–ª–∞—Å–∏—é', '–ó–∞–ø—Ä–µ—â–µ–Ω–æ –≤—ã—Ö–æ–¥–∏—Ç—å –∏–∑ –∏–≥—Ä—ã –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ'],
                source: 'forum.gta5rp.com'
            },
            '–º–∞—Å–∫–∞': {
                term: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞—Å–∫–∏',
                definition: '–ü–æ—Ö–∏—â–µ–Ω–∏—è, –∑–∞—Ö–≤–∞—Ç—ã, —Ç–µ—Ä–∞–∫—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—Ç—å—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—Å–∫–∏.',
                rule: '6.31',
                punishment: '–î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 30 –º–∏–Ω—É—Ç',
                exceptions: ['–°–∞–º–æ–æ–±–æ—Ä–æ–Ω–∞', 'IC –∫–æ–Ω—Ñ–ª–∏–∫—Ç', '–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –≥–µ—Ç—Ç–æ'],
                source: 'forum.gta5rp.com'
            },
            '—á–∏—Ç—ã': {
                term: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–∏—Ç–æ–≤',
                definition: '–ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª—é–±—ã—Ö —á–∏—Ç–æ–≤, –º–æ–¥–æ–≤, –ø—Ä–æ–≥—Ä–∞–º–º, —Å–∫—Ä–∏–ø—Ç–æ–≤, –¥–∞—é—â–∏—Ö –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ.',
                rule: '1.7',
                punishment: '–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ç 3 –¥–Ω–µ–π / –ü–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ / –ß–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫',
                source: 'forum.gta5rp.com'
            },
            '–æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è': {
                term: '–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è',
                definition: '–ó–∞–ø—Ä–µ—â–µ–Ω—ã –ª—é–±—ã–µ —Ñ–æ—Ä–º—ã –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏–π, –∏–∑–¥–µ–≤–∞—Ç–µ–ª—å—Å—Ç–≤, —Ä–∞—Å–∏–∑–º–∞, –Ω–∞—Ü–∏–æ–Ω–∞–ª–∏–∑–º–∞ –≤ OOC —á–∞—Ç–∞—Ö.',
                rule: '5.4',
                punishment: '–ú—É—Ç –æ—Ç 180 –º–∏–Ω—É—Ç / –î–µ–º–æ—Ä–≥–∞–Ω –æ—Ç 120 –º–∏–Ω—É—Ç / –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ç 5 –¥–Ω–µ–π',
                source: 'forum.gta5rp.com'
            },
            '—Ç–≤–∏–Ω–∫': {
                term: '–¢–≤–∏–Ω–∫ (–≤—Ç–æ—Ä–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂)',
                definition: '–ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏–º–µ—Ç—å —Ç–≤–∏–Ω–∫ –≤ –∫—Ä–∏–º–∏–Ω–∞–ª—å–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è—Ö, –µ—Å–ª–∏ –¥—Ä—É–≥–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –≤ –≥–æ—Å. —Å—Ç—Ä—É–∫—Ç—É—Ä–µ.',
                rule: '2.6',
                punishment: 'Warn –Ω–∞ –≤—Å–µ—Ö –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤–æ —Ñ—Ä–∞–∫—Ü–∏—è—Ö',
                source: 'forum.gta5rp.com'
            },
            '—Ñ–ª—É–¥': {
                term: '–§–ª—É–¥',
                definition: '3 –∏ –±–æ–ª–µ–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –æ–¥–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞.',
                rule: '5.6',
                punishment: '–ú—É—Ç –æ—Ç 60 –º–∏–Ω—É—Ç',
                source: 'forum.gta5rp.com'
            },
            '–¥–µ–º–æ—Ä–≥–∞–Ω': {
                term: '–î–µ–º–æ—Ä–≥–∞–Ω',
                definition: '–¢—é—Ä–µ–º–Ω–æ–µ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –≤ –∏–≥—Ä–µ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è.',
                examples: ['–î–µ–º–æ—Ä–≥–∞–Ω 30 –º–∏–Ω—É—Ç', '–î–µ–º–æ—Ä–≥–∞–Ω 120 –º–∏–Ω—É—Ç'],
                source: 'forum.gta5rp.com'
            },
            'ic': {
                term: 'IC (In Character)',
                definition: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –¥–µ–π—Å—Ç–≤–∏—è –≤ —Ä–∞–º–∫–∞—Ö —Ä–æ–ª–µ–≤–æ–π –∏–≥—Ä—ã, –æ—Ç –ª–∏—Ü–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.',
                source: 'forum.gta5rp.com'
            },
            'ooc': {
                term: 'OOC (Out Of Character)',
                definition: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –æ–±—â–µ–Ω–∏–µ –≤–Ω–µ —Ä–æ–ª–µ–≤–æ–π –∏–≥—Ä—ã, –æ—Ç –ª–∏—Ü–∞ –∏–≥—Ä–æ–∫–∞.',
                examples: ['–ß–∞—Ç /b', 'Discord', '–†–µ–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è'],
                source: 'forum.gta5rp.com'
            }
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìö –ë–ê–ó–ê –ü–†–ê–í–ò–õ MAJESTIC RP
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        const MAJESTIC_RULES = {
            'dm': {
                term: 'DM (DeathMatch)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ –∏–ª–∏ –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π –∏–≥—Ä–æ–∫—É –±–µ–∑ –≤–µ—Å–æ–º–æ–π –≤–Ω—É—Ç—Ä–∏–∏–≥—Ä–æ–≤–æ–π (RP) –ø—Ä–∏—á–∏–Ω—ã.',
                rule: '3.1',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 30 –º–∏–Ω—É—Ç / –ë–∞–Ω',
                examples: ['–£–±–∏–π—Å—Ç–≤–æ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞', '–°—Ç—Ä–µ–ª—å–±–∞ –±–µ–∑ –ø—Ä–∏—á–∏–Ω—ã'],
                source: 'forum.majestic-rp.ru'
            },
            'rdm': {
                term: 'RDM (Random DeathMatch)',
                definition: '–°–ª—É—á–∞–π–Ω–æ–µ —É–±–∏–π—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ –±–µ–∑ –∫–∞–∫–æ–π-–ª–∏–±–æ —Ä–æ–ª–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω—ã.',
                rule: '3.1',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 30 –º–∏–Ω—É—Ç / –ë–∞–Ω',
                examples: ['–£–±–∏–π—Å—Ç–≤–æ –ø–µ—Ä–≤–æ–≥–æ –≤—Å—Ç—Ä–µ—á–Ω–æ–≥–æ', '–ú–∞—Å—Å–æ–≤—ã–µ —É–±–∏–π—Å—Ç–≤–∞'],
                source: 'forum.majestic-rp.ru'
            },
            'vdm': {
                term: 'VDM (Vehicle DeathMatch)',
                definition: '–ù–∞–º–µ—Ä–µ–Ω–Ω–æ–µ —É–±–∏–π—Å—Ç–≤–æ –∏–ª–∏ –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —É—Ä–æ–Ω–∞ –∏–≥—Ä–æ–∫–∞–º —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–≥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞.',
                rule: '3.2',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 30 –º–∏–Ω—É—Ç / –ë–∞–Ω',
                examples: ['–¢–∞—Ä–∞–Ω –∏–≥—Ä–æ–∫–æ–≤', '–ù–∞–µ–∑–¥ –Ω–∞ –ø–µ—à–µ—Ö–æ–¥–æ–≤'],
                source: 'forum.majestic-rp.ru'
            },
            'rk': {
                term: 'RK (Revenge Kill)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–∞ —Å —Ü–µ–ª—å—é –º–µ—Å—Ç–∏ –ø–æ—Å–ª–µ —Å–≤–æ–µ–π —Å–º–µ—Ä—Ç–∏. –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –º–µ—Å—Ç–æ —Å–º–µ—Ä—Ç–∏ —Å —Ü–µ–ª—å—é –æ—Ç–æ–º—Å—Ç–∏—Ç—å.',
                rule: '3.3',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 20 –º–∏–Ω—É—Ç',
                examples: ['–í–µ—Ä–Ω—É–ª—Å—è –Ω–∞ –º–µ—Å—Ç–æ —Å–º–µ—Ä—Ç–∏ –¥–ª—è –º–µ—Å—Ç–∏', '–ü—Ä–µ—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —É–±–∏–π—Ü—ã'],
                source: 'forum.majestic-rp.ru'
            },
            'nlr': {
                term: 'NLR (New Life Rule)',
                definition: '–ü—Ä–∞–≤–∏–ª–æ –Ω–æ–≤–æ–π –∂–∏–∑–Ω–∏ - –ø–æ—Å–ª–µ —Å–º–µ—Ä—Ç–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂ –∑–∞–±—ã–≤–∞–µ—Ç –≤—Å–µ —Å–æ–±—ã—Ç–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–µ–ª–∏ –∫ –µ–≥–æ –≥–∏–±–µ–ª–∏.',
                rule: '3.4',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 60 –º–∏–Ω—É—Ç',
                examples: ['–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —É–±–∏–π—Ü–µ', '–í–æ–∑–≤—Ä–∞—Ç –∫ –º–µ—Å—Ç—É —Å–æ–±—ã—Ç–∏–π'],
                notes: ['–ü–µ—Ä—Å–æ–Ω–∞–∂ –Ω–µ –ø–æ–º–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –º–∏–Ω—É—Ç –¥–æ —Å–º–µ—Ä—Ç–∏'],
                source: 'forum.majestic-rp.ru'
            },
            'pg': {
                term: 'PG (PowerGaming)',
                definition: '–û—Ç—ã–≥—Ä—ã—à –Ω–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–≤–µ—Ä—Ö—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å—Ç—Ä–∞—Ö–∞ —Å–º–µ—Ä—Ç–∏.',
                rule: '3.5',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 30 –º–∏–Ω—É—Ç',
                examples: ['–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –æ—Ä—É–∂–∏—è', '–°–≤–µ—Ä—Ö—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏'],
                notes: ['–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —É–≥—Ä–æ–∑—ã'],
                source: 'forum.majestic-rp.ru'
            },
            'mg': {
                term: 'MG (MetaGaming)',
                definition: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—É—á–µ–Ω–Ω–æ–π –≤–Ω–µ –∏–≥—Ä—ã (Discord, —Å—Ç—Ä–∏–º, –∏ —Ç.–¥.) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –≤ –∏–≥—Ä–µ.',
                rule: '3.6',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 30 –º–∏–Ω—É—Ç / –ë–∞–Ω',
                examples: ['–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ—ã –∏–∑ Discord', '–°—Ç—Ä–∏–º—Å–Ω–∞–π–ø–∏–Ω–≥', '–ß—Ç–µ–Ω–∏–µ –Ω–∏–∫–æ–≤ –Ω–∞–¥ –≥–æ–ª–æ–≤–∞–º–∏'],
                source: 'forum.majestic-rp.ru'
            },
            'tk': {
                term: 'TK (Team Kill)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ —á–ª–µ–Ω–æ–≤ —Å–≤–æ–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —Ñ—Ä–∞–∫—Ü–∏–∏ –∏–ª–∏ –∫–æ–º–∞–Ω–¥—ã –±–µ–∑ —Ä–æ–ª–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω—ã.',
                rule: '3.7',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 30 –º–∏–Ω—É—Ç / –£–≤–æ–ª—å–Ω–µ–Ω–∏–µ –∏–∑ —Ñ—Ä–∞–∫—Ü–∏–∏',
                source: 'forum.majestic-rp.ru'
            },
            'sk': {
                term: 'SK (Spawn Kill)',
                definition: '–£–±–∏–π—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤ –Ω–∞ —Ç–æ—á–∫–∞—Ö –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è –∏–ª–∏ –≤ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö –∑–æ–Ω–∞—Ö.',
                rule: '3.8',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 60 –º–∏–Ω—É—Ç / –ë–∞–Ω',
                source: 'forum.majestic-rp.ru'
            },
            'ck': {
                term: 'CK (Character Kill)',
                definition: '–ü–æ–ª–Ω–æ–µ —É–±–∏–π—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º –≤—Å–µ–π –µ–≥–æ –∏—Å—Ç–æ—Ä–∏–∏. –¢—Ä–µ–±—É–µ—Ç —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π.',
                rule: '3.9',
                punishment: '–¢–æ–ª—å–∫–æ —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏',
                notes: ['–¢—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Å–∫–∞—è RP –ø—Ä–∏—á–∏–Ω–∞', '–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'],
                source: 'forum.majestic-rp.ru'
            },
            'fear rp': {
                term: 'Fear RP (–°—Ç—Ä–∞—Ö –∑–∞ –∂–∏–∑–Ω—å)',
                definition: '–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ - –ø–µ—Ä—Å–æ–Ω–∞–∂ –¥–æ–ª–∂–µ–Ω –±–æ—è—Ç—å—Å—è –∑–∞ —Å–≤–æ—é –∂–∏–∑–Ω—å –∫–æ–≥–¥–∞ –µ–º—É —É–≥—Ä–æ–∂–∞—é—Ç –æ—Ä—É–∂–∏–µ–º.',
                rule: '3.10',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 30 –º–∏–Ω—É—Ç',
                examples: ['–ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≥—Ä–æ–∑—ã –ø–∏—Å—Ç–æ–ª–µ—Ç–æ–º', '–ü–æ–±–µ–≥ –ø–æ–¥ –ø—Ä–∏—Ü–µ–ª–æ–º'],
                notes: ['–ü—Ä–∏ —É–≥—Ä–æ–∑–µ –æ—Ä—É–∂–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥—á–∏–Ω—è—Ç—å—Å—è', '–ò—Å–∫–ª—é—á–µ–Ω–∏–µ: —á–∏—Å–ª–µ–Ω–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ 3:1'],
                source: 'forum.majestic-rp.ru'
            },
            'nonrp': {
                term: 'NonRP',
                definition: '–ù–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –Ω–∞—Ä—É—à–∞—é—â–µ–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É —Ä–æ–ª–µ–≤–æ–π –∏–≥—Ä—ã.',
                rule: '3.11',
                punishment: '–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ / –¢—é—Ä—å–º–∞',
                examples: ['–ü—Ä—ã–∂–∫–∏ –Ω–∞ –º–µ—Å—Ç–µ', '–ù–µ—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ –≤–æ–∂–¥–µ–Ω–∏–µ'],
                source: 'forum.majestic-rp.ru'
            },
            '–∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞': {
                term: '–ó–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞ (Green Zone)',
                definition: '–ë–µ–∑–æ–ø–∞—Å–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –≥–¥–µ –∑–∞–ø—Ä–µ—â–µ–Ω—ã –ª—é–±—ã–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∏ –Ω–∞—Å–∏–ª–∏–µ.',
                rule: '4.1',
                punishment: '–¢—é—Ä—å–º–∞ –æ—Ç 60 –º–∏–Ω—É—Ç / –ë–∞–Ω',
                notes: ['–ë–æ–ª—å–Ω–∏—Ü—ã', '–ü–æ–ª–∏—Ü–µ–π—Å–∫–∏–µ —É—á–∞—Å—Ç–∫–∏', '–ì–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è'],
                source: 'forum.majestic-rp.ru'
            },
            '–∫—Ä–∞—Å–Ω–∞—è –∑–æ–Ω–∞': {
                term: '–ö—Ä–∞—Å–Ω–∞—è –∑–æ–Ω–∞ (Red Zone)',
                definition: '–û–ø–∞—Å–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è –≥–¥–µ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∏ PvP –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.',
                rule: '4.2',
                notes: ['–ì–µ—Ç—Ç–æ —Ä–∞–π–æ–Ω—ã', '–ö—Ä–∏–º–∏–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏'],
                source: 'forum.majestic-rp.ru'
            },
            '–≥–µ—Ç—Ç–æ': {
                term: '–ì–µ—Ç—Ç–æ',
                definition: '–ö—Ä–∏–º–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–π–æ–Ω—ã –≥–¥–µ —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —É–±–∏–π—Å—Ç–≤–∞ –∏ –æ–≥—Ä–∞–±–ª–µ–Ω–∏—è —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏.',
                rule: '4.2',
                notes: ['PvP —Ä–∞–∑—Ä–µ—à–µ–Ω', '–ú–∞—Å–∫–∞ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞ –¥–ª—è —á–ª–µ–Ω–æ–≤ –±–∞–Ω–¥'],
                source: 'forum.majestic-rp.ru'
            },
            '–ø–æ—Ö–∏—â–µ–Ω–∏–µ': {
                term: '–ü—Ä–∞–≤–∏–ª–∞ –ø–æ—Ö–∏—â–µ–Ω–∏—è',
                definition: '–ü–æ—Ö–∏—â–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Ç–æ–ª—å–∫–æ —Å —Ä–æ–ª–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω–æ–π –∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –ø—Ä–∞–≤–∏–ª.',
                rule: '5.1',
                notes: ['–ú–∞–∫—Å–∏–º—É–º 2 —á–∞—Å–∞ —É–¥–µ—Ä–∂–∞–Ω–∏—è', '–ó–∞–ø—Ä–µ—â–µ–Ω–æ –ø–æ—Ö–∏—â–∞—Ç—å –≤ –∑–µ–ª–µ–Ω—ã—Ö –∑–æ–Ω–∞—Ö', '–ù–µ–ª—å–∑—è —Ç—Ä–µ–±–æ–≤–∞—Ç—å –±–æ–ª–µ–µ $50,000'],
                source: 'forum.majestic-rp.ru'
            },
            '–æ–≥—Ä–∞–±–ª–µ–Ω–∏–µ': {
                term: '–ü—Ä–∞–≤–∏–ª–∞ –æ–≥—Ä–∞–±–ª–µ–Ω–∏—è',
                definition: '–û–≥—Ä–∞–±–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–æ —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª.',
                rule: '5.2',
                notes: ['–ú–æ–∂–Ω–æ –∑–∞–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º—É–º $10,000', '–ù–µ–ª—å–∑—è –≥—Ä–∞–±–∏—Ç—å –≤ –∑–µ–ª–µ–Ω—ã—Ö –∑–æ–Ω–∞—Ö', '–ù—É–∂–Ω–∞ RP –ø—Ä–∏—á–∏–Ω–∞'],
                source: 'forum.majestic-rp.ru'
            },
            '—á–∏—Ç—ã': {
                term: '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–∏—Ç–æ–≤',
                definition: '–õ—é–±–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –ø—Ä–æ–≥—Ä–∞–º–º –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å—Ç—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ.',
                rule: '1.1',
                punishment: '–ü–µ—Ä–º–∞–Ω–µ–Ω—Ç–Ω—ã–π –±–∞–Ω',
                source: 'forum.majestic-rp.ru'
            },
            '–æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è': {
                term: '–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è',
                definition: '–ó–∞–ø—Ä–µ—â–µ–Ω—ã –æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è, —Ä–∞—Å–∏–∑–º, –¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è –∫–∞–∫ –≤ –∏–≥—Ä–µ —Ç–∞–∫ –∏ –≤–Ω–µ –∏–≥—Ä—ã.',
                rule: '2.1',
                punishment: '–ú—É—Ç / –ë–∞–Ω –æ—Ç 24 —á–∞—Å–æ–≤',
                source: 'forum.majestic-rp.ru'
            },
            'ic': {
                term: 'IC (In Character)',
                definition: '–î–µ–π—Å—Ç–≤–∏—è –∏ –æ–±—â–µ–Ω–∏–µ –æ—Ç –ª–∏—Ü–∞ –≤–∞—à–µ–≥–æ –∏–≥—Ä–æ–≤–æ–≥–æ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.',
                source: 'forum.majestic-rp.ru'
            },
            'ooc': {
                term: 'OOC (Out Of Character)',
                definition: '–û–±—â–µ–Ω–∏–µ –≤–Ω–µ —Ä–æ–ª–∏, –æ—Ç –ª–∏—Ü–∞ –∏–≥—Ä–æ–∫–∞. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —á–∞—Ç /b –¥–ª—è OOC –æ–±—â–µ–Ω–∏—è.',
                source: 'forum.majestic-rp.ru'
            },
            '–¥–µ–º–æ—Ä–≥–∞–Ω': {
                term: '–¢—é—Ä—å–º–∞ (Demorgan)',
                definition: '–ò–≥—Ä–æ–≤–æ–µ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ - –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ –≤ —Ç—é—Ä—å–º—É –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è.',
                source: 'forum.majestic-rp.ru'
            },
            '—Ç–≤–∏–Ω–∫': {
                term: '–¢–≤–∏–Ω–∫ (–í—Ç–æ—Ä–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂)',
                definition: '–í—Ç–æ—Ä–æ–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç–µ. –ó–∞–ø—Ä–µ—â–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –∏–º—É—â–µ—Å—Ç–≤–∞ –º–µ–∂–¥—É –ø–µ—Ä—Å–æ–Ω–∞–∂–∞–º–∏.',
                rule: '2.5',
                punishment: '–ë–∞–Ω / –£–¥–∞–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞',
                source: 'forum.majestic-rp.ru'
            }
        };

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
        function getRulesDatabase() {
            const project = getCurrentProject();
            return project === 'majestic' ? MAJESTIC_RULES : GTA5RP_RULES;
        }

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π - –ó–ê–í–ò–°–ò–¢ –û–¢ –í–´–ë–†–ê–ù–ù–û–ì–û –ü–†–û–ï–ö–¢–ê
        function searchRulesDatabase(query) {
            const lowerQuery = query.toLowerCase();
            const results = [];

            // –ü–æ–ª—É—á–∞–µ–º –±–∞–∑—É –ø—Ä–∞–≤–∏–ª —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
            const rulesDb = getRulesDatabase();
            const forumUrl = getCurrentForumUrl();

            for (const [key, data] of Object.entries(rulesDb)) {
                const searchText = [
                    key,
                    data.term || '',
                    data.definition || '',
                    (data.examples || []).join(' '),
                    (data.notes || []).join(' ')
                ].join(' ').toLowerCase();

                if (searchText.includes(lowerQuery) || lowerQuery.includes(key)) {
                    results.push({ key, ...data, source: forumUrl });
                }
            }

            return results;
        }

        // –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º - –ö–†–ê–°–ò–í–´–ô HTML
        function formatRuleResponse(ruleData) {
            let html = `<div class="rule-card">`;

            // –ó–∞–≥–æ–ª–æ–≤–æ–∫
            html += `<div class="rule-header">
                <span class="rule-icon">üìú</span>
                <span class="rule-title">${ruleData.term}</span>
                ${ruleData.rule ? `<span class="rule-badge">–ü—Ä–∞–≤–∏–ª–æ ${ruleData.rule}</span>` : ''}
            </div>`;

            // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
            html += `<div class="rule-definition">${ruleData.definition}</div>`;

            // –ù–∞–∫–∞–∑–∞–Ω–∏–µ
            if (ruleData.punishment) {
                html += `<div class="rule-section">
                    <div class="punishment-box">
                        <span class="punishment-icon">‚öñÔ∏è</span>
                        <span class="punishment-text">${ruleData.punishment}</span>
                    </div>
                </div>`;
            }

            // –ü—Ä–∏–º–µ—Ä—ã
            if (ruleData.examples && ruleData.examples.length > 0) {
                html += `<div class="rule-section">
                    <div class="rule-section-title">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>
                        –ü—Ä–∏–º–µ—Ä—ã
                    </div>
                    <ul class="examples-list">
                        ${ruleData.examples.map(ex => `<li>${ex}</li>`).join('')}
                    </ul>
                </div>`;
            }

            // –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
            if (ruleData.notes && ruleData.notes.length > 0) {
                html += `<div class="rule-section">
                    <div class="rule-section-title">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å
                    </div>
                    <ul class="notes-list">
                        ${ruleData.notes.map(note => `<li>${note}</li>`).join('')}
                    </ul>
                </div>`;
            }

            // –ò—Å–∫–ª—é—á–µ–Ω–∏—è
            if (ruleData.exceptions) {
                const exceptionsText = Array.isArray(ruleData.exceptions) ? ruleData.exceptions.join(', ') : ruleData.exceptions;
                html += `<div class="rule-section">
                    <div class="rule-section-title">
                        <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                        –ò—Å–∫–ª—é—á–µ–Ω–∏—è
                    </div>
                    <div style="background: rgba(34, 197, 94, 0.1); border-left: 3px solid #22c55e; padding: 0.6rem 1rem; border-radius: 0 8px 8px 0; font-size: 0.9rem; color: #86efac;">
                        ‚úÖ ${exceptionsText}
                    </div>
                </div>`;
            }

            // –ò—Å—Ç–æ—á–Ω–∏–∫
            if (ruleData.source) {
                html += `<div class="rule-source">
                    <span>üîó</span>
                    <span>–ò—Å—Ç–æ—á–Ω–∏–∫:</span>
                    <a href="https://${ruleData.source}" target="_blank">${ruleData.source}</a>
                </div>`;
            }

            html += `</div>`;
            return html;
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        function formatMultipleResults(results) {
            let html = `<div class="multi-results">
                <div style="color: var(--text-secondary); margin-bottom: 0.5rem;">üìö –ù–∞–π–¥–µ–Ω–æ ${results.length} —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:</div>`;

            results.slice(0, 3).forEach((rule, i) => {
                html += `<div class="mini-rule-card">
                    <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                        <span style="font-size: 1.1rem;">üìú</span>
                        <span style="font-weight: 600; color: var(--text-primary);">${rule.term}</span>
                        ${rule.rule ? `<span class="rule-badge" style="margin-left: auto;">–ü—Ä–∞–≤–∏–ª–æ ${rule.rule}</span>` : ''}
                    </div>
                    <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 0.5rem;">${rule.definition}</div>
                    ${rule.punishment ? `<div style="font-size: 0.85rem; color: #ff9999;">‚öñÔ∏è ${rule.punishment}</div>` : ''}
                </div>`;
            });

            if (results.length > 3) {
                html += `<div style="text-align: center; padding: 0.75rem; color: var(--text-secondary); font-size: 0.85rem;">
                    üí° –£—Ç–æ—á–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
                </div>`;
            }

            html += `</div>`;
            return html;
        }

        // –°—Ç–∞—Ä–∞—è –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
        const KNOWLEDGE_BASE = {
            '–∫—Ä–∏–º–∏–Ω–∞–ª': {
                title: 'üè¥ –ö–†–ò–ú–ò–ù–ê–õ - –ü–†–ê–í–ò–õ–ê',
                content: '–°–º–æ—Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞ DM, DB, –ø–æ—Ö–∏—â–µ–Ω–∏–µ, –º–∞—Å–∫–∞, –≥–µ—Ç—Ç–æ'
            },
            '–ø–æ–ª–∏—Ü–∏—è': {
                title: 'üöî –ü–û–õ–ò–¶–ò–Ø',
                content: '–°–º–æ—Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞ –∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞, ems, pg'
            },
            '–º–µ—Ç–∞': {
                title: 'üö´ –ú–ï–¢–ê–ì–ï–ô–ú',
                content: '–°–º–æ—Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–æ MG (MetaGaming)'
            },
            '–∑–æ–Ω—ã': {
                title: 'üìç –ó–û–ù–´',
                content: '–°–º–æ—Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞: –∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞, –≥–µ—Ç—Ç–æ'
            },
            '–Ω–∞–∫–∞–∑–∞–Ω–∏—è': {
                title: '‚öñÔ∏è –ù–ê–ö–ê–ó–ê–ù–ò–Ø',
                content: '–°–º–æ—Ç—Ä–∏: demorgan, warn, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞'
            },
            '—Ñ—Ä–∞–∫—Ü–∏–∏': {
                title: 'üë• –§–†–ê–ö–¶–ò–ò',
                content: '–°–º–æ—Ç—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞: —Ç–≤–∏–Ω–∫, fck, tk'
            },
            '–ø–æ–º–æ—â—å': {
                title: 'üÜò –ü–û–ú–û–©–¨',
                content: '–ó–∞–¥–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–æ–ø—Ä–æ—Å –æ –ø—Ä–∞–≤–∏–ª–∞—Ö, –Ω–∞–ø—Ä–∏–º–µ—Ä: "–ß—Ç–æ —Ç–∞–∫–æ–µ DM?", "–ü—Ä–∞–≤–∏–ª–∞ –ø–æ—Ö–∏—â–µ–Ω–∏—è", "–ß—Ç–æ –∑–∞ NLR?"'
            }
        };

        // –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
        function searchKnowledgeBase(query) {
            const lq = query.toLowerCase();

            // –°–Ω–∞—á–∞–ª–∞ –∏—â–µ–º –≤ –ø–æ–ª–Ω–æ–π –±–∞–∑–µ –ø—Ä–∞–≤–∏–ª RULES_DATABASE
            const rulesResults = searchRulesDatabase(lq);

            if (rulesResults.length > 0) {
                // –ù–∞—à–ª–∏ –≤ –±–∞–∑–µ –ø—Ä–∞–≤–∏–ª - —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç –∫–∞–∫ HTML
                let htmlContent = '';

                if (rulesResults.length === 1) {
                    htmlContent = formatRuleResponse(rulesResults[0]);
                } else {
                    htmlContent = formatMultipleResults(rulesResults);
                }

                return {
                    isHtml: true,
                    content: htmlContent
                };
            }

            // –ï—Å–ª–∏ –Ω–µ –Ω–∞—à–ª–∏ –≤ RULES_DATABASE, –∏—â–µ–º –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
            const keywords = {
                '–∫—Ä–∏–º–∏–Ω–∞–ª': ['–∫—Ä–∏–º–∏–Ω–∞–ª', '–ø—Ä–µ—Å—Ç—É–ø', '–≥—Ä–∞–±–µ', '–≤–æ—Ä–æ–≤'],
                '–ø–æ–ª–∏—Ü–∏—è': ['–ø–æ–ª–∏—Ü', '–∫–æ–ø', '–ª—Å–ø–¥', 'police'],
                '–º–µ—Ç–∞': ['–º–µ—Ç–∞', '–º–µ—Ç–∞–≥–µ–π–º'],
                '–∑–æ–Ω—ã': ['–∑–æ–Ω–∞', '—Ä–∞–π–æ–Ω'],
                '–Ω–∞–∫–∞–∑–∞–Ω–∏—è': ['–Ω–∞–∫–∞–∑', '—à—Ç—Ä–∞—Ñ', '–±–∞–Ω'],
                '—Ñ—Ä–∞–∫—Ü–∏–∏': ['—Ñ—Ä–∞–∫—Ü', '–æ—Ä–≥–∞–Ω–∏–∑'],
                '–ø–æ–º–æ—â—å': ['–ø–æ–º–æ—â—å', '–∫–æ–º–∞–Ω–¥', '—Å–ø—Ä–∞–≤']
            };

            for (const [key, words] of Object.entries(keywords)) {
                if (words.some(word => lq.includes(word))) {
                    const kb = KNOWLEDGE_BASE[key];
                    if (kb) {
                        return {
                            isHtml: false,
                            title: kb.title,
                            content: kb.content
                        };
                    }
                }
            }

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–µ—Ä–º–∏–Ω—ã –∏–∑ –±–∞–∑—ã –ø—Ä–∞–≤–∏–ª
            const ruleTerms = ['dm', 'rdm', 'vdm', 'db', 'rk', 'nlr', 'tk', 'sk', 'pg', 'mg', 'ck', 'fck', 'nonrp', 'nrd', '–¥–µ–º–æ—Ä–≥–∞–Ω', 'warn', 'ic', 'ooc'];

            for (const term of ruleTerms) {
                if (lq.includes(term)) {
                    const rule = RULES_DATABASE[term];
                    if (rule) {
                        return {
                            isHtml: true,
                            content: formatRuleResponse(rule)
                        };
                    }
                }
            }

            return null;
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üîç –ü–û–ò–°–ö –ü–û –§–û–†–£–ú–ê–ú MAJESTIC RP –ò GTA5RP
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        const FORUMS = [
            'https://forum.majestic-rp.ru',
            'https://forum.gta5rp.com'
        ];

        async function searchForums(query) {
            console.log('üîç –ò—â—É –Ω–∞ —Ñ–æ—Ä—É–º–∞—Ö:', query);
            const allLinks = [];

            for (const forum of FORUMS) {
                try {
                    const searchQuery = `site:${forum.replace('https://', '')} ${query}`;
                    const googleUrl = `https://www.google.com/search?q=${encodeURIComponent(searchQuery)}`;
                    const corsProxy = 'https://api.allorigins.win/raw?url=';

                    const response = await fetch(corsProxy + encodeURIComponent(googleUrl), {
                        method: 'GET',
                        headers: {
                            'Accept': 'text/html'
                        }
                    }).catch(err => {
                        console.warn('–ü—Ä–æ–∫—Å–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—Ä—è–º–æ–π –ø–æ–∏—Å–∫');
                        return null;
                    });

                    if (response && response.ok) {
                        const html = await response.text();
                        const parser = new DOMParser();
                        const doc = parser.parseFromString(html, 'text/html');

                        const links = [];
                        doc.querySelectorAll('a[href*="' + forum + '"]').forEach(link => {
                            const href = link.href;
                            if (href.includes(forum) && !links.includes(href) && links.length < 2) {
                                links.push(href);
                            }
                        });

                        allLinks.push(...links);
                        console.log(`‚úÖ –ù–∞–π–¥–µ–Ω–æ –Ω–∞ ${forum}:`, links.length);
                    }
                } catch (error) {
                    console.warn(`‚ö†Ô∏è –û—à–∏–±–∫–∞ –ø–æ–∏—Å–∫–∞ –Ω–∞ ${forum}:`, error.message);
                }
            }

            return allLinks.length > 0 ? allLinks : getDefaultForumLinks(query);
        }

        async function fetchForumContent(url) {
            try {
                const corsProxy = 'https://api.allorigins.win/raw?url=';
                const response = await fetch(corsProxy + encodeURIComponent(url), {
                    method: 'GET',
                    headers: {
                        'Accept': 'text/html'
                    }
                }).catch(err => {
                    console.warn('CORS –ø—Ä–æ–∫—Å–∏ –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
                    return null;
                });

                if (!response || !response.ok) {
                    console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç —Å', url);
                    return null;
                }

                const html = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');

                let content = '';
                const selectors = ['.message-body', '.messageText', '.content', 'article', '.post-content', 'main', '.main-content'];

                for (const selector of selectors) {
                    const elements = doc.querySelectorAll(selector);
                    if (elements.length > 0) {
                        elements.forEach(el => {
                            const text = el.textContent.trim();
                            if (text.length > 50) {
                                content += text + '\n\n';
                            }
                        });
                        if (content.length > 100) break;
                    }
                }

                if (!content || content.length < 100) {
                    content = doc.body?.textContent || '';
                }

                return content.replace(/\s+/g, ' ').trim().substring(0, 3000);
            } catch (error) {
                console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:', error.message);
                return null;
            }
        }

        function getDefaultForumLinks(query) {
            const lq = query.toLowerCase();
            const links = [];

            if (lq.includes('fear') || lq.includes('—Ñ–∏—Ä') || lq.includes('—Å—Ç—Ä–∞—Ö')) {
                links.push('https://forum.majestic-rp.ru/forums/pravila-servera/');
                links.push('https://forum.gta5rp.com/forums/pravila/');
            }
            if (lq.includes('meta') || lq.includes('–º–µ—Ç–∞')) {
                links.push('https://forum.majestic-rp.ru/forums/pravila-servera/');
                links.push('https://forum.gta5rp.com/forums/pravila/');
            }

            if (links.length === 0) {
                links.push('https://forum.majestic-rp.ru/forums/pravila-servera/');
                links.push('https://forum.gta5rp.com/forums/pravila/');
            }

            return links;
        }

        async function sendMessage() {
            const message = chatInput.value.trim();
            if (!message || isProcessing) return;

            isProcessing = true;
            sendButton.disabled = true;

            addMessage(message, false);
            chatInput.value = '';
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ AI –¥—É–º–∞–µ—Ç
            addTypingIndicator();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
            const statusMsg = addMessage('üîç –ò—â—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —Ñ–æ—Ä—É–º–µ...', true);
            setTimeout(() => {
                if (statusMsg && statusMsg.parentNode) {
                    statusMsg.remove();
                }
            }, 2000);

            try {
                const config = API_CONFIG[currentModel];
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º
                if (!config) {
                    throw new Error(`–ú–æ–¥–µ–ª—å ${currentModel} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞`);
                }
                
                if (!config.enabled) {
                    throw new Error(`${config.name} –æ—Ç–∫–ª—é—á–µ–Ω–∞. ${config.status}`);
                }
                
                if (!config.apiKey) {
                    throw new Error(`–ù–µ—Ç API –∫–ª—é—á–∞ –¥–ª—è ${config.name}. –ü–æ–ª—É—á–∏—Ç–µ –∫–ª—é—á –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–¥.`);
                }
                
                console.log(`ü§ñ ${config.name} (${config.icon}) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å...`);
                
                // –ü–æ–ª—É—á–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
                const selectedServer = loadServerSelection();
                const serverName = selectedServer ? 
                    (selectedServer.project === 'gta5rp' ? 'GTA 5 RP' : 'Majestic RP') : 
                    'GTA 5 RP';
                
                const forumUrl = selectedServer ? 
                    (selectedServer.project === 'gta5rp' ? 'forum.gta5rp.com' : 'forum.majestic-rp.ru') : 
                    'forum.gta5rp.com';
                
                // AI –∏—â–µ—Ç –Ω–∞ —Ñ–æ—Ä—É–º–µ
                console.log(`üîç ${config.name} –∏—â–µ—Ç –æ—Ç–≤–µ—Ç –Ω–∞ ${forumUrl}...`);
                const aiResult = await getAIResponseFromForum(message, serverName, forumUrl);
                
                removeTypingIndicator();
                
                if (aiResult && aiResult.text) {
                    const formatted = formatBeautifulAIResponse(
                        aiResult.text, 
                        serverName, 
                        forumUrl, 
                        aiResult.wasParsed || false
                    );
                    addMessageHtml(formatted, true);
                } else {
                    showBeautifulHelp(message, serverName);
                }

            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞:', error);
                removeTypingIndicator();
                
                const errorHtml = formatBeautifulError(error.message);
                addMessageHtml(errorHtml, true);
            } finally {
                isProcessing = false;
                sendButton.disabled = false;
                chatInput.focus();
            }
        }

        // üåê AI –∏—â–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ù–ê –§–û–†–£–ú–ï
        async function getAIResponseFromForum(question, serverName, forumUrl) {
            const config = API_CONFIG[currentModel];
            
            console.log(`üì° –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫ ${config.name}...`);
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // üë§ –û–ü–†–ï–î–ï–õ–Ø–ï–ú –°–ï–†–í–ï–† –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            
            let userServer = null;
            try {
                const userData = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
                if (userData && userData.server) {
                    userServer = userData.server;
                    console.log(`üë§ –°–µ—Ä–≤–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${userServer}`);
                }
            } catch (e) {
                console.log('‚ÑπÔ∏è –°–µ—Ä–≤–µ—Ä –Ω–µ —É–∫–∞–∑–∞–Ω –≤ –ø—Ä–æ—Ñ–∏–ª–µ');
            }
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // üåê –ò–©–ï–ú –í –ê–í–¢–û-–°–ö–†–ê–ü–ï–†–ï (–ü–†–ò–û–†–ò–¢–ï–¢!)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            
            console.log('üîç –ò—â—É –≤ –±–∞–∑–µ –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü...');
            const forumResults = searchInForumDatabase(question, serverName, userServer);
            
            let forumRulesText = '';
            let loadedTopicsInfo = [];
            
            // –ï—Å–ª–∏ –Ω–∞—à–ª–∏ –≤ –±–∞–∑–µ - –∏—Å–ø–æ–ª—å–∑—É–µ–º
            if (forumResults.length > 0) {
                console.log(`‚úÖ –ò—Å–ø–æ–ª—å–∑—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏–∑ –±–∞–∑—ã (${forumResults.length} —à—Ç.)`);
                
                for (const page of forumResults) {
                    console.log(`üì• –ó–∞–≥—Ä—É–∂–∞—é: ${page.title.substring(0, 50)}...`);
                    
                    const rules = await fetchRulesFromForum(page.url);
                    
                    if (rules) {
                        forumRulesText += `\n\n=== ${page.title.toUpperCase()} ===\n${rules}\n`;
                        loadedTopicsInfo.push(page.title);
                        console.log(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ: (${rules.length} —Å–∏–º–≤–æ–ª–æ–≤)`);
                    }
                }
            }
            
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // üìÑ FALLBACK: TXT –§–ê–ô–õ
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            
            if (!forumRulesText) {
                console.log('üìÑ –ë–∞–∑–∞ –Ω–µ –ø–æ–º–æ–≥–ª–∞, –∏—Å–ø–æ–ª—å–∑—É—é TXT...');
                const relevantLinks = selectRelevantLinks(question, serverName);
                
                for (const link of relevantLinks) {
                    const shortDesc = link.description.substring(0, 50);
                    console.log(`üì• –ó–∞–≥—Ä—É–∂–∞—é: ${shortDesc}...`);
                    
                    const rules = await fetchRulesFromForum(link.url);
                    
                    if (rules) {
                        forumRulesText += `\n\n=== ${link.description.toUpperCase()} ===\n${rules}\n`;
                        loadedTopicsInfo.push(link.description);
                        console.log(`‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ: (${rules.length} —Å–∏–º–≤–æ–ª–æ–≤)`);
                    }
                }
            }
            
            // –ï—Å–ª–∏ —Å–æ–≤—Å–µ–º –Ω–∏—á–µ–≥–æ - –±–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
            if (!forumRulesText) {
                console.warn('‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É—é –±–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç');
                forumRulesText = `
–ë–ê–ó–û–í–´–ô –ö–û–ù–¢–ï–ö–°–¢ (–ø—Ä–∞–≤–∏–ª–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã):
- –ó–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞ (Government, Police, EMS, News) - –ü–û–õ–ù–û–°–¢–¨–Æ –ó–ê–ü–†–ï–©–ï–ù–´ –≥—Ä–∞–±–µ–∂–∏ –∏ —É–±–∏–π—Å—Ç–≤–∞
- –¢–∞–∫—Å–∏, –∑–∞–ø—Ä–∞–≤–∫–∏, –º–∞–≥–∞–∑–∏–Ω—ã - –ù–ï –ó–ï–õ–ï–ù–ê–Ø –ó–û–ù–ê (–º–æ–∂–Ω–æ –≥—Ä–∞–±–∏—Ç—å —Å –º–∞—Å–∫–æ–π)
- –ì–µ—Ç—Ç–æ - —Ä–∞–∑—Ä–µ—à–µ–Ω –∫—Ä–∏–º–∏–Ω–∞–ª —Å RP –ø—Ä–∏—á–∏–Ω–æ–π
- –ú–∞—Å–∫–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê –¥–ª—è –≥—Ä–∞–±–µ–∂–µ–π
- DM = —É–±–∏–π—Å—Ç–≤–æ –±–µ–∑ RP –ø—Ä–∏—á–∏–Ω—ã (–∑–∞–ø—Ä–µ—â–µ–Ω–æ)
- VDM = —É–±–∏–π—Å—Ç–≤–æ –º–∞—à–∏–Ω–æ–π (–∑–∞–ø—Ä–µ—â–µ–Ω–æ)
`;
            } else {
                console.log('‚úÖ –ü—Ä–∞–≤–∏–ª–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
            }
            
            // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞
            const serverInfo = userServer ? `\n\n‚ö†Ô∏è –í–ê–ñ–ù–û: –ò–≥—Ä–æ–∫ –∏–≥—Ä–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ${userServer}. –ï—Å–ª–∏ –ø—Ä–∞–≤–∏–ª–∞ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤, –¥–∞–π –æ—Ç–≤–µ—Ç –¥–ª—è ${userServer}.` : '';
            
            // –£–õ–£–ß–®–ï–ù–ù–´–ô –ü–†–û–ú–ü–¢
            const prompt = `–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç –ø–æ ${serverName} (—Ñ–æ—Ä—É–º: ${forumUrl}).${serverInfo}

–í–û–ü–†–û–°: "${question}"

–ü–†–ê–í–ò–õ–ê –° –§–û–†–£–ú–ê:
${forumRulesText}

–ò–ù–°–¢–†–£–ö–¶–ò–ò:
1. –ò—Å–ø–æ–ª—å–∑—É–π –¢–û–õ–¨–ö–û –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –ø—Ä–∞–≤–∏–ª –≤—ã—à–µ
2. –ï—Å–ª–∏ "–º–æ–∂–Ω–æ –ª–∏..." - –¥–∞–π –ß–ï–¢–ö–ò–ô –æ—Ç–≤–µ—Ç: –î–ê –∏–ª–∏ –ù–ï–¢
3. –û–±—ä—è—Å–Ω–∏ –ü–û–ß–ï–ú–£ (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
4. –£–∫–∞–∂–∏ –Ω–æ–º–µ—Ä –ø—Ä–∞–≤–∏–ª–∞ –µ—Å–ª–∏ –Ω–∞–π–¥–µ—à—å
5. –ú–∞–∫—Å–∏–º—É–º 4-5 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
${userServer ? `6. –£—á–∏—Ç—ã–≤–∞–π —á—Ç–æ –∏–≥—Ä–æ–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ${userServer}` : ''}

–ü–†–ò–ú–ï–†–´:
–í–æ–ø—Ä–æ—Å: "–ú–æ–∂–Ω–æ –≥—Ä–∞–±–∏—Ç—å —Ç–∞–∫—Å–∏?"
–û—Ç–≤–µ—Ç: "–î–ê, —Ç–∞–∫—Å–∏ –º–æ–∂–Ω–æ –≥—Ä–∞–±–∏—Ç—å. –¢–∞–∫—Å–∏ –Ω–µ –∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞. –ù—É–∂–Ω–∞ –º–∞—Å–∫–∞. –ü—Ä–∞–≤–∏–ª–æ 6.31."

–í–æ–ø—Ä–æ—Å: "–ú–æ–∂–Ω–æ —É–±–∏—Ç—å –≤ –±–æ–ª—å–Ω–∏—Ü–µ?"
–û—Ç–≤–µ—Ç: "–ù–ï–¢, –±–æ–ª—å–Ω–∏—Ü–∞ (EMS) - –∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞. –£–±–∏–π—Å—Ç–≤–∞ —Ç–∞–º –∑–∞–ø—Ä–µ—â–µ–Ω—ã. –ü—Ä–∞–≤–∏–ª–æ 6.11."

–û–¢–í–ï–¢–¨:`;
            
            try {
                let response;
                
                if (config.type === 'openai') {
                    response = await callOpenAICompatible(config, prompt);
                } else if (config.type === 'gemini') {
                    response = await callGeminiAPI(config, prompt);
                } else if (config.type === 'huggingface') {
                    response = await callHuggingFaceAPI(config, prompt);
                }
                
                console.log(`‚úÖ ${config.name} –æ—Ç–≤–µ—Ç–∏–ª —É—Å–ø–µ—à–Ω–æ`);
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—ä–µ–∫—Ç —Å —Ç–µ–∫—Å—Ç–æ–º –∏ —Ñ–ª–∞–≥–æ–º –ø–∞—Ä—Å–∏–Ω–≥–∞
                return {
                    text: response,
                    wasParsed: forumRulesText.length > 500 // –ï—Å–ª–∏ –∑–∞–≥—Ä—É–∑–∏–ª–∏ –ø—Ä–∞–≤–∏–ª–∞
                };
                
            } catch (error) {
                console.error(`‚ùå –û—à–∏–±–∫–∞ ${config.name}:`, error);
                
                // –î–µ—Ç–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
                if (error.message.includes('429')) {
                    throw new Error(`${config.name}: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ (429). –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å –∏–ª–∏ –ø–æ–¥–æ–∂–¥–∏—Ç–µ.`);
                } else if (error.message.includes('401') || error.message.includes('403')) {
                    throw new Error(`${config.name}: –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á (401/403).`);
                } else if (error.message.includes('quota')) {
                    throw new Error(`${config.name}: –ö–≤–æ—Ç–∞ –∏—Å—á–µ—Ä–ø–∞–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å.`);
                } else if (error.message.includes('CORS') || error.message.includes('Failed to fetch')) {
                    throw new Error(`${config.name}: –û—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å.`);
                }
                
                throw new Error(`${config.name}: ${error.message}`);
            }
        }

        // üî∑ –í—ã–∑–æ–≤ OpenAI-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö API
        async function callOpenAICompatible(config, prompt) {
            const response = await fetch(config.endpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${config.apiKey}`
                },
                body: JSON.stringify({
                    model: config.model,
                    messages: [{
                        role: 'user',
                        content: prompt
                    }],
                    temperature: 0.3,
                    max_tokens: 500
                })
            });
            
            if (!response.ok) {
                const errorText = await response.text();
                console.error(`${config.name} error:`, errorText);
                throw new Error(`${config.name} API error: ${response.status}`);
            }
            
            const data = await response.json();
            
            if (data.choices && data.choices[0] && data.choices[0].message) {
                console.log(`‚úÖ ${config.name} –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω`);
                return data.choices[0].message.content;
            }
            
            throw new Error(`–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç ${config.name}`);
        }

        // üî∑ –í—ã–∑–æ–≤ Google Gemini API
        async function callGeminiAPI(config, prompt) {
            const response = await fetch(`${config.endpoint}?key=${config.apiKey}`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    contents: [{
                        parts: [{
                            text: prompt
                        }]
                    }],
                    generationConfig: {
                        temperature: 0.3,
                        maxOutputTokens: 500
                    }
                })
            });
            
            if (!response.ok) {
                const errorText = await response.text();
                console.error('Gemini error:', errorText);
                throw new Error(`Gemini API error: ${response.status}`);
            }
            
            const data = await response.json();
            
            if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                console.log('‚úÖ Gemini –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω');
                return data.candidates[0].content.parts[0].text;
            }
            
            throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç Gemini');
        }

        // ü§ó –í—ã–∑–æ–≤ HuggingFace API
        async function callHuggingFaceAPI(config, prompt) {
            const response = await fetch(config.endpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${config.apiKey}`
                },
                body: JSON.stringify({
                    inputs: prompt,
                    parameters: {
                        max_new_tokens: 500,
                        temperature: 0.3,
                        return_full_text: false
                    }
                })
            });
            
            if (!response.ok) {
                const errorText = await response.text();
                console.error('HuggingFace error:', errorText);
                throw new Error(`HuggingFace API error: ${response.status}`);
            }
            
            const data = await response.json();
            
            // HuggingFace –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å –º–∞—Å—Å–∏–≤ –∏–ª–∏ –æ–±—ä–µ–∫—Ç
            if (Array.isArray(data) && data[0]) {
                console.log('‚úÖ HuggingFace –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω');
                return data[0].generated_text || data[0].text || '–ù–µ—Ç –æ—Ç–≤–µ—Ç–∞';
            } else if (data.generated_text) {
                console.log('‚úÖ HuggingFace –æ—Ç–≤–µ—Ç –ø–æ–ª—É—á–µ–Ω');
                return data.generated_text;
            }
            
            throw new Error('–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –æ—Ç HuggingFace');
        }

        // üé® –ö–†–ê–°–ò–í–´–ô –¥–∏–∑–∞–π–Ω –æ—Ç–≤–µ—Ç–∞ AI
        function formatBeautifulAIResponse(text, serverName, forumUrl, wasParsed = false) {
            const config = API_CONFIG[currentModel];
            const modelIcon = config ? config.icon : 'ü§ñ';
            const modelName = config ? config.name : currentModel.toUpperCase();
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Å—ã–ª–∫—É –Ω–∞ —Ñ–æ—Ä—É–º –¥–ª—è –ø—Ä–∞–≤–∏–ª
            const forumLink = forumUrl.includes('gta5rp') ? 
                'https://forum.gta5rp.com/forums/pravila/' : 
                'https://forum.majestic-rp.ru/forums/pravila-servera/';
            
            // –í—ã–¥–µ–ª—è–µ–º –î–ê/–ù–ï–¢ –≤ —Ç–µ–∫—Å—Ç–µ
            let formattedText = text
                .replace(/(^|\s)(–î–ê|DA|YES)(\s|,|\.|$)/gi, '$1<span style="color: #10b981; font-weight: 700;">$2</span>$3')
                .replace(/(^|\s)(–ù–ï–¢|NET|NO)(\s|,|\.|$)/gi, '$1<span style="color: #ef4444; font-weight: 700;">$2</span>$3')
                .replace(/–ü—Ä–∞–≤–∏–ª–æ\s+([\d.]+)/gi, (match, ruleNum) => {
                    return `<a href="${forumLink}" target="_blank" style="color: var(--accent-primary); font-weight: 600; text-decoration: none; border-bottom: 2px solid var(--accent-primary); transition: all 0.2s; cursor: pointer;" onmouseover="this.style.color='#3b82f6'; this.style.borderColor='#3b82f6'" onmouseout="this.style.color='var(--accent-primary)'; this.style.borderColor='var(--accent-primary)'">–ü—Ä–∞–≤–∏–ª–æ ${ruleNum}</a>`;
                });
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∏—Å—Ç–æ—á–Ω–∏–∫–∞
            const sourceStatus = wasParsed ? 
                `<span style="padding: 5px 12px; background: rgba(16, 185, 129, 0.15); border-radius: 8px; font-size: 0.75rem; color: var(--accent-success); font-weight: 500;">
                    ‚úì –ü—Ä–∞–≤–∏–ª–∞ —Å —Ñ–æ—Ä—É–º–∞
                </span>` :
                `<span style="padding: 5px 12px; background: rgba(251, 191, 36, 0.15); border-radius: 8px; font-size: 0.75rem; color: var(--accent-warning); font-weight: 500;">
                    ‚ö†Ô∏è –ë–∞–∑–æ–≤—ã–µ –∑–Ω–∞–Ω–∏—è AI
                </span>`;
            
            return `<div style="background: transparent; border-radius: 12px; overflow: hidden;">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <div style="padding: 14px 18px; background: transparent; border-bottom: 1px solid rgba(96, 165, 250, 0.2);">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.4rem;">${modelIcon}</span>
                        <div style="flex: 1;">
                            <div style="font-size: 0.85rem; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; color: var(--accent-primary);">
                                ${modelName}
                            </div>
                            <div style="font-size: 0.7rem; color: var(--text-muted); margin-top: 2px;">
                                ${wasParsed ? '–û—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∞–≤–∏–ª —Ñ–æ—Ä—É–º–∞' : '–û—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –±–∞–∑–æ–≤—ã—Ö –∑–Ω–∞–Ω–∏–π'}
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ö–æ–Ω—Ç–µ–Ω—Ç -->
                <div style="padding: 18px 0;">
                    <div style="font-size: 0.95rem; line-height: 1.8; color: var(--text-primary);">
                        ${formattedText}
                    </div>
                </div>
                
                <!-- –§—É—Ç–µ—Ä -->
                <div style="padding: 12px 0; display: flex; gap: 8px; flex-wrap: wrap; align-items: center;">
                    <span style="padding: 5px 12px; background: rgba(96, 165, 250, 0.15); border-radius: 8px; font-size: 0.75rem; color: var(--text-secondary); font-weight: 500;">
                        üéÆ ${serverName}
                    </span>
                    <a href="${forumLink}" target="_blank" style="padding: 5px 12px; background: rgba(59, 130, 246, 0.15); border-radius: 8px; font-size: 0.75rem; color: var(--text-secondary); font-weight: 500; text-decoration: none; transition: all 0.2s;" onmouseover="this.style.background='rgba(59, 130, 246, 0.25)'" onmouseout="this.style.background='rgba(59, 130, 246, 0.15)'">
                        üåê –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∞–≤–∏–ª–∞ ‚Üí
                    </a>
                    ${sourceStatus}
                </div>
            </div>`;
        }

        // ‚ö†Ô∏è –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
        function formatBeautifulError(errorMessage) {
            const availableModels = Object.entries(API_CONFIG)
                .filter(([key, cfg]) => cfg.enabled && cfg.apiKey)
                .map(([key, cfg]) => `<button onclick="switchModel('${key}')" style="padding: 8px 16px; background: rgba(96, 165, 250, 0.15); border: 1px solid rgba(96, 165, 250, 0.3); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer; transition: all 0.2s;">${cfg.icon} ${cfg.name}</button>`)
                .join('');
            
            return `<div style="background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(220, 38, 38, 0.05)); border-radius: 12px; overflow: hidden; border: 1px solid rgba(239, 68, 68, 0.2);">
                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <div style="padding: 14px 18px; background: rgba(239, 68, 68, 0.15); border-bottom: 1px solid rgba(239, 68, 68, 0.2);">
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.4rem;">‚ö†Ô∏è</span>
                        <div style="font-size: 0.9rem; font-weight: 700; color: #ef4444;">
                            –û—à–∏–±–∫–∞ AI
                        </div>
                    </div>
                </div>
                
                <!-- –°–æ–æ–±—â–µ–Ω–∏–µ -->
                <div style="padding: 18px;">
                    <div style="font-size: 0.9rem; line-height: 1.6; color: var(--text-primary); margin-bottom: 16px;">
                        ${errorMessage}
                    </div>
                    
                    ${availableModels ? `
                        <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(239, 68, 68, 0.2);">
                            <div style="font-size: 0.85rem; font-weight: 600; color: var(--text-secondary); margin-bottom: 10px;">
                                üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –º–æ–¥–µ–ª—å:
                            </div>
                            <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                                ${availableModels}
                            </div>
                        </div>
                    ` : `
                        <div style="margin-top: 16px; padding: 12px; background: rgba(251, 191, 36, 0.1); border-radius: 8px; border-left: 3px solid var(--accent-warning);">
                            <div style="font-size: 0.85rem; font-weight: 600; color: var(--accent-warning); margin-bottom: 6px;">
                                üîß –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:
                            </div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary); line-height: 1.5;">
                                1. –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á –¥–ª—è Gemini: <a href="https://aistudio.google.com/apikey" target="_blank" style="color: var(--accent-primary);">aistudio.google.com/apikey</a><br>
                                2. –ò–ª–∏ –¥–ª—è Grok: <a href="https://console.x.ai" target="_blank" style="color: var(--accent-primary);">console.x.ai</a><br>
                                3. –î–æ–±–∞–≤—å—Ç–µ –∫–ª—é—á –≤ –∫–æ–¥ (API_CONFIG)
                            </div>
                        </div>
                    `}
                </div>
            </div>`;
        }

        // üìã –ö—Ä–∞—Å–∏–≤–∞—è —Å–ø—Ä–∞–≤–∫–∞
        function showBeautifulHelp(query, serverName) {
            const helpHtml = `<div style="background: linear-gradient(135deg, rgba(96, 165, 250, 0.08), rgba(59, 130, 246, 0.05)); border-radius: 12px; overflow: hidden;">
                <div style="padding: 18px;">
                    <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 16px;">
                        <span style="font-size: 1.4rem;">üîç</span>
                        <div>
                            <div style="font-size: 0.9rem; font-weight: 600; color: var(--text-primary);">
                                –ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ –æ—Ç–≤–µ—Ç
                            </div>
                            <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 2px;">
                                –ü–æ –∑–∞–ø—Ä–æ—Å—É: "${query}"
                            </div>
                        </div>
                    </div>
                    
                    <div style="margin-top: 16px; padding-top: 16px; border-top: 1px solid rgba(96, 165, 250, 0.15);">
                        <div style="font-size: 0.85rem; font-weight: 600; color: var(--text-secondary); margin-bottom: 12px;">
                            üìú –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 8px;">
                            <button onclick="askQuickQuestion('–ú–æ–∂–Ω–æ –≥—Ä–∞–±–∏—Ç—å —Ç–∞–∫—Å–∏?')" style="padding: 10px 14px; background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer; text-align: left; transition: all 0.2s;">
                                üöï –ì—Ä–∞–±–∏—Ç—å —Ç–∞–∫—Å–∏?
                            </button>
                            <button onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ DM?')" style="padding: 10px 14px; background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer; text-align: left;">
                                üíÄ –ß—Ç–æ —Ç–∞–∫–æ–µ DM?
                            </button>
                            <button onclick="askQuickQuestion('–ó–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞')" style="padding: 10px 14px; background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer; text-align: left;">
                                üü¢ –ó–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞
                            </button>
                            <button onclick="askQuickQuestion('–ü—Ä–∞–≤–∏–ª–∞ –≥–µ—Ç—Ç–æ')" style="padding: 10px 14px; background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer; text-align: left;">
                                üî¥ –ì–µ—Ç—Ç–æ
                            </button>
                        </div>
                    </div>
                </div>
                
                <div style="padding: 12px 18px; background: rgba(0, 0, 0, 0.2);">
                    <span style="padding: 5px 12px; background: rgba(96, 165, 250, 0.15); border-radius: 8px; font-size: 0.75rem; color: var(--text-secondary); font-weight: 500;">
                        ${serverName}
                    </span>
                </div>
            </div>`;
            
            addMessageHtml(helpHtml, true);
        }

        // üîÑ –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
        function switchModel(modelKey) {
            currentModel = modelKey;
            const config = API_CONFIG[modelKey];
            console.log(`‚úì –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞ ${config.name} ${config.icon}`);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            const notification = document.createElement('div');
            notification.style.cssText = 'position: fixed; top: 20px; right: 20px; padding: 12px 20px; background: rgba(16, 185, 129, 0.9); color: white; border-radius: 8px; font-size: 0.9rem; font-weight: 600; z-index: 10000; animation: slideIn 0.3s ease-out;';
            notification.textContent = `${config.icon} –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –Ω–∞ ${config.name}`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => notification.remove(), 300);
            }, 2000);
        }

        // üé® –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω –æ–±—ã—á–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
        function formatMinimalistResponse(title, content, serverName, forumUrl) {
            return `<div style="padding: 0;">
                <div style="padding: 16px 0; border-bottom: 1px solid rgba(96, 165, 250, 0.15);">
                    <div style="font-size: 0.9rem; font-weight: 600; color: var(--accent-primary); margin-bottom: 8px;">
                        ${title}
                    </div>
                    <div style="font-size: 0.9rem; line-height: 1.6; color: var(--text-primary);">
                        ${content}
                    </div>
                </div>
                <div style="padding-top: 12px; display: flex; gap: 8px;">
                    <span style="padding: 4px 10px; background: rgba(96, 165, 250, 0.1); border-radius: 6px; font-size: 0.75rem; color: var(--text-secondary);">
                        ${serverName}
                    </span>
                </div>
            </div>`;
        }

        // üìã –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞
        function showMinimalistHelp(query, serverName) {
            const helpHtml = `<div style="padding: 0;">
                <div style="padding: 16px 0; border-bottom: 1px solid rgba(96, 165, 250, 0.15);">
                    <div style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 12px;">
                        –ü–æ –∑–∞–ø—Ä–æ—Å—É "<strong>${query}</strong>" –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ
                    </div>
                    <div style="font-size: 0.8rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; color: var(--text-secondary); margin-bottom: 10px;">
                        –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
                    </div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <button onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ DM?')" style="padding: 8px 14px; background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer; transition: all 0.2s;">DM</button>
                        <button onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ VDM?')" style="padding: 8px 14px; background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer;">VDM</button>
                        <button onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ NLR?')" style="padding: 8px 14px; background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer;">NLR</button>
                        <button onclick="askQuickQuestion('–ó–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞')" style="padding: 8px 14px; background: rgba(96, 165, 250, 0.1); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 8px; font-size: 0.85rem; color: var(--text-primary); cursor: pointer;">–ó–æ–Ω—ã</button>
                    </div>
                </div>
                <div style="padding-top: 12px;">
                    <span style="padding: 4px 10px; background: rgba(96, 165, 250, 0.1); border-radius: 6px; font-size: 0.75rem; color: var(--text-secondary);">
                        ${serverName}
                    </span>
                </div>
            </div>`;
            
            addMessageHtml(helpHtml, true);
        }

        // üîç –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª
        function advancedSearchInDatabase(query, selectedServer) {
            const lowerQuery = query.toLowerCase();
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –±–∞–∑—É –ø—Ä–∞–≤–∏–ª –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞
            const rulesDB = selectedServer && selectedServer.project === 'majestic' ? 
                MAJESTIC_RULES : GTA5RP_RULES;
            
            const serverName = selectedServer ? 
                (selectedServer.project === 'gta5rp' ? 'GTA 5 RP' : 'Majestic RP') : 
                'GTA 5 RP';
            
            const forumUrl = selectedServer ? 
                (selectedServer.project === 'gta5rp' ? 'forum.gta5rp.com' : 'forum.majestic-rp.ru') : 
                'forum.gta5rp.com';
            
            // –ú–∞—Å—Å–∏–≤ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
            const results = [];
            
            // 1. –ü–†–Ø–ú–û–ô –ü–û–ò–°–ö - –ø–æ –∫–ª—é—á—É –≤ –±–∞–∑–µ (–Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
            for (const [key, rule] of Object.entries(rulesDB)) {
                if (lowerQuery.includes(key) || key.includes(lowerQuery)) {
                    results.push({ rule, priority: 10 });
                    break; // –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ - —Å—Ä–∞–∑—É –≤–æ–∑–≤—Ä–∞—â–∞–µ–º
                }
            }
            
            // 2. –ü–û–ò–°–ö –ü–û –¢–ï–†–ú–ò–ù–£ - –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–∞–≤–∏–ª–∞
            if (results.length === 0) {
                for (const [key, rule] of Object.entries(rulesDB)) {
                    const termLower = rule.term.toLowerCase();
                    if (termLower.includes(lowerQuery) || lowerQuery.includes(termLower.split(' ')[0])) {
                        results.push({ rule, priority: 9 });
                    }
                }
            }
            
            // 3. –ü–û–ò–°–ö –ü–û –û–ü–†–ï–î–ï–õ–ï–ù–ò–Æ - –≤ —Ç–µ–∫—Å—Ç–µ –ø—Ä–∞–≤–∏–ª–∞
            if (results.length === 0) {
                for (const [key, rule] of Object.entries(rulesDB)) {
                    const defLower = rule.definition.toLowerCase();
                    if (defLower.includes(lowerQuery)) {
                        results.push({ rule, priority: 8 });
                    }
                }
            }
            
            // 4. –£–ú–ù–´–ô –ü–û–ò–°–ö - —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–π
            const intentPatterns = {
                '–∫–æ–≥–æ –Ω–µ–ª—å–∑—è –≥—Ä–∞–±–∏—Ç—å': ['–∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞', '–ø–æ—Ö–∏—â–µ–Ω–∏–µ'],
                '–∫–æ–≥–æ –º–æ–∂–Ω–æ –≥—Ä–∞–±–∏—Ç—å': ['–≥–µ—Ç—Ç–æ', '–ø–æ—Ö–∏—â–µ–Ω–∏–µ'],
                '–≥–¥–µ –º–æ–∂–Ω–æ —É–±–∏–≤–∞—Ç—å': ['–≥–µ—Ç—Ç–æ'],
                '–≥–¥–µ –Ω–µ–ª—å–∑—è —É–±–∏–≤–∞—Ç—å': ['–∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞'],
                '–ø—Ä–∞–≤–∏–ª–∞ —É–±–∏–π—Å—Ç–≤–∞': ['dm', 'rdm', 'vdm', 'rk'],
                '–ø—Ä–∞–≤–∏–ª–∞ —Å–º–µ—Ä—Ç–∏': ['nlr', 'rk', 'ck'],
                '–ø—Ä–∞–≤–∏–ª–∞ —Ñ—Ä–∞–∫—Ü–∏–π': ['fck', 'tk', '—Ç–≤–∏–Ω–∫'],
                '–ø—Ä–∞–≤–∏–ª–∞ –º–∞—à–∏–Ω': ['vdm', 'nrd', 'db'],
                '–ø—Ä–∞–≤–∏–ª–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞': ['vdm', 'nrd', 'db'],
                '–ø—Ä–∞–≤–∏–ª–∞ –æ–±—â–µ–Ω–∏—è': ['ooc', 'ic', '–æ—Å–∫–æ—Ä–±–ª–µ–Ω–∏—è', '—Ñ–ª—É–¥'],
                '—á–∏—Ç—ã': ['—á–∏—Ç—ã'],
                '—Å—Ç—Ä–∞—Ö': ['pg'],
                '–º–µ—Ç–∞': ['mg'],
                '–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è': ['mg', 'ooc', 'ic']
            };
            
            // –ò—â–µ–º –ø–æ —à–∞–±–ª–æ–Ω–∞–º –Ω–∞–º–µ—Ä–µ–Ω–∏–π
            if (results.length === 0) {
                for (const [pattern, ruleKeys] of Object.entries(intentPatterns)) {
                    if (lowerQuery.includes(pattern)) {
                        const intentResults = ruleKeys.map(key => rulesDB[key]).filter(r => r);
                        if (intentResults.length > 0) {
                            intentResults.forEach(rule => results.push({ rule, priority: 7 }));
                            break;
                        }
                    }
                }
            }
            
            // 5. –ö–û–ù–¢–ï–ö–°–¢–ù–´–ô –ü–û–ò–°–ö - –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º
            if (results.length === 0) {
                const contextKeywords = {
                    '–≥—Ä–∞–±': ['–ø–æ—Ö–∏—â–µ–Ω–∏–µ', '–º–∞—Å–∫–∞', '–∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞'],
                    '—É–±–∏—Ç—å': ['dm', 'vdm', 'rk', '–∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞'],
                    '—É–±–∏–π—Å—Ç–≤': ['dm', 'vdm', 'rk'],
                    '–º–∞—à–∏–Ω': ['vdm', 'nrd', 'db'],
                    '–∞–≤—Ç–æ': ['vdm', 'nrd', 'db'],
                    '–∑–æ–Ω': ['–∑–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞', '–≥–µ—Ç—Ç–æ'],
                    '–º–∞—Å–∫': ['–º–∞—Å–∫–∞'],
                    '—Ñ—Ä–∞–∫—Ü': ['fck', 'tk', '—Ç–≤–∏–Ω–∫'],
                    '–±–∞–Ω–¥': ['fck', 'tk', '–≥–µ—Ç—Ç–æ'],
                    '—Å–º–µ—Ä—Ç': ['nlr', 'rk', 'ck'],
                    '—Ä–µ–≤–∞–Ω—à': ['rk'],
                    '–º–µ—Å—Ç': ['rk', 'nlr'],
                    '–∑–∞–±—ã': ['nlr'],
                    '—Å—Ç—Ä–∞—Ö': ['pg'],
                    '—Å—Ç—Ä–∏–ª—å': ['dm', 'db'],
                    '—Ç–∞—Ä–∞': ['vdm', 'db']
                };
                
                for (const [keyword, ruleKeys] of Object.entries(contextKeywords)) {
                    if (lowerQuery.includes(keyword)) {
                        const contextResults = ruleKeys.map(key => rulesDB[key]).filter(r => r);
                        if (contextResults.length > 0) {
                            contextResults.forEach(rule => results.push({ rule, priority: 6 }));
                            break;
                        }
                    }
                }
            }
            
            // –ï—Å–ª–∏ –Ω–∞—à–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã - —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º
            if (results.length > 0) {
                // –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É –∏ —É–±–∏—Ä–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç—ã
                const uniqueResults = [];
                const seenTerms = new Set();
                
                results.sort((a, b) => b.priority - a.priority);
                
                for (const {rule} of results) {
                    if (!seenTerms.has(rule.term)) {
                        seenTerms.add(rule.term);
                        uniqueResults.push(rule);
                    }
                }
                
                // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–æ 3 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
                const topResults = uniqueResults.slice(0, 3);
                
                return formatDatabaseResults(topResults, serverName, forumUrl, query);
            }
            
            return null;
        }

        // üé® –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        function formatDatabaseResults(results, serverName, forumUrl, userQuery = null) {
            let html = `<div class="ai-response-card" style="padding: 20px; background: linear-gradient(135deg, rgba(96, 165, 250, 0.05), rgba(59, 130, 246, 0.05)); border: 1px solid rgba(96, 165, 250, 0.2); border-radius: 15px;">`;
            
            // –ó–∞–≥–æ–ª–æ–≤–æ–∫
            html += `<div style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
                <span style="font-size: 1.5rem;">ü§ñ</span>
                <span style="font-weight: 600; color: var(--accent-primary);">BadgRules AI</span>
            </div>`;
            
            // –ü–†–Ø–ú–û–ô –û–¢–í–ï–¢ –ù–ê –í–û–ü–†–û–° (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!)
            if (userQuery) {
                html += generateDirectAnswer(userQuery, results, serverName);
            }
            
            // –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∞–≤–∏–ª–∞—Ö
            html += `<div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid rgba(96, 165, 250, 0.15);">
                <div style="font-size: 1rem; font-weight: 600; margin-bottom: 15px; color: var(--text-secondary);">üìã –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∞–≤–∏–ª–∞—Ö:</div>
            </div>`;
            
            // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
            results.forEach((rule, index) => {
                html += `<div style="margin-bottom: ${index < results.length - 1 ? '25px' : '0'}; padding: 15px; background: rgba(0, 0, 0, 0.2); border-radius: 12px; border-left: 4px solid var(--accent-primary);">`;
                
                // –¢–µ—Ä–º–∏–Ω —Å —ç–º–æ–¥–∑–∏
                const emoji = getEmojiForRule(rule.term);
                html += `<div style="font-size: 1.15rem; font-weight: 700; margin-bottom: 10px; color: var(--accent-primary); display: flex; align-items: center; gap: 8px;">
                    <span style="font-size: 1.3rem;">${emoji}</span>
                    <span>${rule.term}</span>
                </div>`;
                
                // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
                html += `<div style="margin-bottom: 12px; line-height: 1.7; color: var(--text-primary); font-size: 0.95rem;">${rule.definition}</div>`;
                
                // –ü—Ä–∞–≤–∏–ª–æ –∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ
                if (rule.rule || rule.punishment) {
                    html += `<div style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 12px;">`;
                    if (rule.rule) {
                        html += `<span style="padding: 7px 14px; background: linear-gradient(135deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.15)); border-radius: 10px; font-size: 0.85rem; font-weight: 600; border: 1px solid rgba(59, 130, 246, 0.4); color: var(--accent-primary);">üìã –ü—Ä–∞–≤–∏–ª–æ ${rule.rule}</span>`;
                    }
                    if (rule.punishment) {
                        html += `<span style="padding: 7px 14px; background: linear-gradient(135deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.15)); border-radius: 10px; font-size: 0.85rem; font-weight: 600; border: 1px solid rgba(239, 68, 68, 0.4); color: #ef4444;">‚öñÔ∏è ${rule.punishment}</span>`;
                    }
                    html += `</div>`;
                }
                
                // –ü—Ä–∏–º–µ—Ä—ã
                if (rule.examples && rule.examples.length > 0) {
                    html += `<div style="margin-top: 12px; padding: 12px; background: rgba(96, 165, 250, 0.08); border-radius: 10px;">
                        <div style="font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; color: var(--accent-primary);">üí° –ü—Ä–∏–º–µ—Ä—ã –Ω–∞—Ä—É—à–µ–Ω–∏–π:</div>`;
                    rule.examples.forEach(example => {
                        html += `<div style="margin-left: 10px; margin-bottom: 5px; font-size: 0.88rem; color: var(--text-secondary); line-height: 1.5;">‚Ä¢ ${example}</div>`;
                    });
                    html += `</div>`;
                }
                
                // –ò—Å–∫–ª—é—á–µ–Ω–∏—è
                if (rule.exceptions && rule.exceptions.length > 0) {
                    html += `<div style="margin-top: 12px; padding: 12px; background: rgba(16, 185, 129, 0.1); border-radius: 10px; border-left: 3px solid var(--accent-success);">
                        <div style="font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; color: var(--accent-success);">‚úÖ –ò—Å–∫–ª—é—á–µ–Ω–∏—è:</div>`;
                    rule.exceptions.forEach(exc => {
                        html += `<div style="margin-left: 10px; margin-bottom: 5px; font-size: 0.88rem; color: var(--text-secondary);">‚Ä¢ ${exc}</div>`;
                    });
                    html += `</div>`;
                }
                
                // –ó–∞–º–µ—Ç–∫–∏
                if (rule.notes && rule.notes.length > 0) {
                    html += `<div style="margin-top: 12px; padding: 12px; background: rgba(251, 191, 36, 0.12); border-radius: 10px; border-left: 3px solid var(--accent-warning);">
                        <div style="font-size: 0.9rem; font-weight: 600; margin-bottom: 8px; color: var(--accent-warning);">‚ö†Ô∏è –í–∞–∂–Ω–æ –∑–Ω–∞—Ç—å:</div>`;
                    rule.notes.forEach(note => {
                        html += `<div style="margin-left: 10px; margin-bottom: 5px; font-size: 0.88rem; color: var(--text-secondary); line-height: 1.5;">‚Ä¢ ${note}</div>`;
                    });
                    html += `</div>`;
                }
                
                html += `</div>`;
            });
            
            // –ò—Å—Ç–æ—á–Ω–∏–∫
            html += `<div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid rgba(96, 165, 250, 0.2);">
                <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 12px; font-weight: 600;">üìç –ò—Å—Ç–æ—á–Ω–∏–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:</div>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <span style="padding: 8px 16px; background: rgba(96, 165, 250, 0.15); border-radius: 12px; font-size: 0.85rem; font-weight: 600; border: 1px solid rgba(96, 165, 250, 0.4);">
                        üéÆ ${serverName}
                    </span>
                    <span style="padding: 8px 16px; background: rgba(59, 130, 246, 0.15); border-radius: 12px; font-size: 0.85rem; font-weight: 600; border: 1px solid rgba(59, 130, 246, 0.4);">
                        üåê ${forumUrl}
                    </span>
                    <span style="padding: 8px 16px; background: rgba(16, 185, 129, 0.15); border-radius: 12px; font-size: 0.85rem; font-weight: 600; border: 1px solid rgba(16, 185, 129, 0.4);">
                        üìö –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
                    </span>
                </div>
            </div>`;
            
            html += `</div>`;
            return html;
        }

        // üí¨ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä—è–º–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –≤–æ–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function generateDirectAnswer(query, results, serverName) {
            const lowerQuery = query.toLowerCase();
            let answer = '';
            
            // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å –∏ –¥–∞—ë–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
            if (lowerQuery.includes('–∫–æ–≥–æ –Ω–µ–ª—å–∑—è') && lowerQuery.includes('–≥—Ä–∞–±')) {
                answer = `<strong>–ù–µ–ª—å–∑—è –≥—Ä–∞–±–∏—Ç—å:</strong> –ò–≥—Ä–æ–∫–æ–≤ –≤ –∑–µ–ª—ë–Ω–æ–π –∑–æ–Ω–µ (Government, Police, EMS, News). –¢–∞–∫–∂–µ –Ω—É–∂–Ω–∞ –º–∞—Å–∫–∞ –¥–ª—è –æ–≥—Ä–∞–±–ª–µ–Ω–∏—è –≤–Ω–µ –≥–µ—Ç—Ç–æ.`;
            } else if (lowerQuery.includes('–∫–æ–≥–æ –º–æ–∂–Ω–æ') && lowerQuery.includes('–≥—Ä–∞–±')) {
                answer = `<strong>–ú–æ–∂–Ω–æ –≥—Ä–∞–±–∏—Ç—å:</strong> –õ—é–±—ã—Ö –∏–≥—Ä–æ–∫–æ–≤ –≤–Ω–µ –∑–µ–ª—ë–Ω–æ–π –∑–æ–Ω—ã, –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –º–∞—Å–∫–∏ –∏ RP –ø—Ä–∏—á–∏–Ω—ã. –í –≥–µ—Ç—Ç–æ –º–∞—Å–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.`;
            } else if (lowerQuery.includes('–≥–¥–µ –º–æ–∂–Ω–æ') && lowerQuery.includes('—É–±–∏–≤–∞')) {
                answer = `<strong>–£–±–∏–≤–∞—Ç—å –º–æ–∂–Ω–æ:</strong> –í –≥–µ—Ç—Ç–æ —Ä–∞–π–æ–Ω–∞—Ö (—Ü–≤–µ—Ç–Ω—ã–µ –∫–≤–∞–¥—Ä–∞—Ç—ã –Ω–∞ –∫–∞—Ä—Ç–µ) - —Ä–∞–∑—Ä–µ—à—ë–Ω DM –∏–≥—Ä–æ–∫–æ–≤ –∏–∑ –±–∞–Ω–¥ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ RP –ø—Ä–∏—á–∏–Ω—ã.`;
            } else if (lowerQuery.includes('–≥–¥–µ –Ω–µ–ª—å–∑—è') && lowerQuery.includes('—É–±–∏–≤–∞')) {
                answer = `<strong>–£–±–∏–≤–∞—Ç—å –Ω–µ–ª—å–∑—è:</strong> –í –∑–µ–ª—ë–Ω–æ–π –∑–æ–Ω–µ (Government, Police, EMS, News) - –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—Ä–µ—â–µ–Ω—ã —É–±–∏–π—Å—Ç–≤–∞ –∏ –ø–æ—Ö–∏—â–µ–Ω–∏—è. –ù–∞–∫–∞–∑–∞–Ω–∏–µ: –î–µ–º–æ—Ä–≥–∞–Ω 120 –º–∏–Ω + warn.`;
            } else if (results.length > 0) {
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–≤–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞
                const mainRule = results[0];
                answer = `<strong>${mainRule.term}:</strong> ${mainRule.definition}`;
                
                if (mainRule.rule) {
                    answer += ` <span style="color: var(--accent-primary); font-weight: 600;">(–ü—Ä–∞–≤–∏–ª–æ ${mainRule.rule})</span>`;
                }
                if (mainRule.punishment) {
                    answer += ` <span style="color: #ef4444; font-weight: 600;">–ù–∞–∫–∞–∑–∞–Ω–∏–µ: ${mainRule.punishment}</span>`;
                }
            }
            
            if (answer) {
                return `<div style="padding: 18px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(5, 150, 105, 0.1)); border-radius: 12px; border-left: 4px solid var(--accent-success); margin-bottom: 20px;">
                    <div style="font-size: 0.85rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; color: var(--accent-success); margin-bottom: 8px;">‚úì –û—Ç–≤–µ—Ç –Ω–∞ –≤–∞—à –≤–æ–ø—Ä–æ—Å</div>
                    <div style="font-size: 1rem; line-height: 1.7; color: var(--text-primary);">${answer}</div>
                </div>`;
            }
            
            return '';
        }

        // üéØ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª–∞
        function getEmojiForRule(term) {
            const termLower = term.toLowerCase();
            if (termLower.includes('death')) return 'üíÄ';
            if (termLower.includes('vehicle')) return 'üöó';
            if (termLower.includes('revenge')) return 'üîÑ';
            if (termLower.includes('new life')) return 'üîÑ';
            if (termLower.includes('power')) return 'üí™';
            if (termLower.includes('meta')) return 'üß†';
            if (termLower.includes('team')) return 'üë•';
            if (termLower.includes('spawn')) return 'üéØ';
            if (termLower.includes('character')) return '‚ö∞Ô∏è';
            if (termLower.includes('–∑–æ–Ω–∞')) return 'üü¢';
            if (termLower.includes('–≥–µ—Ç—Ç–æ')) return 'üî¥';
            if (termLower.includes('–º–∞—Å–∫–∞')) return 'üé≠';
            if (termLower.includes('–ø–æ—Ö–∏—â')) return 'üîí';
            if (termLower.includes('—á–∏—Ç')) return '‚ö†Ô∏è';
            if (termLower.includes('–æ—Å–∫–æ—Ä')) return 'üö´';
            if (termLower.includes('—Ç–≤–∏–Ω–∫')) return 'üë§';
            return 'üìå';
        }

        // üìã –£–º–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
        function showSmartHelpCard(query, serverName) {
            const helpHtml = `<div class="help-card">
                <div class="help-header">
                    <span style="font-size: 1.5rem;">üîç</span>
                    <span>–ü–æ –∑–∞–ø—Ä–æ—Å—É "<strong>${query}</strong>" –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</span>
                </div>
                
                <div class="help-section">
                    <div style="margin-bottom: 15px; padding: 12px; background: rgba(96, 165, 250, 0.1); border-radius: 8px; border-left: 3px solid var(--accent-primary);">
                        <div style="font-weight: 600; margin-bottom: 5px;">–í—ã –∏–≥—Ä–∞–µ—Ç–µ –Ω–∞: ${serverName}</div>
                        <div style="font-size: 0.9rem; color: var(--text-secondary);">–ë–∞–∑–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è —ç—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞</div>
                    </div>
                </div>
                
                <div class="help-section">
                    <div class="help-section-title">üìú –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:</div>
                    <div class="terms-grid">
                        <div class="term-item" onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ DM?')"><span class="term-abbr">DM</span> DeathMatch</div>
                        <div class="term-item" onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ VDM?')"><span class="term-abbr">VDM</span> Vehicle DM</div>
                        <div class="term-item" onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ NLR?')"><span class="term-abbr">NLR</span> New Life Rule</div>
                        <div class="term-item" onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ PG?')"><span class="term-abbr">PG</span> PowerGaming</div>
                        <div class="term-item" onclick="askQuickQuestion('–ß—Ç–æ —Ç–∞–∫–æ–µ MG?')"><span class="term-abbr">MG</span> MetaGaming</div>
                        <div class="term-item" onclick="askQuickQuestion('–ó–µ–ª–µ–Ω–∞—è –∑–æ–Ω–∞')"><span class="term-abbr">üü¢</span> –ó–µ–ª—ë–Ω–∞—è –∑–æ–Ω–∞</div>
                    </div>
                </div>
                
                <div class="help-section">
                    <div class="help-section-title">üè∑Ô∏è –¢–µ–º—ã:</div>
                    <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                        <span class="topic-tag" onclick="askQuickQuestion('–ø—Ä–∞–≤–∏–ª–∞ —É–±–∏–π—Å—Ç–≤–∞')">–£–±–∏–π—Å—Ç–≤–∞</span>
                        <span class="topic-tag" onclick="askQuickQuestion('–ø—Ä–∞–≤–∏–ª–∞ —Ñ—Ä–∞–∫—Ü–∏–π')">–§—Ä–∞–∫—Ü–∏–∏</span>
                        <span class="topic-tag" onclick="askQuickQuestion('–ø—Ä–∞–≤–∏–ª–∞ –∑–æ–Ω')">–ó–æ–Ω—ã</span>
                        <span class="topic-tag" onclick="askQuickQuestion('–ø—Ä–∞–≤–∏–ª–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞')">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</span>
                        <span class="topic-tag" onclick="askQuickQuestion('–ø—Ä–∞–≤–∏–ª–∞ —Å–º–µ—Ä—Ç–∏')">–°–º–µ—Ä—Ç—å</span>
                    </div>
                </div>
                
                <div class="help-tip">
                    üí° –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ-–¥—Ä—É–≥–æ–º—É –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ
                </div>
            </div>`;
            
            addMessageHtml(helpHtml, true);
        }
        // Model Selection
        function selectModel(model) {
            console.log('–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –º–æ–¥–µ–ª—å:', model);

            // Check if model is enabled
            const config = API_CONFIG[model];
            if (!config || !config.enabled) {
                alert(`–ú–æ–¥–µ–ª—å ${model} –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞. –î–æ–±–∞–≤—å—Ç–µ API –∫–ª—é—á –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.`);
                return;
            }

            // If requires API key and not provided
            if (model !== 'claude' && (!config.apiKey || config.apiKey === '')) {
                alert(`–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è ${model} —Ç—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á.\n\n–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –≤ —Ñ–∞–π–ª–µ API_SETUP_GUIDE.md`);
                return;
            }

            // Update current model
            currentModel = model;

            // Update UI
            document.querySelectorAll('.model-button').forEach(btn => {
                btn.classList.remove('active');
                const badge = btn.querySelector('.model-badge');
                if (btn.dataset.model === model) {
                    btn.classList.add('active');
                    badge.textContent = '–ê–∫—Ç–∏–≤–Ω–∞';
                } else {
                    if (btn.disabled) {
                        badge.textContent = '–¢—Ä–µ–±—É–µ—Ç—Å—è API –∫–ª—é—á';
                    } else {
                        badge.textContent = '–î–æ—Å—Ç—É–ø–Ω–∞';
                    }
                }
            });

            console.log(`–ú–æ–¥–µ–ª—å ${model} –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞`);
        }

        // Alias for compatibility with error messages
        function switchModel(model) {
            return selectModel(model);
        }

        // Initialize model buttons based on config
        window.addEventListener('DOMContentLoaded', () => {
            // Enable buttons for configured models
            Object.keys(API_CONFIG).forEach(modelKey => {
                const config = API_CONFIG[modelKey];
                if (config.enabled && (modelKey === 'claude' || (config.apiKey && config.apiKey !== ''))) {
                    const button = document.querySelector(`.model-button[data-model="${modelKey}"]`);
                    if (button) {
                        button.disabled = false;
                        const badge = button.querySelector('.model-badge');
                        if (modelKey === currentModel) {
                            badge.textContent = '–ê–∫—Ç–∏–≤–Ω–∞';
                        } else {
                            badge.textContent = '–î–æ—Å—Ç—É–ø–Ω–∞';
                        }
                    }
                }
            });
        });

        function askQuickQuestion(question) {
            chatInput.value = question;
            sendMessage();
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        // Focus input on load
        window.addEventListener('DOMContentLoaded', () => {
            console.log('DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –ø—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é...');
            checkLoginStatus();
            
            // –û–±–Ω–æ–≤–∏—Ç—å badge —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                console.log('üîÑ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è badge...');
                if (typeof updateAllSubscriptionBadges === 'function') {
                    updateAllSubscriptionBadges();
                }
            }, 500);
        });

        window.addEventListener('load', () => {
            if (chatInput) {
                chatInput.focus();
            }
            
            // –ï—â—ë —Ä–∞–∑ –æ–±–Ω–æ–≤–∏—Ç—å badge –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
            setTimeout(() => {
                console.log('üîÑ –§–∏–Ω–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ badge...');
                if (typeof updateAllSubscriptionBadges === 'function') {
                    updateAllSubscriptionBadges();
                }
            }, 1000);
        });

        // Discord OAuth Configuration
        const DISCORD_CLIENT_ID = '1436658032451784775'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Client ID
        const DISCORD_REDIRECT_URI = window.location.origin; // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π redirect
        const DISCORD_OAUTH_URL = `https://discord.com/api/oauth2/authorize?client_id=${DISCORD_CLIENT_ID}&redirect_uri=${encodeURIComponent(DISCORD_REDIRECT_URI)}&response_type=token&scope=identify`;

        // Check Login Status
        function checkLoginStatus() {
            console.log('–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Ö–æ–¥–∞...');
            const user = localStorage.getItem('badgrules_user');
            const selection = loadServerSelection();
            console.log('–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', user);
            console.log('–í—ã–±–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞:', selection);

            if (user && selection) {
                const userData = JSON.parse(user);
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω:', userData);
                showMainInterface(userData);
            } else {
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –∏–ª–∏ –Ω–µ—Ç –≤—ã–±–æ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞');
            }
        }

        // Login with Discord
        function loginWithDiscord() {
            console.log('–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Discord OAuth...');
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä —Å–µ—Ä–≤–µ—Ä–∞ –ø–µ—Ä–µ–¥ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º
            saveServerSelection();
            // –†–µ–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Discord
            window.location.href = DISCORD_OAUTH_URL;
        }

        // Continue as Guest
        function continueAsGuest() {
            const guestUser = {
                id: 'guest_' + Date.now(),
                username: '–ì–æ—Å—Ç—å',
                avatar: null,
                loginType: 'guest'
            };

            saveServerSelection();
            localStorage.setItem('badgrules_user', JSON.stringify(guestUser));
            showMainInterface(guestUser);
        }

        // Show Main Interface
        function showMainInterface(user) {
            console.log('–ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≥–ª–∞–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è:', user);

            // Load server selection
            const selection = loadServerSelection();

            // Hide login overlay
            const loginOverlay = document.getElementById('loginOverlay');
            console.log('loginOverlay —ç–ª–µ–º–µ–Ω—Ç:', loginOverlay);

            if (loginOverlay) {
                loginOverlay.classList.add('hidden');
                console.log('–≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞ —Å–∫—Ä—ã—Ç');
            } else {
                console.error('loginOverlay –Ω–µ –Ω–∞–π–¥–µ–Ω!');
            }

            // Show user profile badge
            const badge = document.getElementById('userProfileBadge');
            console.log('userProfileBadge —ç–ª–µ–º–µ–Ω—Ç:', badge);

            if (badge) {
                badge.classList.remove('hidden');
                console.log('–ë–µ–π–¥–∂ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–∫–∞–∑–∞–Ω');
            } else {
                console.error('userProfileBadge –Ω–µ –Ω–∞–π–¥–µ–Ω!');
                return;
            }

            // Update user info
            const userName = document.getElementById('userName');
            const userAvatar = document.getElementById('userAvatar');

            console.log('userName:', userName);
            console.log('userAvatar:', userAvatar);

            if (user.loginType === 'discord') {
                if (userName) userName.textContent = user.displayName || user.username;

                // Display avatar
                if (userAvatar) {
                    if (user.avatar) {
                        const avatarUrl = user.avatar.includes('?')
                            ? user.avatar
                            : `${user.avatar}?size=128`;

                        console.log('üñºÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏:', avatarUrl);

                        if (avatarUrl && avatarUrl.startsWith('http')) {
                            // –û—á–∏—Å—Ç–∏—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
                            userAvatar.textContent = '';
                            userAvatar.style.backgroundImage = '';
                            
                            // –°–æ–∑–¥–∞—Ç—å img —ç–ª–µ–º–µ–Ω—Ç
                            const imgElement = document.createElement('img');
                            imgElement.src = avatarUrl;
                            imgElement.style.width = '100%';
                            imgElement.style.height = '100%';
                            imgElement.style.objectFit = 'cover';
                            imgElement.style.borderRadius = '50%';
                            
                            imgElement.onload = () => {
                                console.log('‚úÖ –ê–≤–∞—Ç–∞—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ');
                            };
                            
                            imgElement.onerror = (e) => {
                                console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–∫–∏:', e);
                                const displayName = user.displayName || user.username;
                                userAvatar.textContent = displayName.charAt(0).toUpperCase();
                                imgElement.remove();
                            };
                            
                            // –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π img –µ—Å–ª–∏ –µ—Å—Ç—å
                            const oldImg = userAvatar.querySelector('img');
                            if (oldImg) oldImg.remove();
                            
                            userAvatar.appendChild(imgElement);
                        } else {
                            console.warn('‚ö†Ô∏è –ù–µ–≤–∞–ª–∏–¥–Ω—ã–π URL –∞–≤–∞—Ç–∞—Ä–∫–∏');
                            const displayName = user.displayName || user.username;
                            userAvatar.textContent = displayName.charAt(0).toUpperCase();
                            userAvatar.style.backgroundImage = '';
                        }
                    } else {
                        console.log('‚ÑπÔ∏è –ù–µ—Ç –∞–≤–∞—Ç–∞—Ä–∫–∏, –ø–æ–∫–∞–∑—ã–≤–∞—é –∏–Ω–∏—Ü–∏–∞–ª—ã');
                        const displayName = user.displayName || user.username;
                        userAvatar.textContent = displayName.charAt(0).toUpperCase();
                        userAvatar.style.backgroundImage = '';
                        const oldImg = userAvatar.querySelector('img');
                        if (oldImg) oldImg.remove();
                    }
                }
            } else {
                if (userName) userName.textContent = '–ì–æ—Å—Ç—å';
                if (userAvatar) {
                    userAvatar.textContent = 'G';
                    userAvatar.style.backgroundImage = '';
                }
            }

            // Update server badge display
            if (selection && selection.server) {
                updateServerBadgeDisplay(selection.project, selection.server);
            }

            console.log('–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞');

            // Update profile section
            updateProfileSection(user);
        }

        // Update Profile Section
        function updateProfileSection(user) {
            console.log('Updating profile section with user data:', user);

            if (!user) return;

            // Update Profile Header
            const profileUsername = document.getElementById('profileUsername');
            const profileDiscriminator = document.getElementById('profileDiscriminator');
            const profileAvatarImg = document.getElementById('profileAvatarImg');
            const profileRoleBadge = document.getElementById('profileRoleBadge');

            if (user.loginType === 'discord') {
                // Username
                if (profileUsername) {
                    profileUsername.textContent = user.displayName || user.username || 'Discord User';
                }

                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏–∫ –∏ —Ä–æ–ª—å
                if (typeof updateProfileStatic === 'function') {
                    updateProfileStatic(user.id);
                }

                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –∞–∫–∫–∞—É–Ω—Ç–∞ –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –ù–ï –≤–ª–∞–¥–µ–ª–µ—Ü
                if (profileDiscriminator) {
                    const userIsOwner = isOwner(user.id); // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
                    
                    if (userIsOwner) {
                        // –£ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏–∫ –ø–æ–ª–Ω–æ—Å—Ç—å—é
                        profileDiscriminator.style.display = 'none';
                    } else {
                        // –£ –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ç–∏–∫
                        profileDiscriminator.style.display = 'inline-block';
                        const accountNumber = getAccountNumber(user.id);
                        
                        if (accountNumber) {
                            profileDiscriminator.textContent = `#${accountNumber}`;

                            // –î–æ–±–∞–≤–ª—è–µ–º VIP —Å—Ç–∏–ª—å –¥–ª—è –Ω–æ–º–µ—Ä–æ–≤ 0001-0010
                            if (parseInt(accountNumber) <= 10) {
                                profileDiscriminator.classList.add('vip');
                            } else {
                                profileDiscriminator.classList.remove('vip');
                            }
                        }
                    }
                }

                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–µ–π–¥–∂ —Ä–æ–ª–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
                if (profileRoleBadge) {
                    const teamRole = getUserRole(user.id); // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
                    if (teamRole && teamRole !== '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å') {
                        profileRoleBadge.textContent = teamRole;
                        profileRoleBadge.classList.remove('hidden', 'owner', 'admin', 'team');

                        // –î–æ–±–∞–≤–ª—è–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∫–ª–∞—Å—Å
                        if (teamRole === '–í–ª–∞–¥–µ–ª–µ—Ü') profileRoleBadge.classList.add('owner');
                        else if (teamRole === '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä') profileRoleBadge.classList.add('admin');
                        else if (teamRole === '–ö–æ–º–∞–Ω–¥–∞') profileRoleBadge.classList.add('team');
                        else profileRoleBadge.classList.add('team');
                    } else {
                        profileRoleBadge.classList.add('hidden');
                    }
                }

                // Avatar
                if (profileAvatarImg && user.avatar) {
                    const avatarUrl = user.avatar.includes('?')
                        ? user.avatar
                        : `${user.avatar}?size=256`;
                    
                    console.log('üñºÔ∏è –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:', avatarUrl);
                    
                    if (avatarUrl && avatarUrl.startsWith('http')) {
                        // –û—á–∏—Å—Ç–∏—Ç—å
                        profileAvatarImg.textContent = '';
                        profileAvatarImg.style.backgroundImage = '';
                        
                        // –°–æ–∑–¥–∞—Ç—å img
                        const imgElement = document.createElement('img');
                        imgElement.src = avatarUrl;
                        imgElement.style.width = '100%';
                        imgElement.style.height = '100%';
                        imgElement.style.objectFit = 'cover';
                        imgElement.style.borderRadius = '50%';
                        
                        imgElement.onload = () => {
                            console.log('‚úÖ –ê–≤–∞—Ç–∞—Ä–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
                        };
                        
                        imgElement.onerror = (e) => {
                            console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤–∞—Ç–∞—Ä–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:', e);
                            const initial = (user.displayName || user.username || 'G').charAt(0).toUpperCase();
                            profileAvatarImg.textContent = initial;
                            imgElement.remove();
                        };
                        
                        // –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π img
                        const oldImg = profileAvatarImg.querySelector('img');
                        if (oldImg) oldImg.remove();
                        
                        profileAvatarImg.appendChild(imgElement);
                    } else {
                        const initial = (user.displayName || user.username || 'G').charAt(0).toUpperCase();
                        profileAvatarImg.textContent = initial;
                        profileAvatarImg.style.backgroundImage = '';
                    }
                } else if (profileAvatarImg) {
                    const initial = (user.displayName || user.username || 'G').charAt(0).toUpperCase();
                    profileAvatarImg.textContent = initial;
                    profileAvatarImg.style.backgroundImage = '';
                }

                // Discord Info Card
                const profileDiscordId = document.getElementById('profileDiscordId');
                if (profileDiscordId && user.id) {
                    profileDiscordId.textContent = user.id;
                }

                const profileDisplayName = document.getElementById('profileDisplayName');
                if (profileDisplayName) {
                    profileDisplayName.textContent = user.displayName || user.username || 'Discord User';
                }

                // Activity
                const profileJoinDate = document.getElementById('profileJoinDate');
                if (profileJoinDate) {
                    const joinDate = new Date().toLocaleDateString('ru-RU', {
                        day: '2-digit',
                        month: 'long',
                        year: 'numeric'
                    });
                    profileJoinDate.textContent = joinDate;
                }

                // Load stats from localStorage
                loadProfileStats();

            } else {
                // Guest mode
                if (profileUsername) profileUsername.textContent = '–ì–æ—Å—Ç—å';
                if (profileDiscriminator) profileDiscriminator.textContent = '#0000';
                if (profileAvatarImg) {
                    profileAvatarImg.textContent = 'G';
                    profileAvatarImg.style.backgroundImage = '';
                }
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üé´ –°–ò–°–¢–ï–ú–ê –£–ù–ò–ö–ê–õ–¨–ù–´–• –ù–û–ú–ï–†–û–í –ê–ö–ö–ê–£–ù–¢–û–í - –£–î–ê–õ–ï–ù–ê
        // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ TEAM_STATIC_IDS (—Å–º. –Ω–∏–∂–µ –≤ –∫–æ–¥–µ)
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–º–µ—Ä–∞ –∞–∫–∫–∞—É–Ω—Ç–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞
        function getAccountNumber(discordId) {
            if (!discordId) return '0000';

            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É getUserStatic
            const staticNum = getUserStatic(discordId);
            
            // –ï—Å–ª–∏ –µ—Å—Ç—å —Å—Ç–∞—Ç–∏–∫ - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ
            if (staticNum) {
                return staticNum;
            }
            
            // –ï—Å–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü (–Ω–µ—Ç —Å—Ç–∞—Ç–∏–∫–∞) - –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
            if (isOwner(discordId)) {
                return null; // –í–ª–∞–¥–µ–ª—å—Ü—ã –±–µ–∑ –Ω–æ–º–µ—Ä–∞
            }
            
            return '0000'; // –ù–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—â–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        function getTotalUsers() {
            const allStatics = JSON.parse(localStorage.getItem('badgrules_all_statics') || '{}');
            return Object.keys(allStatics).length + Object.keys(TEAM_STATIC_IDS).length;
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ VIP —Å—Ç–∞—Ç—É—Å–∞ (–Ω–æ–º–µ—Ä–∞ 0000-0010)
        function isVipNumber(accountNumber) {
            const num = parseInt(accountNumber);
            return num >= 0 && num <= 10;
        }

        // –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        function setupUserProfile(userData) {
            const discordId = userData.id || 'guest';
            const accountNumber = getAccountNumber(discordId);
            const teamRole = getUserRole(discordId); // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
            const isVip = isVipNumber(accountNumber);

            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ—Ñ–∏–ª—å
            document.getElementById('profileDiscordId').textContent = discordId;

            // –î–æ–±–∞–≤–ª—è–µ–º –±–µ–π–¥–∂ —Ä–æ–ª–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
            const roleBadge = document.getElementById('profileRoleBadge');
            if (teamRole && teamRole !== '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å') {
                roleBadge.textContent = teamRole;
                roleBadge.className = `profile-role-badge ${teamRole === '–í–ª–∞–¥–µ–ª–µ—Ü' ? 'owner' : 'team'}`;
                roleBadge.classList.remove('hidden');
            } else {
                roleBadge.classList.add('hidden');
            }

            // –î–æ–±–∞–≤–ª—è–µ–º VIP —Å—Ç–∏–ª—å –¥–ª—è –Ω–æ–º–µ—Ä–æ–≤ 0001-0010
            const tagElement = document.getElementById('profileDiscriminator');
            if (isVip && accountNumber) {
                tagElement.classList.add('vip');
            }
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–æ–ª–∏ –≤ –¥—Ä–æ–ø–¥–∞—É–Ω–µ –ø—Ä–æ—Ñ–∏–ª—è
        function setupProfileDropdown(userData) {
            const discordId = userData.id || 'guest';
            const teamRole = getUserRole(discordId); // –ò—Å–ø–æ–ª—å–∑—É–µ–º –Ω–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É

            // –î–æ–±–∞–≤–ª—è–µ–º —Ä–æ–ª—å –≤ –¥—Ä–æ–ø–¥–∞—É–Ω –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –∫–æ–º–∞–Ω–¥–µ –∏–ª–∏ –≤–ª–∞–¥–µ–ª–µ—Ü
            if (teamRole && teamRole !== '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å') {
                const roleText = teamRole === '–í–ª–∞–¥–µ–ª–µ—Ü' ? '–í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞' : '–ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞';
                const roleIcon = teamRole === '–í–ª–∞–¥–µ–ª–µ—Ü' ? 'üëë' : '‚≠ê';
                const roleColor = teamRole === '–í–ª–∞–¥–µ–ª–µ—Ü' ? '#ffd700' : '#60a5fa';

                // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —Å —Ä–æ–ª—å—é –≤ –¥—Ä–æ–ø–¥–∞—É–Ω–µ
                const roleElement = document.createElement('div');
                roleElement.className = 'dropdown-item';
                roleElement.innerHTML = `
            <span style="color: ${roleColor}">${roleIcon}</span>
            <span>${roleText}</span>
        `;

                // –í—Å—Ç–∞–≤–ª—è–µ–º –≤ –Ω–∞—á–∞–ª–æ –¥—Ä–æ–ø–¥–∞—É–Ω–∞
                const dropdown = document.getElementById('profileDropdown');
                const firstItem = dropdown.querySelector('.dropdown-item');
                if (firstItem) {
                    dropdown.insertBefore(roleElement, firstItem);

                    // –î–æ–±–∞–≤–ª—è–µ–º —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å
                    const divider = document.createElement('div');
                    divider.className = 'dropdown-divider';
                    dropdown.insertBefore(divider, firstItem);
                }
            }
        }

        // Load and update profile statistics
        function loadProfileStats() {
            // Get saved data from localStorage
            const chatHistory = JSON.parse(localStorage.getItem('badgrules_chat_history') || '[]');
            const complaints = JSON.parse(localStorage.getItem('badgrules_complaints') || '[]');

            // Update questions count
            const statQuestions = document.getElementById('statQuestions');
            if (statQuestions) {
                statQuestions.textContent = chatHistory.length || 0;
            }

            // Update complaints count
            const statComplaints = document.getElementById('statComplaints');
            if (statComplaints) {
                statComplaints.textContent = complaints.length || 0;
            }

            // Update rules (count of different rule views - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç—Ä–µ–∫–∏–Ω–≥)
            const statRules = document.getElementById('statRules');
            if (statRules) {
                const rulesViewed = localStorage.getItem('badgrules_rules_viewed') || '0';
                statRules.textContent = rulesViewed;
            }

            // Calculate time in system
            const statTime = document.getElementById('statTime');
            if (statTime) {
                const user = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
                if (user.firstLogin) {
                    const firstLogin = new Date(user.firstLogin);
                    const now = new Date();
                    const hours = Math.floor((now - firstLogin) / (1000 * 60 * 60));
                    statTime.textContent = hours > 0 ? `${hours}—á` : '<1—á';
                } else {
                    statTime.textContent = '<1—á';
                }
            }

            // Update sessions count
            const profileSessions = document.getElementById('profileSessions');
            if (profileSessions) {
                const sessions = localStorage.getItem('badgrules_sessions') || '1';
                profileSessions.textContent = sessions;
            }
        }

        // Logout
        // Profile Dropdown Menu Functions
        function toggleProfileMenu(event) {
            event.stopPropagation();
            const dropdown = document.getElementById('profileDropdown');
            dropdown.classList.toggle('hidden');
        }

        function closeProfileMenu() {
            const dropdown = document.getElementById('profileDropdown');
            dropdown.classList.add('hidden');
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function (event) {
            const dropdown = document.getElementById('profileDropdown');
            const badge = document.getElementById('userProfileBadge');

            if (dropdown && badge &&
                !dropdown.contains(event.target) &&
                !badge.contains(event.target)) {
                dropdown.classList.add('hidden');
            }
        });

        function logout() {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?')) {
                localStorage.removeItem('badgrules_user');
                localStorage.removeItem('badgrules_server_selection');
                location.reload();
            }
        }

        // Handle Discord OAuth Redirect
        window.addEventListener('load', () => {
            // Check if there's an access token in URL (from Discord OAuth)
            const hash = window.location.hash.substring(1);
            const params = new URLSearchParams(hash);
            const accessToken = params.get('access_token');

            if (accessToken) {
                console.log('Access token found, fetching user data...');

                // Fetch user info from Discord API
                fetch('https://discord.com/api/users/@me', {
                    headers: {
                        'Authorization': `Bearer ${accessToken}`
                    }
                })
                    .then(response => {
                        if (!response.ok) {
                            throw new Error(`Discord API error: ${response.status}`);
                        }
                        return response.json();
                    })
                    .then(discordUser => {
                        console.log('Discord user data:', discordUser);

                        // Build avatar URL (Discord uses .png, .jpg, .webp, or .gif for animated)
                        let avatarUrl = null;
                        if (discordUser.avatar) {
                            const extension = discordUser.avatar.startsWith('a_') ? 'gif' : 'png';
                            avatarUrl = `https://cdn.discordapp.com/avatars/${discordUser.id}/${discordUser.avatar}.${extension}?size=128`;
                        }

                        const user = {
                            id: discordUser.id,
                            username: discordUser.username,
                            discriminator: discordUser.discriminator,
                            displayName: discordUser.global_name || discordUser.username,
                            avatar: avatarUrl,
                            email: discordUser.email,
                            loginType: 'discord'
                        };

                        console.log('Processed user data:', user);
                        localStorage.setItem('badgrules_user', JSON.stringify(user));

                        // Clean URL
                        window.history.replaceState({}, document.title, window.location.pathname);

                        // Check if server selection exists
                        const selection = loadServerSelection();
                        if (selection && selection.project && selection.server) {
                            showMainInterface(user);
                        } else {
                            // Show login overlay at step 1 for server selection
                            document.getElementById('loginOverlay').classList.remove('hidden');
                            goToStep(1);
                        }
                    })
                    .catch(error => {
                        console.error('Error fetching Discord user:', error);
                        alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—Ö–æ–¥–µ —á–µ—Ä–µ–∑ Discord. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.');
                    });
            }
        });

        // Section Navigation
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });

            // Remove active class from all nav buttons
            document.querySelectorAll('.nav-button').forEach(button => {
                button.classList.remove('active');
            });

            // Show selected section
            const sectionMap = {
                'home': 'homeSection',
                'chat': 'chatSection',
                'profile': 'profileSection',
                'complaints': 'complaintsSection',
                'rules': 'rulesSection',
                'history': 'historySection',
                'news': 'newsSection',
                'team': 'teamSection',
                'social': 'socialSection'
            };

            const targetSection = document.getElementById(sectionMap[sectionName]);
            if (targetSection) {
                targetSection.classList.add('active');
            }

            // Show/hide chat input container based on section
            const chatInputContainer = document.querySelector('.chat-input-container');
            if (chatInputContainer) {
                if (sectionName === 'chat') {
                    chatInputContainer.style.display = 'block';
                } else {
                    chatInputContainer.style.display = 'none';
                }
            }

            // Add active class to clicked button
            if (event && event.target) {
                const button = event.target.closest('.nav-button');
                if (button) {
                    button.classList.add('active');
                }
            }

            // –û–±–Ω–æ–≤–ª—è–µ–º —Å–∫—Ä–æ–ª–ª-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
            if (typeof updateScrollIndicator === 'function') {
                updateScrollIndicator(sectionName);
            }

            // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è
            if (sectionName === 'profile' && BOT_API.ENABLED) {
                const userData = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
                if (userData && userData.id) {
                    console.log('üîÑ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è...');
                    checkSubscriptionFromBot(userData.id).then(() => {
                        console.log('‚úÖ –ü—Ä–æ—Ñ–∏–ª—å –æ–±–Ω–æ–≤–ª–µ–Ω');
                    });
                }
            }

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Discord Webhook Configuration
        const DISCORD_WEBHOOK_URL = 'YOUR_WEBHOOK_URL_HERE'; // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Webhook URL

        // Complaint Submission
        async function submitComplaint() {
            // Get form values
            const complaintType = document.getElementById('complaintType').value;
            const violatorId = document.getElementById('violatorId').value;
            const serverName = document.getElementById('serverName').value;
            const description = document.getElementById('incidentDescription').value;
            const evidence = document.getElementById('evidenceLink').value;
            const statusDiv = document.getElementById('complaintStatus');

            // Validation
            if (!description.trim()) {
                showStatus('error', '‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–∏—à–∏—Ç–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç');
                return;
            }

            if (description.trim().length < 20) {
                showStatus('error', '‚ùå –û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 20 —Å–∏–º–≤–æ–ª–æ–≤');
                return;
            }

            // Get user data
            const user = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
            const userName = user.displayName || user.username || '–ì–æ—Å—Ç—å';
            const userId = user.id || 'N/A';

            // Show loading
            showStatus('loading', '‚è≥ –û—Ç–ø—Ä–∞–≤–∫–∞ –∂–∞–ª–æ–±—ã...');

            // Prepare Discord embed
            const embed = {
                title: 'üìã –ù–æ–≤–∞—è –∂–∞–ª–æ–±–∞',
                color: 16711680, // Red color
                fields: [
                    {
                        name: 'üë§ –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å',
                        value: `${userName} (ID: ${userId})`,
                        inline: true
                    },
                    {
                        name: 'üéØ –¢–∏–ø –∂–∞–ª–æ–±—ã',
                        value: complaintType,
                        inline: true
                    },
                    {
                        name: 'üñ•Ô∏è –°–µ—Ä–≤–µ—Ä',
                        value: serverName,
                        inline: true
                    }
                ],
                description: `**üìù –û–ø–∏—Å–∞–Ω–∏–µ:**\n${description}`,
                timestamp: new Date().toISOString(),
                footer: {
                    text: 'BadgRules Complaint System'
                }
            };

            // Add violator ID if provided
            if (violatorId.trim()) {
                embed.fields.push({
                    name: '‚ö†Ô∏è ID –Ω–∞—Ä—É—à–∏—Ç–µ–ª—è',
                    value: violatorId,
                    inline: false
                });
            }

            // Add evidence link if provided
            if (evidence.trim()) {
                embed.fields.push({
                    name: 'üîó –î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞',
                    value: evidence,
                    inline: false
                });
            }

            const payload = {
                username: 'BadgRules Bot',
                avatar_url: 'https://i.imgur.com/AfFp7pu.png', // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∞–≤–∞—Ç–∞—Ä –±–æ—Ç–∞
                embeds: [embed]
            };

            try {
                // Check if webhook is configured
                if (DISCORD_WEBHOOK_URL === 'YOUR_WEBHOOK_URL_HERE') {
                    // Demo mode - just show success
                    console.log('Demo mode - would send:', payload);
                    showStatus('success', '‚úÖ –ñ–∞–ª–æ–±–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! (–î–µ–º–æ-—Ä–µ–∂–∏–º)');

                    // Save to localStorage for demo
                    const complaints = JSON.parse(localStorage.getItem('badgrules_complaints') || '[]');
                    complaints.push({
                        ...payload.embeds[0],
                        id: Date.now(),
                        timestamp: new Date().toISOString()
                    });
                    localStorage.setItem('badgrules_complaints', JSON.stringify(complaints));

                    // Clear form
                    setTimeout(() => {
                        clearComplaintForm();
                    }, 2000);
                    return;
                }

                // Real webhook send
                const response = await fetch(DISCORD_WEBHOOK_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });

                if (response.ok) {
                    showStatus('success', '‚úÖ –ñ–∞–ª–æ–±–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞—Å—Å–º–æ—Ç—Ä–∏—Ç –µ—ë –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.');

                    // Save to localStorage
                    const complaints = JSON.parse(localStorage.getItem('badgrules_complaints') || '[]');
                    complaints.push({
                        ...payload.embeds[0],
                        id: Date.now(),
                        timestamp: new Date().toISOString()
                    });
                    localStorage.setItem('badgrules_complaints', JSON.stringify(complaints));

                    // Clear form after delay
                    setTimeout(() => {
                        clearComplaintForm();
                    }, 3000);
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                console.error('Error sending complaint:', error);
                showStatus('error', '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∂–∞–ª–æ–±—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞–ø—Ä—è–º—É—é.');
            }
        }

        function showStatus(type, message) {
            const statusDiv = document.getElementById('complaintStatus');
            statusDiv.style.display = 'block';

            const colors = {
                success: '#4ade80',
                error: '#f87171',
                loading: '#60a5fa'
            };

            statusDiv.style.color = colors[type] || '#fff';
            statusDiv.style.padding = '1rem';
            statusDiv.style.borderRadius = '8px';
            statusDiv.style.background = 'rgba(255, 255, 255, 0.05)';
            statusDiv.style.border = `1px solid ${colors[type]}`;
            statusDiv.textContent = message;
        }

        function clearComplaintForm() {
            document.getElementById('complaintType').selectedIndex = 0;
            document.getElementById('violatorId').value = '';
            document.getElementById('serverName').selectedIndex = 0;
            document.getElementById('incidentDescription').value = '';
            document.getElementById('evidenceLink').value = '';
            document.getElementById('complaintStatus').style.display = 'none';
        }

        function showRuleDetails(category) {
            const categoryTitles = {
                'basic': '–û—Å–Ω–æ–≤—ã –†–ü',
                'zones': '–ó–æ–Ω—ã',
                'crime': '–ö—Ä–∏–º–∏–Ω–∞–ª',
                'police': '–ü–æ–ª–∏—Ü–∏—è',
                'factions': '–§—Ä–∞–∫—Ü–∏–∏',
                'punishments': '–ù–∞–∫–∞–∑–∞–Ω–∏—è'
            };

            const title = categoryTitles[category];
            chatInput.value = `–†–∞—Å—Å–∫–∞–∂–∏ –ø–æ–¥—Ä–æ–±–Ω–æ –æ —Ä–∞–∑–¥–µ–ª–µ –ø—Ä–∞–≤–∏–ª: ${title}`;
            showSection('home');
            setTimeout(() => sendMessage(), 300);
        }

        
        // –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ–≥–æ –∫—ç—à–∞ –ø—Ä–∞–≤–∏–ª
        async function clearAllRulesCache() {
            // –û—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏
            rulesCache = {};
            console.log('üóëÔ∏è –ö—ç—à –ø–∞–º—è—Ç–∏ –æ—á–∏—â–µ–Ω');
            
            // –û—á–∏—Å—Ç–∫–∞ localStorage
            try {
                localStorage.removeItem('badgrules_rules_cache');
                console.log('üóëÔ∏è localStorage –∫—ç—à –æ—á–∏—â–µ–Ω');
            } catch (e) {
                console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ localStorage:', e);
            }
            
            // –û—á–∏—Å—Ç–∫–∞ Cache API
            if ('caches' in window) {
                try {
                    await caches.delete(CACHE_NAME);
                    console.log('üóëÔ∏è Cache API –æ—á–∏—â–µ–Ω');
                } catch (e) {
                    console.warn('‚ö†Ô∏è –û—à–∏–±–∫–∞ –æ—á–∏—Å—Ç–∫–∏ Cache API:', e);
                }
            }
            
            alert('‚úÖ –í–µ—Å—å –∫—ç—à –ø—Ä–∞–≤–∏–ª –æ—á–∏—â–µ–Ω! –°–ª–µ–¥—É—é—â–∏–π –∑–∞–ø—Ä–æ—Å –∑–∞–≥—Ä—É–∑–∏—Ç —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ.');
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫—ç—à–∞
        async function showCacheStats() {
            let stats = '–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ö–≠–®–ê:\n\n';
            
            // –ü–∞–º—è—Ç—å
            const memoryCount = Object.keys(rulesCache).length;
            stats += `üíæ –í –ø–∞–º—è—Ç–∏: ${memoryCount} —Å—Ç—Ä–∞–Ω–∏—Ü\n`;
            
            // localStorage
            try {
                const saved = localStorage.getItem('badgrules_rules_cache');
                if (saved) {
                    const parsed = JSON.parse(saved);
                    stats += `üì¶ localStorage: ${Object.keys(parsed).length} —Å—Ç—Ä–∞–Ω–∏—Ü\n`;
                } else {
                    stats += 'üì¶ localStorage: 0 —Å—Ç—Ä–∞–Ω–∏—Ü\n';
                }
            } catch (e) {
                stats += 'üì¶ localStorage: –æ—à–∏–±–∫–∞\n';
            }
            
            // Cache API
            if ('caches' in window) {
                try {
                    const cache = await caches.open(CACHE_NAME);
                    const requests = await cache.keys();
                    stats += `üåê Cache API: ${requests.length} —Å—Ç—Ä–∞–Ω–∏—Ü\n`;
                } catch (e) {
                    stats += 'üåê Cache API: –æ—à–∏–±–∫–∞\n';
                }
            } else {
                stats += 'üåê Cache API: –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è\n';
            }
            
            alert(stats);
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ü§ñ DISCORD BOT FUNCTIONS - –§—É–Ω–∫—Ü–∏–∏ Discord –±–æ—Ç–∞
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // Configuration
        const BOT_CONFIG = {
            clientId: 'YOUR_BOT_CLIENT_ID', // –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ Client ID –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
            inviteUrl: 'https://discord.com/api/oauth2/authorize?client_id=YOUR_BOT_CLIENT_ID&permissions=8&scope=bot%20applications.commands',
            familyBaseUrl: 'https://discord.com/api/oauth2/authorize?client_id=YOUR_BOT_CLIENT_ID&permissions=8&scope=bot%20applications.commands&guild_id='
        };

        // Bot Settings Storage
        let botSettings = {
            autoMod: true,
            welcomeMsg: true,
            aiResponses: true,
            welcomeChannel: '#general',
            complaintChannel: '#–∂–∞–ª–æ–±—ã',
            botLanguage: 'ru',
            botPrefix: '!',
            logChannel: '#bot-logs',
            adminRole: '@–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä'
        };

        // Load saved settings
        function loadBotSettings() {
            const saved = localStorage.getItem('badgrules_bot_settings');
            if (saved) {
                try {
                    botSettings = JSON.parse(saved);
                    applyBotSettings();
                } catch (e) {
                    console.error('Error loading bot settings:', e);
                }
            }
        }

        // Apply settings to UI
        function applyBotSettings() {
            const fields = ['welcomeChannel', 'complaintChannel', 'botLanguage', 'botPrefix', 'logChannel', 'adminRole'];
            fields.forEach(field => {
                const element = document.getElementById(field);
                if (element && botSettings[field]) {
                    element.value = botSettings[field];
                }
            });
        }

        // Toggle Setting
        function toggleSetting(element, setting) {
            element.classList.toggle('active');
            botSettings[setting] = element.classList.contains('active');

            const statusText = element.parentElement.querySelector('span');
            if (statusText) {
                statusText.textContent = botSettings[setting] ? '–í–∫–ª—é—á–µ–Ω–æ' : '–í—ã–∫–ª—é—á–µ–Ω–æ';
            }
        }

        // Open Bot Settings Modal
        function openBotSettings() {
            const modal = document.getElementById('settingsModal');
            if (modal) {
                modal.classList.add('active');
                loadBotSettings();
            }
        }

        // Close Bot Settings Modal
        function closeBotSettings() {
            const modal = document.getElementById('settingsModal');
            if (modal) {
                modal.classList.remove('active');
            }
        }

        // Close modal on background click
        document.addEventListener('click', (e) => {
            const modal = document.getElementById('settingsModal');
            if (e.target === modal) {
                closeBotSettings();
            }
        });

        // Save Settings
        function saveSettings() {
            // Get all input values
            botSettings.welcomeChannel = document.getElementById('welcomeChannel').value;
            botSettings.complaintChannel = document.getElementById('complaintChannel').value;
            botSettings.botLanguage = document.getElementById('botLanguage').value;
            botSettings.botPrefix = document.getElementById('botPrefix').value;
            botSettings.logChannel = document.getElementById('logChannel').value;
            botSettings.adminRole = document.getElementById('adminRole').value;

            // Save to localStorage
            localStorage.setItem('badgrules_bot_settings', JSON.stringify(botSettings));

            // Show success message
            const statusDiv = document.getElementById('settingsStatus');
            if (statusDiv) {
                statusDiv.style.display = 'block';
                statusDiv.style.background = 'rgba(74, 222, 128, 0.1)';
                statusDiv.style.border = '1px solid #4ade80';
                statusDiv.style.color = '#4ade80';
                statusDiv.textContent = '‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!';

                setTimeout(() => {
                    statusDiv.style.display = 'none';
                }, 3000);
            }

            console.log('Bot settings saved:', botSettings);
        }

        // Add Bot to Server
        function addBotToServer() {
            if (BOT_CONFIG.clientId === 'YOUR_BOT_CLIENT_ID') {
                alert('‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞\n\n–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:\n1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Discord Developer Portal\n2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Client ID\n3. –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_BOT_CLIENT_ID –≤ –∫–æ–¥–µ –Ω–∞ –≤–∞—à Client ID\n\n–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–Ω–æ–ø–∫–∞ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!');
                return;
            }
            window.open(BOT_CONFIG.inviteUrl, '_blank', 'width=500,height=700');
        }

        // Add Bot for Family
        function addBotForFamily() {
            if (BOT_CONFIG.clientId === 'YOUR_BOT_CLIENT_ID') {
                alert('‚ö†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞\n\n–°–Ω–∞—á–∞–ª–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ Client ID –±–æ—Ç–∞ (—Å–º. —Ñ—É–Ω–∫—Ü–∏—é addBotToServer)');
                return;
            }

            const guildId = prompt('üéÆ –í–≤–µ–¥–∏—Ç–µ ID –≤–∞—à–µ–≥–æ Discord —Å–µ—Ä–≤–µ—Ä–∞ (Guild ID):\n\n–ö–∞–∫ –Ω–∞–π—Ç–∏ Guild ID:\n1. –í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ Discord (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ)\n2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –ø–æ —Å–µ—Ä–≤–µ—Ä—É ‚Üí –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å ID —Å–µ—Ä–≤–µ—Ä–∞');

            if (guildId && guildId.trim()) {
                const url = BOT_CONFIG.familyBaseUrl + guildId.trim();
                window.open(url, '_blank', 'width=500,height=700');
            }
        }

        // Initialize bot settings on page load
        loadBotSettings();

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üìú SCROLL REVEAL ANIMATIONS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function initScrollReveal() {
            const observerOptions = {
                root: null,
                rootMargin: '0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('revealed');
                    }
                });
            }, observerOptions);

            // Observe all scroll-reveal elements
            const revealElements = document.querySelectorAll('.scroll-reveal, .scroll-reveal-left, .scroll-reveal-right, .scroll-reveal-scale');
            revealElements.forEach(el => observer.observe(el));
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', initScrollReveal);

        // Re-initialize when switching to home section
        const originalShowSection = showSection;
        showSection = function (sectionName) {
            originalShowSection(sectionName);
            if (sectionName === 'home') {
                setTimeout(initScrollReveal, 100);
            }
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üíé SUBSCRIPTION SYSTEM
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        const SUBSCRIPTION_PLANS = {
            '1month': { name: '1 –º–µ—Å—è—Ü', priceRub: 200, priceUsd: 2.10, months: 1 },
            '3months': { name: '3 –º–µ—Å—è—Ü–∞', priceRub: 450, priceUsd: 4.75, months: 3 },
            '6months': { name: '6 –º–µ—Å—è—Ü–µ–≤', priceRub: 800, priceUsd: 8.45, months: 6 },
            '1year': { name: '12 –º–µ—Å—è—Ü–µ–≤', priceRub: 1500, priceUsd: 15.85, months: 12 },
            'lifetime': { name: '–ù–∞–≤—Å–µ–≥–¥–∞', priceRub: 2500, priceUsd: 26.40, months: -1 }
        };

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        function checkSubscription() {
            try {
                // –ß–∏—Ç–∞–µ–º –ø–æ–¥–ø–∏—Å–∫—É –∏–∑ localStorage (—Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é –±–æ—Ç–æ–º)
                const subscriptionData = localStorage.getItem('badgrules_subscription');
                
                if (!subscriptionData) {
                    console.log('üì≠ –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–∫–∏ –≤ localStorage');
                    return null;
                }

                const sub = JSON.parse(subscriptionData);
                console.log('üì¶ –ü–æ–¥–ø–∏—Å–∫–∞ –∏–∑ localStorage:', sub);
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º lifetime
                if (sub.type === 'lifetime') {
                    console.log('‚ôæÔ∏è Lifetime –ø–æ–¥–ø–∏—Å–∫–∞');
                    return { ...sub, type: 'lifetime' };
                }

                // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
                const expiresAt = new Date(sub.expiresAt);
                const now = new Date();
                
                if (expiresAt > now) {
                    const daysLeft = Math.ceil((expiresAt - now) / (1000 * 60 * 60 * 24));
                    console.log('üíé PRO –ø–æ–¥–ø–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–Ω–∞, –¥–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å:', daysLeft);
                    return { ...sub, type: 'pro', daysLeft };
                } else {
                    console.log('‚è∞ –ü–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞');
                    localStorage.removeItem('badgrules_subscription');
                    return null;
                }
            } catch (e) {
                console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏:', e);
                return null;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –ø–æ–¥–ø–∏—Å–∫–∏
        function updateSubscriptionUI() {
            const sub = checkSubscription();
            const badge = document.getElementById('subBadgeMini');
            const statusBadge = document.getElementById('currentStatusBadge');

            if (!badge || !statusBadge) return;

            // –û–±–Ω–æ–≤–ª—è–µ–º badge –æ–∫–æ–ª–æ –∞–≤–∞—Ç–∞—Ä–∫–∏
            if (sub) {
                badge.classList.remove('free', 'pro', 'lifetime');
                if (sub.type === 'lifetime') {
                    badge.classList.add('lifetime');
                    badge.textContent = '‚ôæÔ∏è';
                    statusBadge.className = 'current-status lifetime';
                    statusBadge.innerHTML = `
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="8" r="7"></circle>
                            <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
                        </svg>
                        LIFETIME
                    `;
                } else {
                    badge.classList.add('pro');
                    badge.textContent = 'üíé';
                    const expiresDate = new Date(sub.expiresAt);
                    const daysLeft = Math.ceil((expiresDate - new Date()) / (1000 * 60 * 60 * 24));
                    statusBadge.className = 'current-status pro';
                    statusBadge.innerHTML = `
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"></circle>
                            <polyline points="12 6 12 12 16 14"></polyline>
                        </svg>
                        PRO (${daysLeft} –¥–Ω–µ–π)
                    `;
                }
            } else {
                badge.classList.remove('pro', 'lifetime');
                badge.classList.add('free');
                badge.textContent = 'üíé';
                statusBadge.className = 'current-status free';
                statusBadge.innerHTML = `
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    FREE –ø–ª–∞–Ω
                `;
            }

            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –ø–ª–∞–Ω
            document.querySelectorAll('.pricing-card').forEach(card => {
                card.classList.remove('active');
            });

            if (sub) {
                const activePlan = sub.plan || sub.planId;
                const activeCard = document.querySelector(`.pricing-card[data-plan="${activePlan}"]`);
                if (activeCard) {
                    activeCard.classList.add('active');
                }
            }
        }

        // –û—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª–∫–∏ –æ–ø–ª–∞—Ç—ã (–∑–∞–≥–ª—É—à–∫–∞ - –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –æ–ø–ª–∞—Ç—É)
        function openPaymentModal(plan) {
            const planData = SUBSCRIPTION_PLANS[plan];
            alert(`üíé –û–ø–ª–∞—Ç–∞ –ø–æ–¥–ø–∏—Å–∫–∏\n\n–ü–ª–∞–Ω: ${planData.name}\n–¶–µ–Ω–∞: ${planData.priceRub}‚ÇΩ ($${planData.priceUsd})\n\n–î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.`);
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üíé PARTICLES ANIMATION FOR SUBSCRIPTION SECTION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function initParticles() {
            const canvas = document.getElementById('particlesCanvas');
            if (!canvas) return;

            const ctx = canvas.getContext('2d');
            let particles = [];
            let animationFrameId;

            // Resize canvas
            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            // Particle class
            class Particle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 2 + 1;
                    this.speedX = Math.random() * 0.5 - 0.25;
                    this.speedY = Math.random() * 0.5 - 0.25;
                    this.opacity = Math.random() * 0.5 + 0.2;
                }

                update() {
                    this.x += this.speedX;
                    this.y += this.speedY;

                    // Wrap around edges
                    if (this.x > canvas.width) this.x = 0;
                    if (this.x < 0) this.x = canvas.width;
                    if (this.y > canvas.height) this.y = 0;
                    if (this.y < 0) this.y = canvas.height;
                }

                draw() {
                    ctx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            // Create particles
            function createParticles() {
                const particleCount = Math.floor((canvas.width * canvas.height) / 15000);
                for (let i = 0; i < particleCount; i++) {
                    particles.push(new Particle());
                }
            }

            // Connect particles
            function connectParticles() {
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const dx = particles[i].x - particles[j].x;
                        const dy = particles[i].y - particles[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < 100) {
                            ctx.strokeStyle = `rgba(255, 255, 255, ${0.1 * (1 - distance / 100)})`;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.stroke();
                        }
                    }
                }
            }

            // Animation loop
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                particles.forEach(particle => {
                    particle.update();
                    particle.draw();
                });

                connectParticles();

                animationFrameId = requestAnimationFrame(animate);
            }

            createParticles();
            animate();

            // Cleanup
            return () => {
                cancelAnimationFrame(animationFrameId);
                window.removeEventListener('resize', resizeCanvas);
            };
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —Å–µ–∫—Ü–∏—é –ø–æ–¥–ø–∏—Å–∫–∏
        function showSubscriptionSection() {
            const subSection = document.getElementById('subscriptionSection');
            const scrollIndicator = document.querySelector('.vertical-scroll-indicator');
            
            if (subSection) {
                subSection.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                
                // –°–∫—Ä—ã–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä
                if (scrollIndicator) {
                    scrollIndicator.style.display = 'none';
                }
                
                // Initialize particles
                setTimeout(() => {
                    initParticles();
                }, 100);
                
                updateSubscriptionUI();
            }
        }

        // –ó–∞–∫—Ä—ã—Ç—å —Å–µ–∫—Ü–∏—é –ø–æ–¥–ø–∏—Å–∫–∏
        function closeSubscriptionSection() {
            const subSection = document.getElementById('subscriptionSection');
            const scrollIndicator = document.querySelector('.vertical-scroll-indicator');
            
            if (subSection) {
                subSection.classList.add('hidden');
                // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–æ–∫—Ä—É—Ç–∫—É
                document.body.style.overflow = '';
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–∫—Ä–æ–ª–ª-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ
                if (scrollIndicator) {
                    scrollIndicator.style.display = 'flex';
                }
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeSubscriptionSection();
            }
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', () => {
            updateSubscriptionUI();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
            setInterval(updateSubscriptionUI, 60000);

            // Pricing toggle functionality
            const toggleBtns = document.querySelectorAll('.toggle-btn');
            const indicator = document.querySelector('.toggle-indicator');

            toggleBtns.forEach((btn, index) => {
                btn.addEventListener('click', () => {
                    // Remove active from all
                    toggleBtns.forEach(b => b.classList.remove('active'));
                    
                    // Add active to clicked
                    btn.classList.add('active');
                    
                    // Move indicator
                    if (indicator) {
                        indicator.style.transform = `translateX(${index * 100}%)`;
                    }

                    // Update prices based on period
                    const period = btn.dataset.period;
                    console.log('Selected period:', period);
                });
            });
        });

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // ‚ö†Ô∏è –í–ê–ñ–ù–û: –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_PAYPAL_EMAIL –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π PayPal email
        const PAYPAL_EMAIL = 'YOUR_PAYPAL_EMAIL@example.com';

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ‚ú® GLOBAL PARTICLES ANIMATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        let globalParticlesInitialized = false;

        function initGlobalParticles() {
            if (globalParticlesInitialized) return;
            
            const canvas = document.getElementById('globalParticlesCanvas');
            if (!canvas) return;

            globalParticlesInitialized = true;
            const ctx = canvas.getContext('2d');
            let particles = [];
            let animationFrameId;

            function resizeCanvas() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }

            resizeCanvas();
            window.addEventListener('resize', resizeCanvas);

            class GlobalParticle {
                constructor() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.size = Math.random() * 2.5 + 1;
                    this.speedX = Math.random() * 0.6 - 0.3;
                    this.speedY = Math.random() * 0.6 - 0.3;
                    this.opacity = Math.random() * 0.6 + 0.2;
                    this.color = this.getRandomColor();
                }

                getRandomColor() {
                    const colors = [
                        'rgba(96, 165, 250, ',
                        'rgba(59, 130, 246, ',
                        'rgba(16, 185, 129, ',
                        'rgba(255, 255, 255, '
                    ];
                    return colors[Math.floor(Math.random() * colors.length)];
                }

                update() {
                    this.x += this.speedX;
                    this.y += this.speedY;

                    if (this.x > canvas.width) this.x = 0;
                    if (this.x < 0) this.x = canvas.width;
                    if (this.y > canvas.height) this.y = 0;
                    if (this.y < 0) this.y = canvas.height;
                }

                draw() {
                    ctx.fillStyle = this.color + this.opacity + ')';
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                    ctx.fill();
                }
            }

            function createParticles() {
                const particleCount = Math.floor((canvas.width * canvas.height) / 12000);
                for (let i = 0; i < particleCount; i++) {
                    particles.push(new GlobalParticle());
                }
            }

            function connectParticles() {
                for (let i = 0; i < particles.length; i++) {
                    for (let j = i + 1; j < particles.length; j++) {
                        const dx = particles[i].x - particles[j].x;
                        const dy = particles[i].y - particles[j].y;
                        const distance = Math.sqrt(dx * dx + dy * dy);

                        if (distance < 120) {
                            const opacity = 0.15 * (1 - distance / 120);
                            ctx.strokeStyle = `rgba(96, 165, 250, ${opacity})`;
                            ctx.lineWidth = 1;
                            ctx.beginPath();
                            ctx.moveTo(particles[i].x, particles[i].y);
                            ctx.lineTo(particles[j].x, particles[j].y);
                            ctx.stroke();
                        }
                    }
                }
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                particles.forEach(particle => {
                    particle.update();
                    particle.draw();
                });

                connectParticles();
                animationFrameId = requestAnimationFrame(animate);
            }

            createParticles();
            animate();

            return () => {
                cancelAnimationFrame(animationFrameId);
                window.removeEventListener('resize', resizeCanvas);
            };
        }

        // Initialize global particles on page load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initGlobalParticles);
        } else {
            initGlobalParticles();
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üíé UPDATE SUBSCRIPTION STATUS BADGE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // Wrap original updateSubscriptionUI
        const originalUpdateSubscriptionUI = window.updateSubscriptionUI || function() {};

        window.updateSubscriptionUI = function() {
            // Call original function if exists
            if (typeof originalUpdateSubscriptionUI === 'function') {
                originalUpdateSubscriptionUI();
            }

            // Update status badge
            const sub = checkSubscription();
            const statusBadge = document.getElementById('subscriptionStatusBadge');
            const statusText = document.getElementById('subscriptionStatusText');
            const statusIcon = statusBadge?.querySelector('.subscription-status-icon');
            const miniBadge = document.getElementById('subBadgeMini');
            const userAvatar = document.getElementById('userAvatar');

            if (!statusBadge || !statusText) return;

            // –£–¥–∞–ª—è–µ–º –≤—Å–µ –∫–ª–∞—Å—Å—ã –ø–æ–¥–ø–∏—Å–∫–∏ —Å –∞–≤–∞—Ç–∞—Ä–∫–∏
            if (userAvatar) {
                userAvatar.classList.remove('subscription-free', 'subscription-pro', 'subscription-lifetime');
            }

            if (sub) {
                if (sub.type === 'lifetime') {
                    // Lifetime subscription
                    statusBadge.className = 'subscription-status-badge lifetime';
                    statusIcon.textContent = '‚ôæÔ∏è';
                    statusText.textContent = 'LIFETIME';
                    
                    if (miniBadge) {
                        miniBadge.className = 'sub-badge-mini lifetime';
                        miniBadge.textContent = '‚ôæÔ∏è';
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∫ –∞–≤–∞—Ç–∞—Ä–∫–µ
                    if (userAvatar) {
                        userAvatar.classList.add('subscription-lifetime');
                    }
                } else {
                    // Pro subscription
                    statusBadge.className = 'subscription-status-badge pro';
                    statusIcon.textContent = 'üíé';
                    statusText.textContent = 'PRO';
                    
                    if (miniBadge) {
                        miniBadge.className = 'sub-badge-mini pro';
                        miniBadge.textContent = 'üíé';
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∫ –∞–≤–∞—Ç–∞—Ä–∫–µ
                    if (userAvatar) {
                        userAvatar.classList.add('subscription-pro');
                    }
                }
            } else {
                // Free plan
                statusBadge.className = 'subscription-status-badge free';
                statusIcon.textContent = '‚ö°';
                statusText.textContent = 'FREE';
                
                if (miniBadge) {
                    miniBadge.className = 'sub-badge-mini free';
                }
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∫ –∞–≤–∞—Ç–∞—Ä–∫–µ
                if (userAvatar) {
                    userAvatar.classList.add('subscription-free');
                }
            }

            // Update Profile Subscription Badge
            updateProfileSubscriptionBadge();
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // üíé UPDATE COMPACT PROFILE SUBSCRIPTION BADGE
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function updateProfileSubscriptionBadge() {
            const sub = checkSubscription();
            const badge = document.getElementById('profileSubBadge');
            const icon = document.getElementById('profileSubIcon');
            const text = document.getElementById('profileSubText');
            const profileAvatar = document.getElementById('profileAvatarImg');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–ª–∞—Å—Å –∞–≤–∞—Ç–∞—Ä–∫–∏ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ
            if (profileAvatar) {
                profileAvatar.classList.remove('subscription-free', 'subscription-pro', 'subscription-lifetime');
                
                if (sub) {
                    if (sub.type === 'lifetime') {
                        profileAvatar.classList.add('subscription-lifetime');
                    } else {
                        profileAvatar.classList.add('subscription-pro');
                    }
                } else {
                    profileAvatar.classList.add('subscription-free');
                }
            }
            
            if (!badge || !icon || !text) return;

            if (sub) {
                if (sub.type === 'lifetime') {
                    // Lifetime subscription
                    badge.className = 'profile-subscription-badge lifetime';
                    icon.textContent = '‚ôæÔ∏è';
                    text.textContent = 'LIFETIME';
                } else {
                    // Pro subscription
                    badge.className = 'profile-subscription-badge pro';
                    icon.textContent = 'üíé';
                    text.textContent = 'PRO';
                }
            } else {
                // Free plan
                badge.className = 'profile-subscription-badge free';
                icon.textContent = '‚ö°';
                text.textContent = 'FREE';
            }
        }

        // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –í–°–ï–• badge
        function updateAllSubscriptionBadges() {
            const sub = checkSubscription();
            console.log('üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö badge:', sub);
            
            // 1. Badge –≤ —Ö–µ–¥–µ—Ä–µ (subBadgeMini)
            const headerBadge = document.getElementById('subBadgeMini');
            if (headerBadge) {
                headerBadge.classList.remove('free', 'pro', 'lifetime');
                if (sub) {
                    if (sub.type === 'lifetime') {
                        headerBadge.classList.add('lifetime');
                        headerBadge.textContent = '‚ôæÔ∏è';
                    } else {
                        headerBadge.classList.add('pro');
                        headerBadge.textContent = 'üíé';
                    }
                } else {
                    headerBadge.classList.add('free');
                    headerBadge.textContent = '‚ö°';
                }
                console.log('‚úÖ Header badge –æ–±–Ω–æ–≤–ª–µ–Ω:', headerBadge.className);
            }
            
            // 2. Badge –≤ dropdown (subscriptionStatusBadge)
            const dropdownBadge = document.getElementById('subscriptionStatusBadge');
            const dropdownIcon = dropdownBadge?.querySelector('.subscription-status-icon');
            const dropdownText = document.getElementById('subscriptionStatusText');
            
            if (dropdownBadge) {
                dropdownBadge.classList.remove('free', 'pro', 'lifetime');
                if (sub) {
                    if (sub.type === 'lifetime') {
                        dropdownBadge.classList.add('lifetime');
                        if (dropdownIcon) dropdownIcon.textContent = '‚ôæÔ∏è';
                        if (dropdownText) dropdownText.textContent = 'LIFETIME';
                    } else {
                        dropdownBadge.classList.add('pro');
                        if (dropdownIcon) dropdownIcon.textContent = 'üíé';
                        if (dropdownText) dropdownText.textContent = 'PRO';
                    }
                } else {
                    dropdownBadge.classList.add('free');
                    if (dropdownIcon) dropdownIcon.textContent = '‚ö°';
                    if (dropdownText) dropdownText.textContent = 'FREE';
                }
                console.log('‚úÖ Dropdown badge –æ–±–Ω–æ–≤–ª–µ–Ω:', dropdownBadge.className);
            }
            
            // 3. –°—Ç–∞—Ç—É—Å –≤ —Ä–∞–∑–¥–µ–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏ (subscriptionSection)
            const statusValue = document.getElementById('statusValueText');
            const statusBadge = document.getElementById('statusBadgeIcon');
            const statusCard = document.getElementById('subStatusCard');
            
            if (statusValue && statusBadge && statusCard) {
                // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∫–ª–∞—Å—Å—ã
                statusCard.classList.remove('status-free', 'status-pro', 'status-lifetime');
                
                if (sub) {
                    if (sub.type === 'lifetime') {
                        statusValue.textContent = 'LIFETIME';
                        statusBadge.textContent = '‚ôæÔ∏è';
                        statusCard.classList.add('status-lifetime');
                    } else {
                        statusValue.textContent = 'PRO';
                        statusBadge.textContent = 'üíé';
                        statusCard.classList.add('status-pro');
                    }
                } else {
                    statusValue.textContent = 'FREE';
                    statusBadge.textContent = '‚ö°';
                    statusCard.classList.add('status-free');
                }
                console.log('‚úÖ Subscription section status –æ–±–Ω–æ–≤–ª–µ–Ω:', statusValue.textContent);
            }
            
            // 4. Badge –≤ –ø—Ä–æ—Ñ–∏–ª–µ
            updateProfileSubscriptionBadge();
            console.log('‚úÖ Profile badge –æ–±–Ω–æ–≤–ª–µ–Ω');
            
            // 5. Badge –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ–¥–ø–∏—Å–æ–∫
            updateSubscriptionUI();
            console.log('‚úÖ Subscription page –æ–±–Ω–æ–≤–ª–µ–Ω–∞');
            
            console.log('üéâ –í—Å–µ badge –æ–±–Ω–æ–≤–ª–µ–Ω—ã!');
        }

        // Call on page load
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                updateProfileSubscriptionBadge();
                updateAllSubscriptionBadges();
            });
        } else {
            updateProfileSubscriptionBadge();
            updateAllSubscriptionBadges();
        }

        // –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ badge –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
        setInterval(() => {
            console.log('‚è∞ –ü–ª–∞–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ badge...');
            updateAllSubscriptionBadges();
        }, 10000); // 10 —Å–µ–∫—É–Ω–¥

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // ü§ñ BOT API INTEGRATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

       const BOT_API = {
            // ‚úÖ Railway URL —Å /api –Ω–∞ –∫–æ–Ω—Ü–µ
            // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô Railway URL
            // ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–´–ô URL - –° /api –ù–ê –ö–û–ù–¶–ï!
            BASE_URL: 'https://badgbotmain-production.up.railway.app/api',
            SECRET: 'RwNbyMc-dR2g6aaz8YemkbxqHh5R7E0_',
            ENABLED: true,
            DEBUG: true
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // API CALLS
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        async function botApiCall(endpoint, method = 'GET', data = null) {
            if (!BOT_API.ENABLED) {
                console.warn('‚ö†Ô∏è Bot API disabled. Set BOT_API.ENABLED = true');
                return null;
            }
            
            const url = `${BOT_API.BASE_URL}${endpoint}`;
            
            if (BOT_API.DEBUG) {
                console.log(`üì° API Request: ${method} ${url}`);
                if (data) console.log('üì§ Data:', data);
            }
            
            try {
                const options = {
                    method: method,
                    headers: {
                        'Content-Type': 'application/json',
                        'X-API-Secret': BOT_API.SECRET
                    }
                };

                if (data && method !== 'GET') {
                    options.body = JSON.stringify(data);
                }

                const response = await fetch(url, options);
                
                if (BOT_API.DEBUG) {
                    console.log(`üì• Response: ${response.status} ${response.statusText}`);
                }
                
                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`API Error ${response.status}: ${errorText}`);
                }

                const result = await response.json();
                
                if (BOT_API.DEBUG) {
                    console.log('‚úÖ Response data:', result);
                }
                
                return result;
            } catch (error) {
                console.error('‚ùå Bot API Error:', error);
                console.error('URL:', url);
                console.error('Method:', method);
                return null;
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // SUBSCRIPTION CHECK FROM BOT
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        async function checkSubscriptionFromBot(userId) {
            console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è:', userId);
            
            const result = await botApiCall(`/subscription/${userId}`);
            
            console.log('üì¶ –û—Ç–≤–µ—Ç –æ—Ç –±–æ—Ç–∞:', result);
            
            if (!result) {
                console.error('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ—Ç –±–æ—Ç–∞');
                return null;
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–Ω–∞ –ü–ï–†–í–´–ú –î–ï–õ–û–ú
            if (result.banned) {
                console.warn('üî® –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–∞–Ω–µ–Ω!');
                handleUserBanned();
                return null;
            }
            
            console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –∑–∞–±–∞–Ω–µ–Ω');
            
            if (result.subscription) {
                const sub = result.subscription;
                console.log('üìã –î–∞–Ω–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∫–∏:', sub);
                
                const now = new Date();
                const expires = new Date(sub.expires_at);
                
                console.log('‚è∞ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:');
                console.log('   –°–µ–π—á–∞—Å:', now);
                console.log('   –ò—Å—Ç–µ–∫–∞–µ—Ç:', expires);
                console.log('   –ê–∫—Ç–∏–≤–Ω–∞ –≤ –ë–î:', sub.active);
                console.log('   –ù–µ –∏—Å—Ç–µ–∫–ª–∞:', expires > now);
                
                // –£–ü–†–û–©–Å–ù–ù–ê–Ø –ø—Ä–æ–≤–µ—Ä–∫–∞ - –µ—Å–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞ –µ—Å—Ç—å –≤ –ë–î, –æ–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞
                if (expires > now) {
                    console.log('üíé –ü–û–î–ü–ò–°–ö–ê –ê–ö–¢–ò–í–ù–ê! –°–æ—Ö—Ä–∞–Ω—è–µ–º...');
                    
                    const subData = {
                        type: sub.type,
                        plan: sub.plan,
                        expiresAt: sub.expires_at,
                        grantedAt: sub.granted_at,
                        active: true
                    };
                    
                    console.log('üíæ –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage:', subData);
                    localStorage.setItem('badgrules_subscription', JSON.stringify(subData));
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å
                    const saved = localStorage.getItem('badgrules_subscription');
                    console.log('‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', saved);
                    
                    // –û–±–Ω–æ–≤–∏—Ç—å –í–°–ï badge –≤–µ–∑–¥–µ
                    console.log('üîÑ –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ badge...');
                    if (typeof updateAllSubscriptionBadges === 'function') {
                        updateAllSubscriptionBadges();
                    }
                    
                    console.log('‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞:', sub.type);
                    return sub;
                } else {
                    // –ü–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞
                    console.log('‚è∞ –ü–æ–¥–ø–∏—Å–∫–∞ –∏—Å—Ç–µ–∫–ª–∞');
                    localStorage.removeItem('badgrules_subscription');
                    if (typeof updateAllSubscriptionBadges === 'function') {
                        updateAllSubscriptionBadges();
                    }
                }
            } else {
                console.log('‚ö° –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ - FREE –ø–ª–∞–Ω');
                console.log('üóëÔ∏è –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage');
                localStorage.removeItem('badgrules_subscription');
                if (typeof updateAllSubscriptionBadges === 'function') {
                    updateAllSubscriptionBadges();
                }
            }
            
            return null;
        }

        async function checkSubscriptionStatus() {
            try {
                const userId = localStorage.getItem('userId');
                if (!userId) return;

                const response = await fetch(`https://your-api.com/subscriptions/${userId}`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('token')}`
                    }
                });
                
                if (response.ok) {
                    const subscription = await response.json();
                    updateSubscriptionUI(subscription);
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏:', error);
            }
        }

        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            checkSubscriptionStatus();
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–µ 60 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ WebSocket –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
            setInterval(checkSubscriptionStatus, 60000);
        });

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // SEND LOGS TO BOT
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        async function sendLogToBot(eventType, userId, data) {
            await botApiCall('/log', 'POST', {
                event_type: eventType,
                user_id: userId,
                data: data
            });
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // AUTO SYNC ON LOGIN
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤—Ö–æ–¥–∞
        const originalLoginComplete = window.loginComplete || function() {};

        window.loginComplete = async function(userData) {
            // –í—ã–∑—ã–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é
            originalLoginComplete(userData);
            
            // –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–æ—Ç–æ–º –ü–ï–†–ï–î –ø–æ–∫–∞–∑–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            if (BOT_API.ENABLED && userData && userData.id) {
                console.log('ü§ñ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –±–æ—Ç–æ–º...');
                console.log('   User ID:', userData.id);
                console.log('   Username:', userData.username);
                
                // –°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ë–ê–ù –∏ –ü–û–î–ü–ò–°–ö–£
                const result = await botApiCall(`/subscription/${userData.id}`);
                
                console.log('üì¶ –ü–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç –æ—Ç –±–æ—Ç–∞:', result);
                
                if (result && result.banned) {
                    console.error('üî® –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ó–ê–ë–ê–ù–ï–ù!');
                    console.error('   User ID:', userData.id);
                    console.error('   –ë–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø...');
                    
                    // –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å!
                    handleUserBanned();
                    return; // –û–°–¢–ê–ù–ê–í–õ–ò–í–ê–ï–ú –í–´–ü–û–õ–ù–ï–ù–ò–ï
                }
                
                console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ù–ï –∑–∞–±–∞–Ω–µ–Ω, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º...');
                
                // –ï—Å–ª–∏ –Ω–µ –∑–∞–±–∞–Ω–µ–Ω - –ø—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É
                const subscription = await checkSubscriptionFromBot(userData.id);
                
                console.log('üìã –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏:', subscription);
                
                // –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ badge –ø–æ—Å–ª–µ –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
                setTimeout(() => {
                    console.log('üîÑ –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö badge...');
                    if (typeof updateAllSubscriptionBadges === 'function') {
                        updateAllSubscriptionBadges();
                    }
                }, 500);
                
                // –ò –µ—â—ë —Ä–∞–∑ —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π
                setTimeout(() => {
                    console.log('üîÑ –ü–û–í–¢–û–†–ù–û–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö badge...');
                    if (typeof updateAllSubscriptionBadges === 'function') {
                        updateAllSubscriptionBadges();
                    }
                }, 1500);
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ª–æ–≥ –≤—Ö–æ–¥–∞
                await sendLogToBot('user_login', userData.id, {
                    username: userData.username,
                    discriminator: userData.discriminator,
                    avatar: userData.avatar,
                    timestamp: new Date().toISOString()
                });
                
                if (subscription) {
                    console.log('‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞:', subscription.type);
                } else {
                    console.log('‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞: FREE');
                }
            }
        };

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // PERIODIC SUBSCRIPTION CHECK
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function startSubscriptionSync() {
            if (!BOT_API.ENABLED) return;
            
            // –ü—Ä–æ–≤–µ—Ä—è—Ç—å –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥ (—á–∞—â–µ —á–µ–º —Ä–∞–Ω—å—à–µ!)
            setInterval(async () => {
                const userData = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
                
                if (userData && userData.id) {
                    console.log('üîÑ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–Ω–∞ –∏ –ø–æ–¥–ø–∏—Å–∫–∏...');
                    
                    // –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞–ø—Ä—è–º—É—é –æ—Ç –±–æ—Ç–∞
                    const result = await botApiCall(`/subscription/${userData.id}`);
                    
                    if (result) {
                        // –ü–†–û–í–ï–†–ö–ê –ë–ê–ù–ê –ü–ï–†–í–´–ú –î–ï–õ–û–ú
                        if (result.banned) {
                            console.error('üî® –û–ë–ù–ê–†–£–ñ–ï–ù –ë–ê–ù! –ë–ª–æ–∫–∏—Ä—É–µ–º –¥–æ—Å—Ç—É–ø...');
                            handleUserBanned();
                            return;
                        }
                        
                        // –ï—Å–ª–∏ –Ω–µ –∑–∞–±–∞–Ω–µ–Ω - –æ–±–Ω–æ–≤–ª—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É
                        await checkSubscriptionFromBot(userData.id);
                    }
                }
            }, 30 * 1000);  // 30 —Å–µ–∫—É–Ω–¥
            
            console.log('ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–ø—É—â–µ–Ω–∞ (–∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥)');
        }

        // –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', startSubscriptionSync);
        } else {
            startSubscriptionSync();
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // MANUAL SUBSCRIPTION SYNC
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        async function manualSyncSubscription() {
            if (!BOT_API.ENABLED) {
                alert('‚ùå Bot API –æ—Ç–∫–ª—é—á–µ–Ω! –í–∫–ª—é—á–∏—Ç–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.');
                return;
            }

            const userData = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
            
            if (!userData || !userData.id) {
                alert('‚ùå –í—ã –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ã!');
                return;
            }

            console.log('üîÑ –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∫–∏...');
            
            // –ü–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ...';
            button.disabled = true;
            
            try {
                const subscription = await checkSubscriptionFromBot(userData.id);
                
                if (subscription) {
                    console.log('‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞:', subscription.type);
                    button.textContent = '‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ!';
                    
                    // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                    showNotification(`–ü–æ–¥–ø–∏—Å–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞: ${subscription.type.toUpperCase()}`, 'success');
                } else {
                    console.log('‚úÖ –ü–æ–¥–ø–∏—Å–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞: FREE');
                    button.textContent = '‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–æ!';
                    
                    showNotification('–ü–æ–¥–ø–∏—Å–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞: FREE', 'info');
                }
                
                // –í–µ—Ä–Ω—É—Ç—å —Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
                setTimeout(() => {
                    button.textContent = originalText;
                    button.disabled = false;
                }, 2000);
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:', error);
                button.textContent = '‚ùå –û—à–∏–±–∫–∞';
                
                showNotification('–û—à–∏–±–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å.', 'error');
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.disabled = false;
                }, 2000);
            }
        }

        // –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 16px 24px;
                background: ${type === 'success' ? 'linear-gradient(135deg, #10b981, #059669)' : 
                              type === 'error' ? 'linear-gradient(135deg, #ef4444, #dc2626)' :
                              'linear-gradient(135deg, #5865F2, #4752C4)'};
                color: white;
                border-radius: 12px;
                font-size: 14px;
                font-weight: 500;
                z-index: 10000;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // BAN HANDLER
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        function handleUserBanned() {
            // –ü–æ–∫–∞–∑–∞—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ –±–∞–Ω–µ
            const banModal = document.createElement('div');
            banModal.id = 'banModal';
            banModal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.95);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 10000;
                animation: fadeIn 0.3s ease;
            `;
            
            banModal.innerHTML = `
                <div style="
                    background: linear-gradient(135deg, #1a1a1a, #0a0a0a);
                    border: 2px solid #ef4444;
                    border-radius: 24px;
                    padding: 3rem;
                    max-width: 500px;
                    text-align: center;
                    box-shadow: 0 20px 60px rgba(239, 68, 68, 0.3);
                    animation: slideIn 0.3s ease;
                ">
                    <div style="
                        width: 80px;
                        height: 80px;
                        margin: 0 auto 1.5rem;
                        background: rgba(239, 68, 68, 0.2);
                        border-radius: 50%;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                        font-size: 3rem;
                    ">üî®</div>
                    
                    <h2 style="
                        font-size: 2rem;
                        font-weight: 800;
                        color: #ffffff;
                        margin-bottom: 1rem;
                    ">–ê–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</h2>
                    
                    <p style="
                        font-size: 1rem;
                        color: #a0a0a0;
                        margin-bottom: 2rem;
                        line-height: 1.6;
                    ">
                        –í–∞—à –∞–∫–∫–∞—É–Ω—Ç –±—ã–ª –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–µ–π.<br>
                        –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É.
                    </p>
                    
                    <button onclick="logout(); document.getElementById('banModal').remove();" style="
                        padding: 1rem 2rem;
                        background: #ef4444;
                        border: none;
                        border-radius: 12px;
                        color: white;
                        font-size: 1rem;
                        font-weight: 700;
                        cursor: pointer;
                        transition: all 0.3s ease;
                    " onmouseover="this.style.background='#dc2626'" onmouseout="this.style.background='#ef4444'">
                        –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
                    </button>
                </div>
            `;
            
            document.body.appendChild(banModal);
            
            // –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
            const mainContent = document.querySelector('.main-content');
            if (mainContent) {
                mainContent.style.pointerEvents = 'none';
                mainContent.style.filter = 'blur(10px)';
            }
        }

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // EVENT LOGGING
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        // –õ–æ–≥ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç
        const originalSendMessage = window.sendMessage;
        if (originalSendMessage) {
            window.sendMessage = async function() {
                const userData = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
                
                if (BOT_API.ENABLED && userData && userData.id) {
                    const messageInput = document.getElementById('messageInput');
                    
                    await sendLogToBot('chat_message', userData.id, {
                        message_length: messageInput ? messageInput.value.length : 0,
                        timestamp: new Date().toISOString()
                    });
                }
                
                return originalSendMessage.apply(this, arguments);
            };
        }

        // –õ–æ–≥ –≤—ã—Ö–æ–¥–∞
        const originalLogout = window.logout;
        if (originalLogout) {
            window.logout = async function() {
                const userData = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
                
                if (BOT_API.ENABLED && userData && userData.id) {
                    await sendLogToBot('user_logout', userData.id, {
                        timestamp: new Date().toISOString()
                    });
                }
                
                return originalLogout.apply(this, arguments);
            };
        }
        

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // INITIALIZATION
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

        async function testBotConnection() {
    if (!BOT_API.ENABLED) {
        console.log('‚ö° Bot API –æ—Ç–∫–ª—é—á–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö');
        return;
    }
    
    console.log('üîç –ù–∞—á–∏–Ω–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–æ—Ç—É...');
    console.log('üì° API URL:', BOT_API.BASE_URL);
    console.log('üîë API Secret (–ø–µ—Ä–≤—ã–µ 5 —Å–∏–º–≤–æ–ª–æ–≤):', BOT_API.SECRET ? BOT_API.SECRET.substring(0, 5) + '...' : 'undefined');
    
    // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º health endpoint
    console.log('\n1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ /api/health:');
    try {
        const healthUrl = `${BOT_API.BASE_URL}/health`;
        console.log('   URL:', healthUrl);
        
        const response = await fetch(healthUrl, {
            headers: {
                'Content-Type': 'application/json'
            }
        });
        
        console.log('   –°—Ç–∞—Ç—É—Å:', response.status, response.statusText);
        
        if (response.ok) {
            const data = await response.json();
            console.log('   ‚úÖ –°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç:', data);
        } else {
            const errorText = await response.text();
            console.error('   ‚ùå –û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:', errorText);
            return;
        }
    } catch (error) {
        console.error('   üí• –û—à–∏–±–∫–∞ —Å–µ—Ç–∏:', error.message);
        console.error('   –ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É');
        return;
    }
    
    // 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
    console.log('\n2Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–∑–∞–ø—Ä–æ—Å –ø–æ–¥–ø–∏—Å–∫–∏):');
    try {
        // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ—Å—Ç–æ–≤—ã–π ID –∏–ª–∏ ID –∏–∑ localStorage
        const userData = JSON.parse(localStorage.getItem('badgrules_user') || '{}');
        const userId = userData.id || '710861571919970305';
        
        const subUrl = `${BOT_API.BASE_URL}/subscription/${userId}`;
        console.log('   URL:', subUrl);
        console.log('   User ID:', userId);
        
        const response = await fetch(subUrl, {
            headers: {
                'X-API-Secret': BOT_API.SECRET,
                'Content-Type': 'application/json'
            }
        });
        
        console.log('   –°—Ç–∞—Ç—É—Å:', response.status, response.statusText);
        
        if (response.ok) {
            const data = await response.json();
            console.log('   ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞!');
            console.log('   –î–∞–Ω–Ω—ã–µ:', data);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI –µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞
            if (data.subscription) {
                console.log('   üéâ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É!');
                // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å UI
            }
        } else {
            const errorText = await response.text();
            console.error('   ‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:', errorText);
            
            if (response.status === 401) {
                console.error('   üîê –ù–µ–≤–µ—Ä–Ω—ã–π API —Å–µ–∫—Ä–µ—Ç!');
                console.error('   –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ BOT_API.SECRET —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å API_SECRET –≤ Railway');
            }
        }
    } catch (error) {
        console.error('   üí• –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:', error.message);
    }
    
    console.log('\nüéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!');
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
if (BOT_API.ENABLED) {
    console.log('ü§ñ Bot API Integration loaded');
    console.log('üì° API URL:', BOT_API.BASE_URL);
    console.log('üîë API Secret:', BOT_API.SECRET ? BOT_API.SECRET.substring(0, 10) + '...' : 'undefined');
    console.log('üîç Debug mode:', BOT_API.DEBUG ? 'ON' : 'OFF');
    
    // –ñ–¥–µ–º –Ω–µ–º–Ω–æ–≥–æ –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
    setTimeout(() => {
        testBotConnection();
    }, 1000);
} else {
    console.log('ü§ñ Bot API Integration loaded (DISABLED)');
    console.log('üí° To enable: set BOT_API.ENABLED = true');
}



// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üî® –ú–ò–ù–ò–ú–ê–õ–ò–°–¢–ò–ß–ù–ê–Ø –°–ò–°–¢–ï–ú–ê –ë–ê–ù–ê
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

/**
 * –ü–æ–ª—É—á–∏—Ç—å –∏–º—è Discord –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ ID
 */
async function getDiscordUsername(userId) {
    try {
        const response = await fetch(`https://discord.com/api/v10/users/${userId}`, {
            headers: {
                'Authorization': `Bot ${BOT_API.BOT_TOKEN || ''}`
            }
        });
        
        if (response.ok) {
            const user = await response.json();
            return user.username || user.global_name || '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä';
        }
    } catch (error) {
        console.log('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:', error);
    }
    
    return '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä';
}

/**
 * –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
 */
function logoutAccount() {
    console.log('üëã –í—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞...');
    
    // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ
    localStorage.clear();
    sessionStorage.clear();
    
    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
    window.location.href = '/';
}

/**
 * –ü–æ–∫–∞–∑–∞—Ç—å –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π —ç–∫—Ä–∞–Ω –±–∞–Ω–∞
 */
async function showBanScreen(banInfo) {
    console.error('üî® –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ –ó–ê–ë–ê–ù–ï–ù!');
    console.log('Ban Info:', banInfo);
    
    // –ü–æ–ª—É—á–∏—Ç—å –∏–º—è –∞–¥–º–∏–Ω–∞
    const adminName = banInfo.banned_by ? await getDiscordUsername(banInfo.banned_by) : '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä';
    
    // –°–∫—Ä—ã—Ç—å –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç
    document.body.innerHTML = '';
    
    // –°–æ–∑–¥–∞—Ç—å —ç–∫—Ä–∞–Ω –±–∞–Ω–∞
    const banScreen = document.createElement('div');
    banScreen.id = 'ban-screen';
    banScreen.innerHTML = `
        <div class="ban-container">
            <!-- –ò–∫–æ–Ω–∫–∞ -->
            <div class="ban-icon">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.5"/>
                    <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="1.5"/>
                </svg>
            </div>
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <h1 class="ban-title">–î–æ—Å—Ç—É–ø –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω</h1>
            
            <!-- –ü—Ä–∏—á–∏–Ω–∞ -->
            <div class="ban-reason-box">
                <div class="ban-reason-label">–ü—Ä–∏—á–∏–Ω–∞</div>
                <div class="ban-reason-text">${banInfo.reason || '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª'}</div>
            </div>
            
            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="ban-info-minimal">
                <div class="ban-info-item-minimal">
                    <span class="ban-info-label-minimal">–ó–∞–±–∞–Ω–∏–ª:</span>
                    <span class="ban-info-value-minimal">${adminName}</span>
                </div>
                ${banInfo.temporary ? `
                <div class="ban-info-item-minimal">
                    <span class="ban-info-label-minimal">–ò—Å—Ç–µ–∫–∞–µ—Ç:</span>
                    <span class="ban-info-value-minimal">${formatBanExpiry(banInfo.expires_at)}</span>
                </div>
                ` : ''}
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="ban-buttons">
                <button class="btn-logout" onclick="logoutAccount()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                        <polyline points="16 17 21 12 16 7"/>
                        <line x1="21" y1="12" x2="9" y2="12"/>
                    </svg>
                    –í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞
                </button>
            </div>
        </div>
    `;
    
    document.body.appendChild(banScreen);
    addMinimalistBanStyles();
    
    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫—ç—à
    localStorage.setItem('badgrules_ban_info', JSON.stringify(banInfo));
    localStorage.setItem('badgrules_banned', 'true');
}

/**
 * –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–µ—á–µ–Ω–∏–µ –±–∞–Ω–∞
 */
function formatBanExpiry(expiresAt) {
    if (!expiresAt) return '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
    
    const date = new Date(expiresAt);
    const now = new Date();
    const diff = date - now;
    
    if (diff <= 0) return '–ò—Å—Ç—ë–∫';
    
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    
    if (days > 0) {
        return `${days} –¥–Ω. ${hours} —á.`;
    } else if (hours > 0) {
        return `${hours} —á.`;
    } else {
        return `${Math.floor(diff / (1000 * 60))} –º–∏–Ω.`;
    }
}

/**
 * –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Å—Ç–∏–ª–∏
 */
function addMinimalistBanStyles() {
    const style = document.createElement('style');
    style.textContent = `
        #ban-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000000;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 999999;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        .ban-container {
            max-width: 480px;
            width: 90%;
            background: #0a0a0a;
            border: 1px solid #1a1a1a;
            border-radius: 16px;
            padding: 48px 40px;
            text-align: center;
            animation: fadeIn 0.4s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        .ban-icon {
            margin: 0 auto 24px;
            color: #ec4899;
            opacity: 0.9;
        }
        
        .ban-title {
            font-size: 1.75em;
            font-weight: 600;
            color: #ffffff;
            margin: 0 0 32px 0;
            letter-spacing: -0.02em;
        }
        
        .ban-reason-box {
            background: rgba(59, 130, 246, 0.08);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: 20px;
            margin: 0 0 32px 0;
        }
        
        .ban-reason-label {
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: rgba(255, 255, 255, 0.5);
            margin-bottom: 8px;
        }
        
        .ban-reason-text {
            font-size: 1.1em;
            font-weight: 500;
            color: #ec4899;
            line-height: 1.5;
            word-wrap: break-word;
        }
        
        .ban-info-minimal {
            margin: 0 0 32px 0;
        }
        
        .ban-info-item-minimal {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #1a1a1a;
        }
        
        .ban-info-item-minimal:last-child {
            border-bottom: none;
        }
        
        .ban-info-label-minimal {
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.5);
        }
        
        .ban-info-value-minimal {
            font-size: 0.9em;
            font-weight: 500;
            color: #ffffff;
        }
        
        .ban-buttons {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .btn-logout {
            width: 100%;
            background: transparent;
            border: 1px solid #2a2a2a;
            color: rgba(255, 255, 255, 0.7);
            padding: 14px 24px;
            border-radius: 10px;
            font-size: 0.95em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .btn-logout:hover {
            background: #0f0f0f;
            border-color: #3a3a3a;
            color: #ffffff;
        }
        
        .btn-logout:active {
            transform: scale(0.98);
        }
        
        /* Mobile */
        @media (max-width: 768px) {
            .ban-container {
                padding: 40px 28px;
            }
            
            .ban-title {
                font-size: 1.5em;
            }
            
            .ban-icon svg {
                width: 64px;
                height: 64px;
            }
        }
    `;
    document.head.appendChild(style);
}

/**
 * –°–∫—Ä—ã—Ç—å —ç–∫—Ä–∞–Ω –±–∞–Ω–∞
 */
function hideBanScreen() {
    console.log('‚úÖ –†–∞–∑–±–∞–Ω - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞...');
    
    localStorage.removeItem('badgrules_ban_info');
    localStorage.removeItem('badgrules_banned');
    
    setTimeout(() => {
        window.location.reload();
    }, 300);
}

/**
 * –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –±–∞–Ω–∞ (–° –ü–†–ê–í–ò–õ–¨–ù–û–ô –ü–û–î–î–ï–†–ñ–ö–û–ô –†–ê–ó–ë–ê–ù–ê)
 */
async function checkBanStatus(userId) {
    if (!userId) return false;
    
    try {
        console.log('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–Ω–∞:', userId);
        
        const response = await fetch(`${BOT_API.BASE_URL}/subscription/${userId}`, {
            headers: {
                'X-API-Secret': BOT_API.SECRET,
                'Content-Type': 'application/json'
            }
        });
        
        if (!response.ok) {
            console.error('‚ùå –û—à–∏–±–∫–∞ API:', response.status);
            return false;
        }
        
        const data = await response.json();
        console.log('üì¶ –û—Ç–≤–µ—Ç API:', data);
        
        const wasBanned = localStorage.getItem('badgrules_banned') === 'true';
        
        if (data.banned === true) {
            console.error('üî® –ó–ê–ë–ê–ù–ï–ù!');
            
            const banInfo = {
                user_id: userId,
                banned: true,
                reason: data.ban_info?.reason || '–ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª',
                banned_at: data.ban_info?.banned_at || new Date().toISOString(),
                banned_by: data.ban_info?.banned_by || null,
                temporary: data.ban_info?.temporary || false,
                expires_at: data.ban_info?.expires_at || null
            };
            
            if (!document.getElementById('ban-screen')) {
                showBanScreen(banInfo);
            }
            
            return true;
            
        } else if (data.banned === false && wasBanned) {
            console.log('üéâ –†–ê–ó–ë–ê–ù–ï–ù!');
            hideBanScreen();
            return false;
            
        } else {
            localStorage.removeItem('badgrules_ban_info');
            localStorage.removeItem('badgrules_banned');
            console.log('‚úÖ –ù–ï –∑–∞–±–∞–Ω–µ–Ω');
            return false;
        }
        
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞:', error);
        
        const cachedBan = localStorage.getItem('badgrules_ban_info');
        if (cachedBan && !document.getElementById('ban-screen')) {
            showBanScreen(JSON.parse(cachedBan));
            return true;
        }
        
        return false;
    }
}

/**
 * –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–∞–Ω–∞
 */
function startBanMonitoring(userId) {
    if (!userId) return;
    
    console.log('üëÅÔ∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –±–∞–Ω–∞ –∞–∫—Ç–∏–≤–µ–Ω (30 —Å–µ–∫)');
    
    setInterval(async () => {
        console.log('üîÑ –ü—Ä–æ–≤–µ—Ä–∫–∞...');
        await checkBanStatus(userId);
    }, 30 * 1000);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

(function() {
    const originalLoginComplete = window.loginComplete;
    
    window.loginComplete = async function(userData) {
        console.log('üîê Login - –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–Ω–∞...');
        
        if (userData && userData.id) {
            const isBanned = await checkBanStatus(userData.id);
            
            if (isBanned) {
                console.error('üî® –î–æ—Å—Ç—É–ø –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω');
                return;
            }
            
            console.log('‚úÖ –ù–µ –∑–∞–±–∞–Ω–µ–Ω');
            
            if (originalLoginComplete) {
                await originalLoginComplete(userData);
            }
            
            startBanMonitoring(userData.id);
        }
    };
})();

(function() {
    const originalCheckSub = window.checkSubscriptionFromBot;
    
    window.checkSubscriptionFromBot = async function(userId) {
        const isBanned = await checkBanStatus(userId);
        if (isBanned) return null;
        
        if (originalCheckSub) {
            return await originalCheckSub(userId);
        }
        
        return null;
    };
})();

(function() {
    const cachedBan = localStorage.getItem('badgrules_ban_info');
    if (cachedBan) {
        const banInfo = JSON.parse(cachedBan);
        
        if (banInfo.temporary && banInfo.expires_at) {
            const expires = new Date(banInfo.expires_at);
            if (expires < new Date()) {
                localStorage.removeItem('badgrules_ban_info');
                localStorage.removeItem('badgrules_banned');
                return;
            }
        }
        
        showBanScreen(banInfo);
    }
})();

console.log('‚úÖ –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –±–∞–Ω–∞ –∞–∫—Ç–∏–≤–Ω–∞!');

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –°–ò–°–¢–ï–ú–ê –ê–ù–ò–ú–ê–¶–ò–ò –ú–û–õ–ù–ò–ô –í–û–ö–†–£–ì –ü–ï–†–°–û–ù–ê–ñ–ê - –û–¢–ö–õ–Æ–ß–ï–ù–û
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// –ú–æ–ª–Ω–∏–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
console.log('‚ö° –°–∏—Å—Ç–µ–º–∞ –º–æ–ª–Ω–∏–π –æ—Ç–∫–ª—é—á–µ–Ω–∞');

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// –°–ö–†–´–¢–ò–ï –ù–ê–í–ò–ì–ê–¶–ò–ò –ü–†–ò –°–ö–†–û–õ–õ–ï –í–ù–ò–ó
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

(function initNavbarHideOnScroll() {
    const navbar = document.getElementById('topLogo');
    if (!navbar) return;

    let lastScrollTop = 0;
    let scrollTimeout;

    function handleScroll() {
        const currentScroll = window.pageYOffset || document.documentElement.scrollTop;

        // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –µ—Å–ª–∏ —Å–∫—Ä–æ–ª–ª –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É
        if (currentScroll <= 100) {
            navbar.classList.remove('hidden');
            lastScrollTop = currentScroll;
            return;
        }

        // –°–∫—Ä–æ–ª–ª –≤–Ω–∏–∑ - –ø—Ä—è—á–µ–º
        if (currentScroll > lastScrollTop) {
            navbar.classList.add('hidden');
        } 
        // –°–∫—Ä–æ–ª–ª –≤–≤–µ—Ä—Ö - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
        else if (currentScroll < lastScrollTop) {
            navbar.classList.remove('hidden');
        }

        lastScrollTop = currentScroll <= 0 ? 0 : currentScroll;
    }

    // –î–æ–±–∞–≤–ª—è–µ–º debounce –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
    window.addEventListener('scroll', function() {
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(handleScroll, 10);
    }, { passive: true });

    console.log('üì± –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ');
})();

    
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// VERTICAL SCROLL INDICATOR FUNCTIONALITY - LEFT SIDE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
(function() {
    function initScrollIndicator() {
        const scrollDots = document.querySelectorAll('.scroll-dot');
        
        scrollDots.forEach(dot => {
            dot.addEventListener('click', function(e) {
                e.preventDefault();
                const section = this.getAttribute('data-section');
                console.log('üñ±Ô∏è –ö–ª–∏–∫ –Ω–∞ —Å–∫—Ä–æ–ª–ª —Ç–æ—á–∫—É:', section);
                
                if (section) {
                    // Update active dot
                    scrollDots.forEach(d => d.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Switch section using showSection
                    if (typeof showSection === 'function') {
                        showSection(section);
                        console.log('‚úÖ –°–µ–∫—Ü–∏—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∞ –Ω–∞:', section);
                    }
                    
                    // Also update logo menu
                    const logoMenuItems = document.querySelectorAll('.logo-menu-item');
                    logoMenuItems.forEach(item => {
                        if (item.getAttribute('data-section') === section) {
                            item.classList.add('active');
                        } else {
                            item.classList.remove('active');
                        }
                    });
                }
            });
        });
        
        console.log('‚úÖ –°–∫—Ä–æ–ª–ª –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');
    }
    
    // Update scroll indicator when section changes
    window.updateScrollIndicator = function(sectionName) {
        console.log('üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞:', sectionName);
        const scrollDots = document.querySelectorAll('.scroll-dot');
        scrollDots.forEach(dot => {
            if (dot.getAttribute('data-section') === sectionName) {
                dot.classList.add('active');
            } else {
                dot.classList.remove('active');
            }
        });
    };
    
    // Initialize on load
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initScrollIndicator);
    } else {
        initScrollIndicator();
    }
    
    // Re-initialize after a delay to ensure DOM is ready
    setTimeout(initScrollIndicator, 500);
})();

// Override showSection to update scroll indicator
(function() {
    const originalShowSection = window.showSection;
    
    if (originalShowSection) {
        window.showSection = function(sectionName) {
            console.log('üìÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ–∫—Ü–∏–∏:', sectionName);
            
            // Call original function
            originalShowSection.apply(this, arguments);
            
            // Update scroll indicator
            if (typeof updateScrollIndicator === 'function') {
                updateScrollIndicator(sectionName);
            }
        };
    }
})();

// Also update when selectLogoMenu is called
(function() {
    const originalSelectLogoMenu = window.selectLogoMenu;
    
    if (originalSelectLogoMenu) {
        window.selectLogoMenu = function(section) {
            console.log('üìã selectLogoMenu –≤—ã–∑–≤–∞–Ω:', section);
            
            // Call original
            originalSelectLogoMenu.apply(this, arguments);
            
            // Update scroll indicator
            if (typeof updateScrollIndicator === 'function') {
                updateScrollIndicator(section);
            }
        };
    }
})();




// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// AUTO-OPEN CHAT ON LOGIN - Skip Home Screen
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
(function() {
    // Override showMainInterface to immediately show chat
    const originalShowMainInterface = window.showMainInterface;
    
    if (originalShowMainInterface) {
        window.showMainInterface = function(user) {
            // Call original function
            originalShowMainInterface.call(this, user);
            
            // After a short delay, switch to chat
            setTimeout(() => {
                console.log('üöÄ Auto-opening chat section...');
                
                // Hide home section
                const homeSection = document.getElementById('homeSection');
                if (homeSection) {
                    homeSection.classList.remove('active');
                }
                
                // Show chat section
                const chatSection = document.getElementById('chatSection');
                if (chatSection) {
                    chatSection.classList.add('active');
                }
                
                // Show chat input
                const chatInput = document.querySelector('.chat-input-container');
                if (chatInput) {
                    chatInput.style.display = 'block';
                }
                
                // Update menu
                document.querySelectorAll('.logo-menu-item').forEach(item => {
                    if (item.dataset.section === 'chat') {
                        item.classList.add('active');
                    } else {
                        item.classList.remove('active');
                    }
                });
                
                // Update scroll indicator
                if (typeof updateScrollIndicator === 'function') {
                    updateScrollIndicator('chat');
                }
                
                console.log('‚úÖ Chat section opened automatically');
            }, 100);
        };
    }
})();

// Also ensure chat is shown on page load if user is logged in
window.addEventListener('load', function() {
    setTimeout(() => {
        const user = localStorage.getItem('badgrules_user');
        if (user) {
            const homeSection = document.getElementById('homeSection');
            const chatSection = document.getElementById('chatSection');
            
            if (homeSection && chatSection) {
                homeSection.classList.remove('active');
                chatSection.classList.add('active');
                
                const chatInput = document.querySelector('.chat-input-container');
                if (chatInput) {
                    chatInput.style.display = 'block';
                }
            }
        }
    }, 200);
});




// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NEWS CONFIGURATION - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–æ–≤–æ—Å—Ç–µ–π
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const NEWS_CONFIG = [
    {
        id: 1,
        title: '–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç',
        date: '2024-12-14',
        category: '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
        content: '–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏ –ø—Ä–æ–µ–∫—Ç–∞ BadgRules. –°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –≤–∞–∂–Ω—ã–µ –∞–Ω–æ–Ω—Å—ã, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –∏ –¥—Ä—É–≥–∞—è –ø–æ–ª–µ–∑–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.',
        icon: 'üì∞',
        author: '–ö–æ–º–∞–Ω–¥–∞ BadgRules',
        tags: ['–°–∫–æ—Ä–æ', '–û–±–Ω–æ–≤–ª–µ–Ω–∏—è']
    }
];

// –§—É–Ω–∫—Ü–∏—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –Ω–æ–≤–æ—Å—Ç–∏
function renderNewsItem(news) {
    const card = document.createElement('div');
    card.className = 'news-card';
    
    const dateObj = new Date(news.date);
    const formattedDate = dateObj.toLocaleDateString('ru-RU', { 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
    });
    
    // –§–æ—Ä–º–∏—Ä—É–µ–º —Ç–µ–≥–∏
    const tagsHTML = news.tags ? news.tags.map(tag => 
        `<span class="news-tag">${tag}</span>`
    ).join('') : '';
    
    card.innerHTML = `
        <div class="news-header-bar">
            <div class="news-icon">${news.icon}</div>
            <div class="news-category">${news.category}</div>
        </div>
        <div class="news-content">
            <h3 class="news-card-title">${news.title}</h3>
            <p class="news-card-text">${news.content}</p>
            ${tagsHTML ? `<div class="news-tags">${tagsHTML}</div>` : ''}
            <div class="news-footer">
                <div class="news-author">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    <span>${news.author || '–ö–æ–º–∞–Ω–¥–∞ BadgRules'}</span>
                </div>
                <div class="news-date">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    <span>${formattedDate}</span>
                </div>
            </div>
        </div>
    `;
    
    return card;
}

// –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
function loadNews() {
    console.log('üì∞ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...');
    
    const newsGrid = document.getElementById('newsGrid');
    if (!newsGrid) {
        console.error('‚ùå newsGrid –Ω–µ –Ω–∞–π–¥–µ–Ω');
        return;
    }
    
    newsGrid.innerHTML = '';
    
    // –°–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–Ω–∞—á–∞–ª–∞)
    const sortedNews = [...NEWS_CONFIG].sort((a, b) => {
        return new Date(b.date) - new Date(a.date);
    });
    
    sortedNews.forEach((news, index) => {
        const card = renderNewsItem(news);
        card.style.animationDelay = `${index * 0.1}s`;
        newsGrid.appendChild(card);
    });
    
    console.log('‚úÖ –ù–æ–≤–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
}

// –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Å–µ–∫—Ü–∏–∏
document.addEventListener('DOMContentLoaded', function() {
    const originalShowSection = window.showSection;
    if (originalShowSection) {
        window.showSection = function(sectionName) {
            originalShowSection.apply(this, arguments);
            
            if (sectionName === 'news') {
                setTimeout(loadNews, 100);
            }
        };
    }
});


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATIC SYSTEM - –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç–∏–∫–æ–≤
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// ID –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ (–ë–ï–ó –°–¢–ê–¢–ò–ö–ê)
const OWNER_IDS = [
    '482499344982081546',
    '701782316623855668'
];

// ID –∫–æ–º–∞–Ω–¥—ã —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Å—Ç–∞—Ç–∏–∫–∞–º–∏ 0001-0010
const TEAM_STATIC_IDS = {
    '685507278400782376': '0001',  // #0001 - Kai
    '1170537060277428324': '0002',   // #0002 - –£—á–∞—Å—Ç–Ω–∏–∫ –∫–æ–º–∞–Ω–¥—ã
    '1346385347319169038': '0003',  // #0003 - –£—á–∞—Å—Ç–Ω–∏–∫ –∫–æ–º–∞–Ω–¥—ã
      // #0004 - –£—á–∞—Å—Ç–Ω–∏–∫ –∫–æ–º–∞–Ω–¥—ã
    // –î–æ–±–∞–≤–ª—è–π—Ç–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã –¥–æ 0010
    // 'DISCORD_ID': '0005',
    // 'DISCORD_ID': '0006',
    // –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ 0010
};

// –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç–∏–∫ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã
const MAX_TEAM_STATIC = 10;

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º
function isOwner(userId) {
    return OWNER_IDS.includes(userId);
}

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ - —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–º –∫–æ–º–∞–Ω–¥—ã
function isTeamMember(userId) {
    return TEAM_STATIC_IDS.hasOwnProperty(userId);
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Å—Ç–∞—Ç–∏–∫–∞ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
function getNextAvailableStatic() {
    // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –≤—ã–¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏–∫–∏
    const allStatics = JSON.parse(localStorage.getItem('badgrules_all_statics') || '{}');
    const usedStatics = new Set();
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏–∫–∏ –∫–æ–º–∞–Ω–¥—ã (0001-0010) –≤ –∑–∞–Ω—è—Ç—ã–µ
    Object.values(TEAM_STATIC_IDS).forEach(staticNum => {
        usedStatics.add(staticNum);
    });
    
    // –î–æ–±–∞–≤–ª—è–µ–º –≤—Å–µ –≤—ã–¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
    Object.values(allStatics).forEach(staticNum => {
        usedStatics.add(staticNum);
    });
    
    // –ò—â–µ–º –ø–µ—Ä–≤—ã–π —Å–≤–æ–±–æ–¥–Ω—ã–π —Å—Ç–∞—Ç–∏–∫ –Ω–∞—á–∏–Ω–∞—è —Å 0011
    for (let i = MAX_TEAM_STATIC + 1; i <= 9999; i++) {
        const staticNum = i.toString().padStart(4, '0');
        if (!usedStatics.has(staticNum)) {
            return staticNum;
        }
    }
    
    // –ï—Å–ª–∏ –≤—Å–µ —Å—Ç–∞—Ç–∏–∫–∏ –∑–∞–Ω—è—Ç—ã (–º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω–æ)
    console.error('‚ùå –í—Å–µ —Å—Ç–∞—Ç–∏–∫–∏ –∑–∞–Ω—è—Ç—ã! –î–æ—Å—Ç–∏–≥–Ω—É—Ç –ª–∏–º–∏—Ç 9999 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π');
    return null;
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function getUserStatic(userId) {
    if (!userId) {
        console.error('‚ùå userId –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω');
        return null;
    }
    
    // 1. –í–õ–ê–î–ï–õ–¨–¶–´ - –±–µ–∑ —Å—Ç–∞—Ç–∏–∫–∞
    if (isOwner(userId)) {
        console.log(`üëë –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${userId} - –í–ª–∞–¥–µ–ª–µ—Ü (–±–µ–∑ —Å—Ç–∞—Ç–∏–∫–∞)`);
        return null;
    }
    
    // 2. –ö–û–ú–ê–ù–î–ê - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏–∫–∏ 0001-0010
    if (isTeamMember(userId)) {
        const teamStatic = TEAM_STATIC_IDS[userId];
        console.log(`‚≠ê –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${userId} - –ö–æ–º–∞–Ω–¥–∞ (—Å—Ç–∞—Ç–∏–∫ ${teamStatic})`);
        return teamStatic;
    }
    
    // 3. –û–ë–´–ß–ù–´–ï –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç–∞—Ç–∏–∫–∏ –æ—Ç 0011
    const allStatics = JSON.parse(localStorage.getItem('badgrules_all_statics') || '{}');
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –±—ã–ª –ª–∏ —É–∂–µ –≤—ã–¥–∞–Ω —Å—Ç–∞—Ç–∏–∫ —Ä–∞–Ω–µ–µ
    if (allStatics[userId]) {
        const existingStatic = allStatics[userId];
        console.log(`‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${userId} —É–∂–µ –∏–º–µ–µ—Ç —Å—Ç–∞—Ç–∏–∫ ${existingStatic}`);
        return existingStatic;
    }
    
    // –í—ã–¥–∞–µ–º –Ω–æ–≤—ã–π —Å—Ç–∞—Ç–∏–∫
    const newStatic = getNextAvailableStatic();
    if (newStatic) {
        allStatics[userId] = newStatic;
        localStorage.setItem('badgrules_all_statics', JSON.stringify(allStatics));
        console.log(`üÜï –í—ã–¥–∞–Ω –Ω–æ–≤—ã–π —Å—Ç–∞—Ç–∏–∫ ${newStatic} –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId}`);
        return newStatic;
    }
    
    console.error(`‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–¥–∞—Ç—å —Å—Ç–∞—Ç–∏–∫ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId}`);
    return null;
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
function getUserRole(userId) {
    if (!userId) return '–ì–æ—Å—Ç—å';
    
    if (isOwner(userId)) {
        return '–í–ª–∞–¥–µ–ª–µ—Ü';
    }
    
    if (isTeamMember(userId)) {
        return '–ö–æ–º–∞–Ω–¥–∞';
    }
    
    return '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–æ–ª–∏ —Å –∏–∫–æ–Ω–∫–æ–π
function getUserRoleWithIcon(userId) {
    if (!userId) return 'üë§ –ì–æ—Å—Ç—å';
    
    if (isOwner(userId)) {
        return 'üëë –í–ª–∞–¥–µ–ª–µ—Ü';
    }
    
    if (isTeamMember(userId)) {
        return '‚≠ê –ö–æ–º–∞–Ω–¥–∞';
    }
    
    return 'üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏–∫–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ
function updateProfileStatic(userId) {
    console.log('üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –¥–ª—è userId:', userId);
    
    const staticElement = document.getElementById('userStatic');
    const roleElement = document.getElementById('userRole');
    const staticRow = document.getElementById('staticRow');
    
    if (!staticElement || !roleElement) {
        console.warn('‚ö†Ô∏è –≠–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–æ—Ñ–∏–ª—è –Ω–µ –Ω–∞–π–¥–µ–Ω—ã');
        return;
    }
    
    // –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏–∫ –∏ —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const userStatic = getUserStatic(userId);
    const userRole = getUserRole(userId);
    const userRoleWithIcon = getUserRoleWithIcon(userId);
    
    console.log(`üìä –°—Ç–∞—Ç–∏–∫: ${userStatic || '–ù–ï–¢'}, –†–æ–ª—å: ${userRole}`);
    
    // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–æ–ª—å (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å –∏–∫–æ–Ω–∫–æ–π)
    roleElement.textContent = userRole;
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º/—Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å–æ —Å—Ç–∞—Ç–∏–∫–æ–º
    if (userStatic) {
        // –£ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å—Ç—å —Å—Ç–∞—Ç–∏–∫ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
        staticElement.textContent = `#${userStatic}`;
        if (staticRow) {
            staticRow.style.display = 'flex';
            console.log(`‚úÖ –°—Ç–∞—Ç–∏–∫ #${userStatic} –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è`);
        }
    } else {
        // –í–ª–∞–¥–µ–ª—å—Ü—ã - —Å–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–æ–∫—É —Å–æ —Å—Ç–∞—Ç–∏–∫–æ–º
        if (staticRow) {
            staticRow.style.display = 'none';
            console.log(`üëë –í–ª–∞–¥–µ–ª–µ—Ü - —Å—Ç–∞—Ç–∏–∫ —Å–∫—Ä—ã—Ç`);
        }
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –≤—ã–¥–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–∏–∫–æ–≤ (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
function debugShowAllStatics() {
    const allStatics = JSON.parse(localStorage.getItem('badgrules_all_statics') || '{}');
    console.log('üìã –í—Å–µ –≤—ã–¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏–∫–∏:');
    console.table(allStatics);
    console.log('‚≠ê –ö–æ–º–∞–Ω–¥–∞:', TEAM_STATIC_IDS);
    console.log('üëë –í–ª–∞–¥–µ–ª—å—Ü—ã (–±–µ–∑ —Å—Ç–∞—Ç–∏–∫–∞):', OWNER_IDS);
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±—Ä–æ—Å–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ç–∏–∫–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏!)
function debugResetAllStatics() {
    if (confirm('‚ö†Ô∏è –í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –≤—ã–¥–∞–Ω–Ω—ã–µ —Å—Ç–∞—Ç–∏–∫–∏!')) {
        localStorage.removeItem('badgrules_all_statics');
        console.log('üóëÔ∏è –í—Å–µ —Å—Ç–∞—Ç–∏–∫–∏ —Å–±—Ä–æ—à–µ–Ω—ã');
        location.reload();
    }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üåç UNIVERSAL ACCESS - Service Worker –û–¢–ö–õ–Æ–ß–ï–ù (–º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Service Worker –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º —Å –∑–∞–≥—Ä—É–∑–∫–æ–π
// –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –µ—Å–ª–∏ –Ω—É–∂–µ–Ω offline —Ä–µ–∂–∏–º
/*
if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
            .then(registration => {
                console.log('‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');
            })
            .catch(err => {
                console.log('‚ÑπÔ∏è Service Worker –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω');
            });
    });
}
*/

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üåê GLOBAL ACCESSIBILITY - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
async function checkGlobalAccess() {
    const services = [
        { name: 'Groq API', url: 'https://api.groq.com' },
        { name: 'Gemini API', url: 'https://generativelanguage.googleapis.com' },
        { name: 'CORS Proxy', url: 'https://api.allorigins.win' }
    ];
    
    console.log('üåç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏...');
    
    for (const service of services) {
        try {
            const response = await fetch(service.url, { 
                method: 'HEAD',
                mode: 'no-cors'
            });
            console.log(`‚úÖ ${service.name}: –¥–æ—Å—Ç—É–ø–µ–Ω`);
        } catch (error) {
            console.log(`‚ö†Ô∏è ${service.name}: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω (–±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã)`);
        }
    }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
checkGlobalAccess();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üö´ RUSSIA BLOCK DETECTION - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –†–§
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

let pageLoadTimeout;
let isRussiaBlocked = false;

// –¢–∞–π–º–∞—É—Ç –¥–ª—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ (5 —Å–µ–∫—É–Ω–¥)
pageLoadTimeout = setTimeout(() => {
    if (document.readyState !== 'complete') {
        console.warn('‚ö†Ô∏è –û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ - –≤–æ–∑–º–æ–∂–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞');
        isRussiaBlocked = true;
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
        showBlockWarning();
    }
}, 5000);

// –û—á–∏—â–∞–µ–º —Ç–∞–π–º–∞—É—Ç –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
window.addEventListener('load', () => {
    clearTimeout(pageLoadTimeout);
});

// –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
function showBlockWarning() {
    const warningDiv = document.createElement('div');
    warningDiv.style.cssText = `
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(251, 191, 36, 0.95);
        color: #000;
        padding: 15px 30px;
        border-radius: 12px;
        font-weight: 600;
        z-index: 999999;
        box-shadow: 0 4px 20px rgba(251, 191, 36, 0.4);
        max-width: 90%;
        text-align: center;
        animation: slideDown 0.5s ease;
    `;
    
    warningDiv.innerHTML = `
        <div style="display: flex; align-items: center; gap: 10px; justify-content: center;">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                <line x1="12" y1="9" x2="12" y2="13"></line>
                <line x1="12" y1="17" x2="12.01" y2="17"></line>
            </svg>
            <span>–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VPN –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.</span>
        </div>
    `;
    
    document.body.appendChild(warningDiv);
    
    // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥
    setTimeout(() => {
        warningDiv.style.animation = 'slideUp 0.5s ease';
        setTimeout(() => warningDiv.remove(), 500);
    }, 10000);
}

// –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏–∏
const style = document.createElement('style');
style.textContent = `
    @keyframes slideDown {
        from {
            opacity: 0;
            transform: translateX(-50%) translateY(-20px);
        }
        to {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
    }
    
    @keyframes slideUp {
        from {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        to {
            opacity: 0;
            transform: translateX(-50%) translateY(-20px);
        }
    }
`;
document.head.appendChild(style);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üîÑ FAILOVER - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ–º –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
window.addEventListener('online', () => {
    console.log('üåê –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
    location.reload();
});

window.addEventListener('offline', () => {
    console.log('üì¥ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ—Ç–µ—Ä—è–Ω–æ - —Ä–∞–±–æ—Ç–∞–µ–º –≤ offline —Ä–µ–∂–∏–º–µ');
});


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üõ°Ô∏è PAGE LOAD PROTECTION - –ó–∞—â–∏—Ç–∞ –æ—Ç —á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

(function() {
    const loader = document.getElementById('initialLoader');
    const loaderError = document.getElementById('loaderError');
    let loadTimeout;
    let errorTimeout;
    
    // –¢–∞–π–º–∞—É—Ç –Ω–∞ –ø–æ–ª–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É - 8 —Å–µ–∫—É–Ω–¥
    loadTimeout = setTimeout(() => {
        console.error('‚ö†Ô∏è –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å –∑–∞ 8 —Å–µ–∫—É–Ω–¥');
        if (loaderError) {
            loaderError.classList.add('active');
        }
    }, 8000);
    
    // –ü–æ–ª–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    window.addEventListener('load', () => {
        clearTimeout(loadTimeout);
        console.log('‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        
        // –£–±–∏—Ä–∞–µ–º loader —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
        if (loader) {
            loader.style.opacity = '0';
            loader.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
                loader.style.display = 'none';
            }, 500);
        }
    });
    
    // DOM –≥–æ—Ç–æ–≤ (–±–∞–∑–æ–≤–∞—è –∑–∞—â–∏—Ç–∞)
    document.addEventListener('DOMContentLoaded', () => {
        console.log('‚úÖ DOM –∑–∞–≥—Ä—É–∂–µ–Ω');
        
        // –ï—Å–ª–∏ –∑–∞ 15 —Å–µ–∫—É–Ω–¥ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–æ–±—ã—Ç–∏–µ load, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
        errorTimeout = setTimeout(() => {
            if (loader && loader.style.display !== 'none') {
                console.error('‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏');
                if (loaderError) {
                    loaderError.classList.add('active');
                }
            }
        }, 15000);
    });
    
    // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
    window.addEventListener('error', (e) => {
        console.error('‚ùå –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞:', e.message, e.filename, e.lineno);
        
        // –ï—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –ø–µ—Ä–≤—ã–µ 5 —Å–µ–∫—É–Ω–¥, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —ç–∫—Ä–∞–Ω –æ—à–∏–±–∫–∏
        if (performance.now() < 5000) {
            if (loaderError) {
                loaderError.classList.add('active');
            }
        }
    });
    
    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ø—Ä–æ–º–∏—Å–æ–≤
    window.addEventListener('unhandledrejection', (e) => {
        console.error('‚ùå –ù–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –ø—Ä–æ–º–∏—Å:', e.reason);
    });
    
    console.log('üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –æ—Ç —á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞');
})();


// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üé® TEAM CARDS COLOR CUSTOMIZATION - –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è —Ü–≤–µ—Ç–æ–≤ –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ–º–∞–Ω–¥—ã
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// –¶–≤–µ—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
const DEFAULT_TEAM_COLORS = {
    // –ö–∞—Ä—Ç–æ—á–∫–∏ –∫–æ–º–∞–Ω–¥—ã
    teamCardBg: 'rgba(30, 30, 30, 0.6)',
    teamCardBorder: 'rgba(255, 255, 255, 0.1)',
    teamCardHoverBorder: 'rgba(96, 165, 250, 0.4)',
    teamCardHoverShadow: 'rgba(96, 165, 250, 0.2)',
    teamCardGradient: 'linear-gradient(135deg, rgba(96, 165, 250, 0.15), rgba(59, 130, 246, 0.1))',
    teamAvatarBorder: 'rgba(96, 165, 250, 0.3)',
    teamBadgeBg: 'linear-gradient(135deg, rgba(96, 165, 250, 0.2), rgba(59, 130, 246, 0.15))',
    teamBadgeBorder: 'rgba(96, 165, 250, 0.5)',
    teamBadgeColor: '#60a5fa',
    teamBadgeShadow: 'rgba(96, 165, 250, 0.3)',
    teamTitleColor: '#60a5fa',
    
    // –ö–∞—Ä—Ç–æ—á–∫–∏ –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤
    ownerCardHoverBorder: 'rgba(255, 215, 0, 0.5)',
    ownerCardHoverShadow: 'rgba(255, 215, 0, 0.3)',
    ownerCardGradient: 'linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 193, 7, 0.1))',
    ownerAvatarBorder: 'rgba(255, 215, 0, 0.5)',
    ownerAvatarGlow: 'rgba(255, 215, 0, 0.3)',
    ownerBadgeBg: 'linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 193, 7, 0.15))',
    ownerBadgeBorder: 'rgba(255, 215, 0, 0.5)',
    ownerBadgeColor: '#ffd700',
    ownerBadgeShadow: 'rgba(255, 215, 0, 0.3)',
    ownerTitleColor: '#ffd700',
    
    // –ö–∞—Ä—Ç–æ—á–∫–∏ Senior-–º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞
    seniorCardHoverBorder: 'rgba(168, 85, 247, 0.5)',
    seniorCardHoverShadow: 'rgba(168, 85, 247, 0.3)',
    seniorCardGradient: 'linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(126, 58, 242, 0.1))',
    seniorAvatarBorder: 'rgba(168, 85, 247, 0.5)',
    seniorAvatarGlow: 'rgba(168, 85, 247, 0.3)',
    seniorBadgeBg: 'linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(126, 58, 242, 0.15))',
    seniorBadgeBorder: 'rgba(168, 85, 247, 0.5)',
    seniorBadgeColor: '#a855f7',
    seniorBadgeShadow: 'rgba(168, 85, 247, 0.3)',
    seniorTitleColor: '#a855f7'
};

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ü–≤–µ—Ç–æ–≤
function loadTeamColors() {
    const savedColors = localStorage.getItem('badgrules_team_colors');
    const colors = savedColors ? JSON.parse(savedColors) : DEFAULT_TEAM_COLORS;
    applyTeamColors(colors);
    return colors;
}

// –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤
function applyTeamColors(colors) {
    const root = document.documentElement;
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–∞–∂–¥—ã–π —Ü–≤–µ—Ç
    Object.keys(colors).forEach(key => {
        const cssVarName = '--' + key.replace(/([A-Z])/g, '-$1').toLowerCase();
        root.style.setProperty(cssVarName, colors[key]);
    });
    
    console.log('üé® –¶–≤–µ—Ç–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã');
}

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–æ–≤
function saveTeamColors(colors) {
    localStorage.setItem('badgrules_team_colors', JSON.stringify(colors));
    applyTeamColors(colors);
    console.log('üíæ –¶–≤–µ—Ç–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ–º–∞–Ω–¥—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
}

// –°–±—Ä–æ—Å –∫ —Ü–≤–µ—Ç–∞–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
function resetTeamColors() {
    saveTeamColors(DEFAULT_TEAM_COLORS);
    console.log('üîÑ –¶–≤–µ—Ç–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–±—Ä–æ—à–µ–Ω—ã –∫ –∑–Ω–∞—á–µ–Ω–∏—è–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é');
}

// –ó–∞–≥—Ä—É–∂–∞–µ–º —Ü–≤–µ—Ç–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
document.addEventListener('DOMContentLoaded', () => {
    loadTeamColors();
});


</script>



</body>

</html>